function _init(){"use strict";$.AdminLTE.layout={activate:function(){var e=this;e.fix(),e.fixSidebar(),$("body, html, .wrapper").css("height","auto"),$(window,".wrapper").resize(function(){e.fix(),e.fixSidebar()})},fix:function(){$(".layout-boxed > .wrapper").css("overflow","hidden");var e=$(".main-footer").outerHeight()||0,t=$(".main-header").outerHeight()+e,n=$(window).height(),i=$(".sidebar").height()||0;if($("body").hasClass("fixed"))$(".content-wrapper, .right-side").css("min-height",n-e);else{var a;n>=i?($(".content-wrapper, .right-side").css("min-height",n-t),a=n-t):($(".content-wrapper, .right-side").css("min-height",i),a=i);var r=$($.AdminLTE.options.controlSidebarOptions.selector);void 0!==r&&r.height()>a&&$(".content-wrapper, .right-side").css("min-height",r.height())}},fixSidebar:function(){if(!$("body").hasClass("fixed"))return void(void 0!==$.fn.slimScroll&&$(".sidebar").slimScroll({destroy:!0}).height("auto"));void 0===$.fn.slimScroll&&window.console&&window.console.error("Error: the fixed layout requires the slimscroll plugin!"),$.AdminLTE.options.sidebarSlimScroll&&void 0!==$.fn.slimScroll&&($(".sidebar").slimScroll({destroy:!0}).height("auto"),$(".sidebar").slimScroll({height:$(window).height()-$(".main-header").height()+"px",color:"rgba(0,0,0,0.2)",size:"3px"}))}},$.AdminLTE.pushMenu={activate:function(e){var t=$.AdminLTE.options.screenSizes;$(document).on("click",e,function(e){e.preventDefault(),$(window).width()>t.sm-1?$("body").hasClass("sidebar-collapse")?$("body").removeClass("sidebar-collapse").trigger("expanded.pushMenu"):$("body").addClass("sidebar-collapse").trigger("collapsed.pushMenu"):$("body").hasClass("sidebar-open")?$("body").removeClass("sidebar-open").removeClass("sidebar-collapse").trigger("collapsed.pushMenu"):$("body").addClass("sidebar-open").trigger("expanded.pushMenu")}),$(".content-wrapper").click(function(){$(window).width()<=t.sm-1&&$("body").hasClass("sidebar-open")&&$("body").removeClass("sidebar-open")}),($.AdminLTE.options.sidebarExpandOnHover||$("body").hasClass("fixed")&&$("body").hasClass("sidebar-mini"))&&this.expandOnHover()},expandOnHover:function(){var e=this,t=$.AdminLTE.options.screenSizes.sm-1;$(".main-sidebar").hover(function(){$("body").hasClass("sidebar-mini")&&$("body").hasClass("sidebar-collapse")&&$(window).width()>t&&e.expand()},function(){$("body").hasClass("sidebar-mini")&&$("body").hasClass("sidebar-expanded-on-hover")&&$(window).width()>t&&e.collapse()})},expand:function(){$("body").removeClass("sidebar-collapse").addClass("sidebar-expanded-on-hover")},collapse:function(){$("body").hasClass("sidebar-expanded-on-hover")&&$("body").removeClass("sidebar-expanded-on-hover").addClass("sidebar-collapse")}},$.AdminLTE.tree=function(e){var t=this,n=$.AdminLTE.options.animationSpeed;$(document).off("click",e+" li a").on("click",e+" li a",function(e){var i=$(this),a=i.next();if(a.is(".treeview-menu")&&a.is(":visible")&&!$("body").hasClass("sidebar-collapse"))a.slideUp(n,function(){a.removeClass("menu-open")}),a.parent("li").removeClass("active");else if(a.is(".treeview-menu")&&!a.is(":visible")){var r=i.parents("ul").first(),s=r.find("ul:visible").slideUp(n);s.removeClass("menu-open");var o=i.parent("li");a.slideDown(n,function(){a.addClass("menu-open"),r.find("li.active").removeClass("active"),o.addClass("active"),t.layout.fix()})}a.is(".treeview-menu")&&e.preventDefault()})},$.AdminLTE.controlSidebar={activate:function(){var e=this,t=$.AdminLTE.options.controlSidebarOptions,n=$(t.selector);$(t.toggleBtnSelector).on("click",function(i){i.preventDefault(),n.hasClass("control-sidebar-open")||$("body").hasClass("control-sidebar-open")?e.close(n,t.slide):e.open(n,t.slide)});var i=$(".control-sidebar-bg");e._fix(i),$("body").hasClass("fixed")?e._fixForFixed(n):$(".content-wrapper, .right-side").height()<n.height()&&e._fixForContent(n)},open:function(e,t){t?e.addClass("control-sidebar-open"):$("body").addClass("control-sidebar-open")},close:function(e,t){t?e.removeClass("control-sidebar-open"):$("body").removeClass("control-sidebar-open")},_fix:function(e){var t=this;if($("body").hasClass("layout-boxed")){if(e.css("position","absolute"),e.height($(".wrapper").height()),t.hasBindedResize)return;$(window).resize(function(){t._fix(e)}),t.hasBindedResize=!0}else e.css({position:"fixed",height:"auto"})},_fixForFixed:function(e){e.css({position:"fixed","max-height":"100%",overflow:"auto","padding-bottom":"50px"})},_fixForContent:function(e){$(".content-wrapper, .right-side").css("min-height",e.height())}},$.AdminLTE.boxWidget={selectors:$.AdminLTE.options.boxWidgetOptions.boxWidgetSelectors,icons:$.AdminLTE.options.boxWidgetOptions.boxWidgetIcons,animationSpeed:$.AdminLTE.options.animationSpeed,activate:function(e){var t=this;e||(e=document),$(e).on("click",t.selectors.collapse,function(e){e.preventDefault(),t.collapse($(this))}),$(e).on("click",t.selectors.remove,function(e){e.preventDefault(),t.remove($(this))})},collapse:function(e){var t=this,n=e.parents(".box").first(),i=n.find("> .box-body, > .box-footer, > form  >.box-body, > form > .box-footer");n.hasClass("collapsed-box")?(e.children(":first").removeClass(t.icons.open).addClass(t.icons.collapse),i.slideDown(t.animationSpeed,function(){n.removeClass("collapsed-box")})):(e.children(":first").removeClass(t.icons.collapse).addClass(t.icons.open),i.slideUp(t.animationSpeed,function(){n.addClass("collapsed-box")}))},remove:function(e){e.parents(".box").first().slideUp(this.animationSpeed)}}}!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";function e(){return qn.apply(null,arguments)}function t(e){return"[object Array]"===Object.prototype.toString.call(e)}function n(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function i(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function r(e,t){for(var n in t)a(t,n)&&(e[n]=t[n]);return a(t,"toString")&&(e.toString=t.toString),a(t,"valueOf")&&(e.valueOf=t.valueOf),e}function s(e,t,n,i){return Ee(e,t,n,i,!0).utc()}function o(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function l(e){return null==e._pf&&(e._pf=o()),e._pf}function c(e){if(null==e._isValid){var t=l(e);e._isValid=!(isNaN(e._d.getTime())||!(t.overflow<0)||t.empty||t.invalidMonth||t.invalidWeekday||t.nullInput||t.invalidFormat||t.userInvalidated),e._strict&&(e._isValid=e._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return e._isValid}function d(e){var t=s(NaN);return null!=e?r(l(t),e):l(t).userInvalidated=!0,t}function u(e){return void 0===e}function h(e,t){var n,i,a;if(u(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),u(t._i)||(e._i=t._i),u(t._f)||(e._f=t._f),u(t._l)||(e._l=t._l),u(t._strict)||(e._strict=t._strict),u(t._tzm)||(e._tzm=t._tzm),u(t._isUTC)||(e._isUTC=t._isUTC),u(t._offset)||(e._offset=t._offset),u(t._pf)||(e._pf=l(t)),u(t._locale)||(e._locale=t._locale),Gn.length>0)for(n in Gn)i=Gn[n],a=t[i],u(a)||(e[i]=a);return e}function f(t){h(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),!1===Kn&&(Kn=!0,e.updateOffset(this),Kn=!1)}function p(e){return e instanceof f||null!=e&&null!=e._isAMomentObject}function m(e){return 0>e?Math.ceil(e):Math.floor(e)}function g(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=m(t)),n}function y(e,t,n){var i,a=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),s=0;for(i=0;a>i;i++)(n&&e[i]!==t[i]||!n&&g(e[i])!==g(t[i]))&&s++;return s+r}function v(){}function b(e){return e?e.toLowerCase().replace("_","-"):e}function w(e){for(var t,n,i,a,r=0;r<e.length;){for(a=b(e[r]).split("-"),t=a.length,n=b(e[r+1]),n=n?n.split("-"):null;t>0;){if(i=C(a.slice(0,t).join("-")))return i;if(n&&n.length>=t&&y(a,n,!0)>=t-1)break;t--}r++}return null}function C(e){var t=null;if(!Xn[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=zn._abbr,require("./locale/"+e),x(t)}catch(e){}return Xn[e]}function x(e,t){var n;return e&&(n=u(t)?S(e):_(e,t))&&(zn=n),zn._abbr}function _(e,t){return null!==t?(t.abbr=e,Xn[e]=Xn[e]||new v,Xn[e].set(t),x(e),Xn[e]):(delete Xn[e],null)}function S(e){var n;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return zn;if(!t(e)){if(n=C(e))return n;e=[e]}return w(e)}function k(e,t){var n=e.toLowerCase();Jn[n]=Jn[n+"s"]=Jn[t]=e}function D(e){return"string"==typeof e?Jn[e]||Jn[e.toLowerCase()]:void 0}function T(e){var t,n,i={};for(n in e)a(e,n)&&(t=D(n))&&(i[t]=e[n]);return i}function E(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function A(t,n){return function(i){return null!=i?(M(this,t,i),e.updateOffset(this,n),this):N(this,t)}}function N(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function M(e,t,n){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](n)}function R(e,t){var n;if("object"==typeof e)for(n in e)this.set(n,e[n]);else if(e=D(e),E(this[e]))return this[e](t);return this}function I(e,t,n){var i=""+Math.abs(e),a=t-i.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+i}function O(e,t,n,i){var a=i;"string"==typeof i&&(a=function(){return this[i]()}),e&&(ti[e]=a),t&&(ti[t[0]]=function(){return I(a.apply(this,arguments),t[1],t[2])}),n&&(ti[n]=function(){return this.localeData().ordinal(a.apply(this,arguments),e)})}function P(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function L(e){var t,n,i=e.match(Zn);for(t=0,n=i.length;n>t;t++)ti[i[t]]?i[t]=ti[i[t]]:i[t]=P(i[t]);return function(a){var r="";for(t=0;n>t;t++)r+=i[t]instanceof Function?i[t].call(a,e):i[t];return r}}function H(e,t){return e.isValid()?(t=$(t,e.localeData()),ei[t]=ei[t]||L(t),ei[t](e)):e.localeData().invalidDate()}function $(e,t){function n(e){return t.longDateFormat(e)||e}var i=5;for(Qn.lastIndex=0;i>=0&&Qn.test(e);)e=e.replace(Qn,n),Qn.lastIndex=0,i-=1;return e}function B(e,t,n){bi[e]=E(t)?t:function(e,i){return e&&n?n:t}}function j(e,t){return a(bi,e)?bi[e](t._strict,t._locale):new RegExp(F(e))}function F(e){return Y(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,a){return t||n||i||a}))}function Y(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function U(e,t){var n,i=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(i=function(e,n){n[t]=g(e)}),n=0;n<e.length;n++)wi[e[n]]=i}function W(e,t){U(e,function(e,n,i,a){i._w=i._w||{},t(e,i._w,i,a)})}function V(e,t,n){null!=t&&a(wi,e)&&wi[e](t,n._a,n,e)}function q(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function z(e,n){return t(this._months)?this._months[e.month()]:this._months[Ni.test(n)?"format":"standalone"][e.month()]}function G(e,n){return t(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Ni.test(n)?"format":"standalone"][e.month()]}function K(e,t,n){var i,a,r;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(a=s([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(r="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[i]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}}function X(e,t){var n;return e.isValid()?"string"==typeof t&&"number"!=typeof(t=e.localeData().monthsParse(t))?e:(n=Math.min(e.date(),q(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e):e}function J(t){return null!=t?(X(this,t),e.updateOffset(this,!0),this):N(this,"Month")}function Z(){return q(this.year(),this.month())}function Q(e){return this._monthsParseExact?(a(this,"_monthsRegex")||te.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex}function ee(e){return this._monthsParseExact?(a(this,"_monthsRegex")||te.call(this),e?this._monthsStrictRegex:this._monthsRegex):this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex}function te(){function e(e,t){return t.length-e.length}var t,n,i=[],a=[],r=[];for(t=0;12>t;t++)n=s([2e3,t]),i.push(this.monthsShort(n,"")),a.push(this.months(n,"")),r.push(this.months(n,"")),r.push(this.monthsShort(n,""));for(i.sort(e),a.sort(e),r.sort(e),t=0;12>t;t++)i[t]=Y(i[t]),a[t]=Y(a[t]),r[t]=Y(r[t]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+a.join("|")+")$","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")$","i")}function ne(e){var t,n=e._a;return n&&-2===l(e).overflow&&(t=n[xi]<0||n[xi]>11?xi:n[_i]<1||n[_i]>q(n[Ci],n[xi])?_i:n[Si]<0||n[Si]>24||24===n[Si]&&(0!==n[ki]||0!==n[Di]||0!==n[Ti])?Si:n[ki]<0||n[ki]>59?ki:n[Di]<0||n[Di]>59?Di:n[Ti]<0||n[Ti]>999?Ti:-1,l(e)._overflowDayOfYear&&(Ci>t||t>_i)&&(t=_i),l(e)._overflowWeeks&&-1===t&&(t=Ei),l(e)._overflowWeekday&&-1===t&&(t=Ai),l(e).overflow=t),e}function ie(t){!1===e.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn}function ae(e,t){var n=!0;return r(function(){return n&&(ie(e+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),n=!1),t.apply(this,arguments)},t)}function re(e,t){Pi[e]||(ie(t),Pi[e]=!0)}function se(e){var t,n,i,a,r,s,o=e._i,c=Li.exec(o)||Hi.exec(o);if(c){for(l(e).iso=!0,t=0,n=Bi.length;n>t;t++)if(Bi[t][1].exec(c[1])){a=Bi[t][0],i=!1!==Bi[t][2];break}if(null==a)return void(e._isValid=!1);if(c[3]){for(t=0,n=ji.length;n>t;t++)if(ji[t][1].exec(c[3])){r=(c[2]||" ")+ji[t][0];break}if(null==r)return void(e._isValid=!1)}if(!i&&null!=r)return void(e._isValid=!1);if(c[4]){if(!$i.exec(c[4]))return void(e._isValid=!1);s="Z"}e._f=a+(r||"")+(s||""),Ce(e)}else e._isValid=!1}function oe(t){var n=Fi.exec(t._i);return null!==n?void(t._d=new Date(+n[1])):(se(t),void(!1===t._isValid&&(delete t._isValid,e.createFromInputFallback(t))))}function le(e,t,n,i,a,r,s){var o=new Date(e,t,n,i,a,r,s);return 100>e&&e>=0&&isFinite(o.getFullYear())&&o.setFullYear(e),o}function ce(e){var t=new Date(Date.UTC.apply(null,arguments));return 100>e&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function de(e){return ue(e)?366:365}function ue(e){return e%4==0&&e%100!=0||e%400==0}function he(){return ue(this.year())}function fe(e,t,n){var i=7+t-n;return-(7+ce(e,0,i).getUTCDay()-t)%7+i-1}function pe(e,t,n,i,a){var r,s,o=(7+n-i)%7,l=fe(e,i,a),c=1+7*(t-1)+o+l;return 0>=c?(r=e-1,s=de(r)+c):c>de(e)?(r=e+1,s=c-de(e)):(r=e,s=c),{year:r,dayOfYear:s}}function me(e,t,n){var i,a,r=fe(e.year(),t,n),s=Math.floor((e.dayOfYear()-r-1)/7)+1;return 1>s?(a=e.year()-1,i=s+ge(a,t,n)):s>ge(e.year(),t,n)?(i=s-ge(e.year(),t,n),a=e.year()+1):(a=e.year(),i=s),{week:i,year:a}}function ge(e,t,n){var i=fe(e,t,n),a=fe(e+1,t,n);return(de(e)-i+a)/7}function ye(e,t,n){return null!=e?e:null!=t?t:n}function ve(t){var n=new Date(e.now());return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function be(e){var t,n,i,a,r=[];if(!e._d){for(i=ve(e),e._w&&null==e._a[_i]&&null==e._a[xi]&&we(e),e._dayOfYear&&(a=ye(e._a[Ci],i[Ci]),e._dayOfYear>de(a)&&(l(e)._overflowDayOfYear=!0),n=ce(a,0,e._dayOfYear),e._a[xi]=n.getUTCMonth(),e._a[_i]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=r[t]=i[t];for(;7>t;t++)e._a[t]=r[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Si]&&0===e._a[ki]&&0===e._a[Di]&&0===e._a[Ti]&&(e._nextDay=!0,e._a[Si]=0),e._d=(e._useUTC?ce:le).apply(null,r),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Si]=24)}}function we(e){var t,n,i,a,r,s,o,c;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(r=1,s=4,n=ye(t.GG,e._a[Ci],me(Ae(),1,4).year),i=ye(t.W,1),(1>(a=ye(t.E,1))||a>7)&&(c=!0)):(r=e._locale._week.dow,s=e._locale._week.doy,n=ye(t.gg,e._a[Ci],me(Ae(),r,s).year),i=ye(t.w,1),null!=t.d?(0>(a=t.d)||a>6)&&(c=!0):null!=t.e?(a=t.e+r,(t.e<0||t.e>6)&&(c=!0)):a=r),1>i||i>ge(n,r,s)?l(e)._overflowWeeks=!0:null!=c?l(e)._overflowWeekday=!0:(o=pe(n,i,a,r,s),e._a[Ci]=o.year,e._dayOfYear=o.dayOfYear)}function Ce(t){if(t._f===e.ISO_8601)return void se(t);t._a=[],l(t).empty=!0;var n,i,a,r,s,o=""+t._i,c=o.length,d=0;for(a=$(t._f,t._locale).match(Zn)||[],n=0;n<a.length;n++)r=a[n],i=(o.match(j(r,t))||[])[0],i&&(s=o.substr(0,o.indexOf(i)),s.length>0&&l(t).unusedInput.push(s),o=o.slice(o.indexOf(i)+i.length),d+=i.length),ti[r]?(i?l(t).empty=!1:l(t).unusedTokens.push(r),V(r,i,t)):t._strict&&!i&&l(t).unusedTokens.push(r);l(t).charsLeftOver=c-d,o.length>0&&l(t).unusedInput.push(o),!0===l(t).bigHour&&t._a[Si]<=12&&t._a[Si]>0&&(l(t).bigHour=void 0),t._a[Si]=xe(t._locale,t._a[Si],t._meridiem),be(t),ne(t)}function xe(e,t,n){var i;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(i=e.isPM(n),i&&12>t&&(t+=12),i||12!==t||(t=0),t):t}function _e(e){var t,n,i,a,s;if(0===e._f.length)return l(e).invalidFormat=!0,void(e._d=new Date(NaN));for(a=0;a<e._f.length;a++)s=0,t=h({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[a],Ce(t),c(t)&&(s+=l(t).charsLeftOver,s+=10*l(t).unusedTokens.length,l(t).score=s,(null==i||i>s)&&(i=s,n=t));r(e,n||t)}function Se(e){if(!e._d){var t=T(e._i);e._a=i([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),be(e)}}function ke(e){var t=new f(ne(De(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function De(e){var i=e._i,a=e._f;return e._locale=e._locale||S(e._l),null===i||void 0===a&&""===i?d({nullInput:!0}):("string"==typeof i&&(e._i=i=e._locale.preparse(i)),p(i)?new f(ne(i)):(t(a)?_e(e):a?Ce(e):n(i)?e._d=i:Te(e),c(e)||(e._d=null),e))}function Te(a){var r=a._i;void 0===r?a._d=new Date(e.now()):n(r)?a._d=new Date(+r):"string"==typeof r?oe(a):t(r)?(a._a=i(r.slice(0),function(e){return parseInt(e,10)}),be(a)):"object"==typeof r?Se(a):"number"==typeof r?a._d=new Date(r):e.createFromInputFallback(a)}function Ee(e,t,n,i,a){var r={};return"boolean"==typeof n&&(i=n,n=void 0),r._isAMomentObject=!0,r._useUTC=r._isUTC=a,r._l=n,r._i=e,r._f=t,r._strict=i,ke(r)}function Ae(e,t,n,i){return Ee(e,t,n,i,!1)}function Ne(e,n){var i,a;if(1===n.length&&t(n[0])&&(n=n[0]),!n.length)return Ae();for(i=n[0],a=1;a<n.length;++a)(!n[a].isValid()||n[a][e](i))&&(i=n[a]);return i}function Me(){return Ne("isBefore",[].slice.call(arguments,0))}function Re(){return Ne("isAfter",[].slice.call(arguments,0))}function Ie(e){var t=T(e),n=t.year||0,i=t.quarter||0,a=t.month||0,r=t.week||0,s=t.day||0,o=t.hour||0,l=t.minute||0,c=t.second||0,d=t.millisecond||0;this._milliseconds=+d+1e3*c+6e4*l+36e5*o,this._days=+s+7*r,this._months=+a+3*i+12*n,this._data={},this._locale=S(),this._bubble()}function Oe(e){return e instanceof Ie}function Pe(e,t){O(e,0,0,function(){var e=this.utcOffset(),n="+";return 0>e&&(e=-e,n="-"),n+I(~~(e/60),2)+t+I(~~e%60,2)})}function Le(e,t){var n=(t||"").match(e)||[],i=n[n.length-1]||[],a=(i+"").match(qi)||["-",0,0],r=60*a[1]+g(a[2]);return"+"===a[0]?r:-r}function He(t,i){var a,r;return i._isUTC?(a=i.clone(),r=(p(t)||n(t)?+t:+Ae(t))-+a,a._d.setTime(+a._d+r),e.updateOffset(a,!1),a):Ae(t).local()}function $e(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Be(t,n){var i,a=this._offset||0;return this.isValid()?null!=t?("string"==typeof t?t=Le(gi,t):Math.abs(t)<16&&(t*=60),!this._isUTC&&n&&(i=$e(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),a!==t&&(!n||this._changeInProgress?tt(this,Xe(t-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?a:$e(this):null!=t?this:NaN}function je(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Fe(e){return this.utcOffset(0,e)}function Ye(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract($e(this),"m")),this}function Ue(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Le(mi,this._i)),this}function We(e){return!!this.isValid()&&(e=e?Ae(e).utcOffset():0,(this.utcOffset()-e)%60==0)}function Ve(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function qe(){if(!u(this._isDSTShifted))return this._isDSTShifted;var e={};if(h(e,this),e=De(e),e._a){var t=e._isUTC?s(e._a):Ae(e._a);this._isDSTShifted=this.isValid()&&y(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function ze(){return!!this.isValid()&&!this._isUTC}function Ge(){return!!this.isValid()&&this._isUTC}function Ke(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Xe(e,t){var n,i,r,s=e,o=null;return Oe(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(s={},t?s[t]=e:s.milliseconds=e):(o=zi.exec(e))?(n="-"===o[1]?-1:1,s={y:0,d:g(o[_i])*n,h:g(o[Si])*n,m:g(o[ki])*n,s:g(o[Di])*n,ms:g(o[Ti])*n}):(o=Gi.exec(e))?(n="-"===o[1]?-1:1,s={y:Je(o[2],n),M:Je(o[3],n),d:Je(o[4],n),h:Je(o[5],n),m:Je(o[6],n),s:Je(o[7],n),w:Je(o[8],n)}):null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(r=Qe(Ae(s.from),Ae(s.to)),s={},s.ms=r.milliseconds,s.M=r.months),i=new Ie(s),Oe(e)&&a(e,"_locale")&&(i._locale=e._locale),i}function Je(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Ze(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Qe(e,t){var n;return e.isValid()&&t.isValid()?(t=He(t,e),e.isBefore(t)?n=Ze(e,t):(n=Ze(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function et(e,t){return function(n,i){var a,r;return null===i||isNaN(+i)||(re(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),r=n,n=i,i=r),n="string"==typeof n?+n:n,a=Xe(n,i),tt(this,a,e),this}}function tt(t,n,i,a){var r=n._milliseconds,s=n._days,o=n._months;t.isValid()&&(a=null==a||a,r&&t._d.setTime(+t._d+r*i),s&&M(t,"Date",N(t,"Date")+s*i),o&&X(t,N(t,"Month")+o*i),a&&e.updateOffset(t,s||o))}function nt(e,t){var n=e||Ae(),i=He(n,this).startOf("day"),a=this.diff(i,"days",!0),r=-6>a?"sameElse":-1>a?"lastWeek":0>a?"lastDay":1>a?"sameDay":2>a?"nextDay":7>a?"nextWeek":"sameElse",s=t&&(E(t[r])?t[r]():t[r]);return this.format(s||this.localeData().calendar(r,this,Ae(n)))}function it(){return new f(this)}function at(e,t){var n=p(e)?e:Ae(e);return!(!this.isValid()||!n.isValid())&&(t=D(u(t)?"millisecond":t),"millisecond"===t?+this>+n:+n<+this.clone().startOf(t))}function rt(e,t){var n=p(e)?e:Ae(e);return!(!this.isValid()||!n.isValid())&&(t=D(u(t)?"millisecond":t),"millisecond"===t?+n>+this:+this.clone().endOf(t)<+n)}function st(e,t,n){return this.isAfter(e,n)&&this.isBefore(t,n)}function ot(e,t){var n,i=p(e)?e:Ae(e);return!(!this.isValid()||!i.isValid())&&(t=D(t||"millisecond"),"millisecond"===t?+this==+i:(n=+i,+this.clone().startOf(t)<=n&&n<=+this.clone().endOf(t)))}function lt(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function ct(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function dt(e,t,n){var i,a,r,s;return this.isValid()?(i=He(e,this),i.isValid()?(a=6e4*(i.utcOffset()-this.utcOffset()),t=D(t),"year"===t||"month"===t||"quarter"===t?(s=ut(this,i),"quarter"===t?s/=3:"year"===t&&(s/=12)):(r=this-i,s="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-a)/864e5:"week"===t?(r-a)/6048e5:r),n?s:m(s)):NaN):NaN}function ut(e,t){var n,i,a=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(a,"months");return 0>t-r?(n=e.clone().add(a-1,"months"),i=(t-r)/(r-n)):(n=e.clone().add(a+1,"months"),i=(t-r)/(n-r)),-(a+i)}function ht(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ft(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?E(Date.prototype.toISOString)?this.toDate().toISOString():H(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):H(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function pt(t){var n=H(this,t||e.defaultFormat);return this.localeData().postformat(n)}function mt(e,t){return this.isValid()&&(p(e)&&e.isValid()||Ae(e).isValid())?Xe({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function gt(e){return this.from(Ae(),e)}function yt(e,t){return this.isValid()&&(p(e)&&e.isValid()||Ae(e).isValid())?Xe({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function vt(e){return this.to(Ae(),e)}function bt(e){var t;return void 0===e?this._locale._abbr:(t=S(e),null!=t&&(this._locale=t),this)}function wt(){return this._locale}function Ct(e){switch(e=D(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function xt(e){return e=D(e),void 0===e||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")}function _t(){return+this._d-6e4*(this._offset||0)}function St(){return Math.floor(+this/1e3)}function kt(){return this._offset?new Date(+this):this._d}function Dt(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Tt(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Et(){return this.isValid()?this.toISOString():"null"}function At(){return c(this)}function Nt(){return r({},l(this))}function Mt(){return l(this).overflow}function Rt(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function It(e,t){O(0,[e,e.length],0,t)}function Ot(e){return $t.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Pt(e){return $t.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Lt(){return ge(this.year(),1,4)}function Ht(){var e=this.localeData()._week;return ge(this.year(),e.dow,e.doy)}function $t(e,t,n,i,a){var r;return null==e?me(this,i,a).year:(r=ge(e,i,a),t>r&&(t=r),Bt.call(this,e,t,n,i,a))}function Bt(e,t,n,i,a){var r=pe(e,t,n,i,a),s=ce(r.year,0,r.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}function jt(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Ft(e){return me(e,this._week.dow,this._week.doy).week}function Yt(){return this._week.dow}function Ut(){return this._week.doy}function Wt(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Vt(e){var t=me(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function qt(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function zt(e,n){return t(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(n)?"format":"standalone"][e.day()]}function Gt(e){return this._weekdaysShort[e.day()]}function Kt(e){return this._weekdaysMin[e.day()]}function Xt(e,t,n){var i,a,r;for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;7>i;i++){if(a=Ae([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(a,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(a,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(a,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(r="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[i]=new RegExp(r.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}}function Jt(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=qt(e,this.localeData()),this.add(e-t,"d")):t}function Zt(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Qt(e){return this.isValid()?null==e?this.day()||7:this.day(this.day()%7?e:e-7):null!=e?this:NaN}function en(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function tn(){return this.hours()%12||12}function nn(e,t){O(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function an(e,t){return t._meridiemParse}function rn(e){return"p"===(e+"").toLowerCase().charAt(0)}function sn(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function on(e,t){t[Ti]=g(1e3*("0."+e))}function ln(){return this._isUTC?"UTC":""}function cn(){return this._isUTC?"Coordinated Universal Time":""}function dn(e){return Ae(1e3*e)}function un(){return Ae.apply(null,arguments).parseZone()}function hn(e,t,n){var i=this._calendar[e];return E(i)?i.call(t,n):i}function fn(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function pn(){return this._invalidDate}function mn(e){return this._ordinal.replace("%d",e)}function gn(e){return e}function yn(e,t,n,i){var a=this._relativeTime[n];return E(a)?a(e,t,n,i):a.replace(/%d/i,e)}function vn(e,t){var n=this._relativeTime[e>0?"future":"past"];return E(n)?n(t):n.replace(/%s/i,t)}function bn(e){var t,n;for(n in e)t=e[n],E(t)?this[n]=t:this["_"+n]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function wn(e,t,n,i){var a=S(),r=s().set(i,t);return a[n](r,e)}function Cn(e,t,n,i,a){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return wn(e,t,n,a);var r,s=[];for(r=0;i>r;r++)s[r]=wn(e,r,n,a);return s}function xn(e,t){return Cn(e,t,"months",12,"month")}function _n(e,t){return Cn(e,t,"monthsShort",12,"month")}function Sn(e,t){return Cn(e,t,"weekdays",7,"day")}function kn(e,t){return Cn(e,t,"weekdaysShort",7,"day")}function Dn(e,t){return Cn(e,t,"weekdaysMin",7,"day")}function Tn(){var e=this._data;return this._milliseconds=ga(this._milliseconds),this._days=ga(this._days),this._months=ga(this._months),e.milliseconds=ga(e.milliseconds),e.seconds=ga(e.seconds),e.minutes=ga(e.minutes),e.hours=ga(e.hours),e.months=ga(e.months),e.years=ga(e.years),this}function En(e,t,n,i){var a=Xe(t,n);return e._milliseconds+=i*a._milliseconds,e._days+=i*a._days,e._months+=i*a._months,e._bubble()}function An(e,t){return En(this,e,t,1)}function Nn(e,t){return En(this,e,t,-1)}function Mn(e){return 0>e?Math.floor(e):Math.ceil(e)}function Rn(){var e,t,n,i,a,r=this._milliseconds,s=this._days,o=this._months,l=this._data;return r>=0&&s>=0&&o>=0||0>=r&&0>=s&&0>=o||(r+=864e5*Mn(On(o)+s),s=0,o=0),l.milliseconds=r%1e3,e=m(r/1e3),l.seconds=e%60,t=m(e/60),l.minutes=t%60,n=m(t/60),l.hours=n%24,s+=m(n/24),a=m(In(s)),o+=a,s-=Mn(On(a)),i=m(o/12),o%=12,l.days=s,l.months=o,l.years=i,this}function In(e){return 4800*e/146097}function On(e){return 146097*e/4800}function Pn(e){var t,n,i=this._milliseconds;if("month"===(e=D(e))||"year"===e)return t=this._days+i/864e5,n=this._months+In(t),"month"===e?n:n/12;switch(t=this._days+Math.round(On(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":
return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}}function Ln(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*g(this._months/12)}function Hn(e){return function(){return this.as(e)}}function $n(e){return e=D(e),this[e+"s"]()}function Bn(e){return function(){return this._data[e]}}function jn(){return m(this.days()/7)}function Fn(e,t,n,i,a){return a.relativeTime(t||1,!!n,e,i)}function Yn(e,t,n){var i=Xe(e).abs(),a=Ra(i.as("s")),r=Ra(i.as("m")),s=Ra(i.as("h")),o=Ra(i.as("d")),l=Ra(i.as("M")),c=Ra(i.as("y")),d=a<Ia.s&&["s",a]||1>=r&&["m"]||r<Ia.m&&["mm",r]||1>=s&&["h"]||s<Ia.h&&["hh",s]||1>=o&&["d"]||o<Ia.d&&["dd",o]||1>=l&&["M"]||l<Ia.M&&["MM",l]||1>=c&&["y"]||["yy",c];return d[2]=t,d[3]=+e>0,d[4]=n,Fn.apply(null,d)}function Un(e,t){return void 0!==Ia[e]&&(void 0===t?Ia[e]:(Ia[e]=t,!0))}function Wn(e){var t=this.localeData(),n=Yn(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function Vn(){var e,t,n,i=Oa(this._milliseconds)/1e3,a=Oa(this._days),r=Oa(this._months);e=m(i/60),t=m(e/60),i%=60,e%=60,n=m(r/12),r%=12;var s=n,o=r,l=a,c=t,d=e,u=i,h=this.asSeconds();return h?(0>h?"-":"")+"P"+(s?s+"Y":"")+(o?o+"M":"")+(l?l+"D":"")+(c||d||u?"T":"")+(c?c+"H":"")+(d?d+"M":"")+(u?u+"S":""):"P0D"}var qn,zn,Gn=e.momentProperties=[],Kn=!1,Xn={},Jn={},Zn=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Qn=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ei={},ti={},ni=/\d/,ii=/\d\d/,ai=/\d{3}/,ri=/\d{4}/,si=/[+-]?\d{6}/,oi=/\d\d?/,li=/\d\d\d\d?/,ci=/\d\d\d\d\d\d?/,di=/\d{1,3}/,ui=/\d{1,4}/,hi=/[+-]?\d{1,6}/,fi=/\d+/,pi=/[+-]?\d+/,mi=/Z|[+-]\d\d:?\d\d/gi,gi=/Z|[+-]\d\d(?::?\d\d)?/gi,yi=/[+-]?\d+(\.\d{1,3})?/,vi=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,bi={},wi={},Ci=0,xi=1,_i=2,Si=3,ki=4,Di=5,Ti=6,Ei=7,Ai=8;O("M",["MM",2],"Mo",function(){return this.month()+1}),O("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),O("MMMM",0,0,function(e){return this.localeData().months(this,e)}),k("month","M"),B("M",oi),B("MM",oi,ii),B("MMM",function(e,t){return t.monthsShortRegex(e)}),B("MMMM",function(e,t){return t.monthsRegex(e)}),U(["M","MM"],function(e,t){t[xi]=g(e)-1}),U(["MMM","MMMM"],function(e,t,n,i){var a=n._locale.monthsParse(e,i,n._strict);null!=a?t[xi]=a:l(n).invalidMonth=e});var Ni=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,Mi="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ri="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ii=vi,Oi=vi,Pi={};e.suppressDeprecationWarnings=!1;var Li=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Hi=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,$i=/Z|[+-]\d\d(?::?\d\d)?/,Bi=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],ji=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Fi=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=ae("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),O("Y",0,0,function(){var e=this.year();return 9999>=e?""+e:"+"+e}),O(0,["YY",2],0,function(){return this.year()%100}),O(0,["YYYY",4],0,"year"),O(0,["YYYYY",5],0,"year"),O(0,["YYYYYY",6,!0],0,"year"),k("year","y"),B("Y",pi),B("YY",oi,ii),B("YYYY",ui,ri),B("YYYYY",hi,si),B("YYYYYY",hi,si),U(["YYYYY","YYYYYY"],Ci),U("YYYY",function(t,n){n[Ci]=2===t.length?e.parseTwoDigitYear(t):g(t)}),U("YY",function(t,n){n[Ci]=e.parseTwoDigitYear(t)}),U("Y",function(e,t){t[Ci]=parseInt(e,10)}),e.parseTwoDigitYear=function(e){return g(e)+(g(e)>68?1900:2e3)};var Yi=A("FullYear",!1);e.ISO_8601=function(){};var Ui=ae("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var e=Ae.apply(null,arguments);return this.isValid()&&e.isValid()?this>e?this:e:d()}),Wi=ae("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var e=Ae.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:d()}),Vi=function(){return Date.now?Date.now():+new Date};Pe("Z",":"),Pe("ZZ",""),B("Z",gi),B("ZZ",gi),U(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Le(gi,e)});var qi=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var zi=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,Gi=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Xe.fn=Ie.prototype;var Ki=et(1,"add"),Xi=et(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Ji=ae("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});O(0,["gg",2],0,function(){return this.weekYear()%100}),O(0,["GG",2],0,function(){return this.isoWeekYear()%100}),It("gggg","weekYear"),It("ggggg","weekYear"),It("GGGG","isoWeekYear"),It("GGGGG","isoWeekYear"),k("weekYear","gg"),k("isoWeekYear","GG"),B("G",pi),B("g",pi),B("GG",oi,ii),B("gg",oi,ii),B("GGGG",ui,ri),B("gggg",ui,ri),B("GGGGG",hi,si),B("ggggg",hi,si),W(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=g(e)}),W(["gg","GG"],function(t,n,i,a){n[a]=e.parseTwoDigitYear(t)}),O("Q",0,"Qo","quarter"),k("quarter","Q"),B("Q",ni),U("Q",function(e,t){t[xi]=3*(g(e)-1)}),O("w",["ww",2],"wo","week"),O("W",["WW",2],"Wo","isoWeek"),k("week","w"),k("isoWeek","W"),B("w",oi),B("ww",oi,ii),B("W",oi),B("WW",oi,ii),W(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=g(e)});var Zi={dow:0,doy:6};O("D",["DD",2],"Do","date"),k("date","D"),B("D",oi),B("DD",oi,ii),B("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),U(["D","DD"],_i),U("Do",function(e,t){t[_i]=g(e.match(oi)[0],10)});var Qi=A("Date",!0);O("d",0,"do","day"),O("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),O("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),O("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),O("e",0,0,"weekday"),O("E",0,0,"isoWeekday"),k("day","d"),k("weekday","e"),k("isoWeekday","E"),B("d",oi),B("e",oi),B("E",oi),B("dd",vi),B("ddd",vi),B("dddd",vi),W(["dd","ddd","dddd"],function(e,t,n,i){var a=n._locale.weekdaysParse(e,i,n._strict);null!=a?t.d=a:l(n).invalidWeekday=e}),W(["d","e","E"],function(e,t,n,i){t[i]=g(e)});var ea="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ta="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),na="Su_Mo_Tu_We_Th_Fr_Sa".split("_");O("DDD",["DDDD",3],"DDDo","dayOfYear"),k("dayOfYear","DDD"),B("DDD",di),B("DDDD",ai),U(["DDD","DDDD"],function(e,t,n){n._dayOfYear=g(e)}),O("H",["HH",2],0,"hour"),O("h",["hh",2],0,tn),O("hmm",0,0,function(){return""+tn.apply(this)+I(this.minutes(),2)}),O("hmmss",0,0,function(){return""+tn.apply(this)+I(this.minutes(),2)+I(this.seconds(),2)}),O("Hmm",0,0,function(){return""+this.hours()+I(this.minutes(),2)}),O("Hmmss",0,0,function(){return""+this.hours()+I(this.minutes(),2)+I(this.seconds(),2)}),nn("a",!0),nn("A",!1),k("hour","h"),B("a",an),B("A",an),B("H",oi),B("h",oi),B("HH",oi,ii),B("hh",oi,ii),B("hmm",li),B("hmmss",ci),B("Hmm",li),B("Hmmss",ci),U(["H","HH"],Si),U(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),U(["h","hh"],function(e,t,n){t[Si]=g(e),l(n).bigHour=!0}),U("hmm",function(e,t,n){var i=e.length-2;t[Si]=g(e.substr(0,i)),t[ki]=g(e.substr(i)),l(n).bigHour=!0}),U("hmmss",function(e,t,n){var i=e.length-4,a=e.length-2;t[Si]=g(e.substr(0,i)),t[ki]=g(e.substr(i,2)),t[Di]=g(e.substr(a)),l(n).bigHour=!0}),U("Hmm",function(e,t,n){var i=e.length-2;t[Si]=g(e.substr(0,i)),t[ki]=g(e.substr(i))}),U("Hmmss",function(e,t,n){var i=e.length-4,a=e.length-2;t[Si]=g(e.substr(0,i)),t[ki]=g(e.substr(i,2)),t[Di]=g(e.substr(a))});var ia=/[ap]\.?m?\.?/i,aa=A("Hours",!0);O("m",["mm",2],0,"minute"),k("minute","m"),B("m",oi),B("mm",oi,ii),U(["m","mm"],ki);var ra=A("Minutes",!1);O("s",["ss",2],0,"second"),k("second","s"),B("s",oi),B("ss",oi,ii),U(["s","ss"],Di);var sa=A("Seconds",!1);O("S",0,0,function(){return~~(this.millisecond()/100)}),O(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),O(0,["SSS",3],0,"millisecond"),O(0,["SSSS",4],0,function(){return 10*this.millisecond()}),O(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),O(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),O(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),O(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),O(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),k("millisecond","ms"),B("S",di,ni),B("SS",di,ii),B("SSS",di,ai);var oa;for(oa="SSSS";oa.length<=9;oa+="S")B(oa,fi);for(oa="S";oa.length<=9;oa+="S")U(oa,on);var la=A("Milliseconds",!1);O("z",0,0,"zoneAbbr"),O("zz",0,0,"zoneName");var ca=f.prototype;ca.add=Ki,ca.calendar=nt,ca.clone=it,ca.diff=dt,ca.endOf=xt,ca.format=pt,ca.from=mt,ca.fromNow=gt,ca.to=yt,ca.toNow=vt,ca.get=R,ca.invalidAt=Mt,ca.isAfter=at,ca.isBefore=rt,ca.isBetween=st,ca.isSame=ot,ca.isSameOrAfter=lt,ca.isSameOrBefore=ct,ca.isValid=At,ca.lang=Ji,ca.locale=bt,ca.localeData=wt,ca.max=Wi,ca.min=Ui,ca.parsingFlags=Nt,ca.set=R,ca.startOf=Ct,ca.subtract=Xi,ca.toArray=Dt,ca.toObject=Tt,ca.toDate=kt,ca.toISOString=ft,ca.toJSON=Et,ca.toString=ht,ca.unix=St,ca.valueOf=_t,ca.creationData=Rt,ca.year=Yi,ca.isLeapYear=he,ca.weekYear=Ot,ca.isoWeekYear=Pt,ca.quarter=ca.quarters=jt,ca.month=J,ca.daysInMonth=Z,ca.week=ca.weeks=Wt,ca.isoWeek=ca.isoWeeks=Vt,ca.weeksInYear=Ht,ca.isoWeeksInYear=Lt,ca.date=Qi,ca.day=ca.days=Jt,ca.weekday=Zt,ca.isoWeekday=Qt,ca.dayOfYear=en,ca.hour=ca.hours=aa,ca.minute=ca.minutes=ra,ca.second=ca.seconds=sa,ca.millisecond=ca.milliseconds=la,ca.utcOffset=Be,ca.utc=Fe,ca.local=Ye,ca.parseZone=Ue,ca.hasAlignedHourOffset=We,ca.isDST=Ve,ca.isDSTShifted=qe,ca.isLocal=ze,ca.isUtcOffset=Ge,ca.isUtc=Ke,ca.isUTC=Ke,ca.zoneAbbr=ln,ca.zoneName=cn,ca.dates=ae("dates accessor is deprecated. Use date instead.",Qi),ca.months=ae("months accessor is deprecated. Use month instead",J),ca.years=ae("years accessor is deprecated. Use year instead",Yi),ca.zone=ae("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",je);var da=ca,ua={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},ha={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},fa=/\d{1,2}/,pa={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ma=v.prototype;ma._calendar=ua,ma.calendar=hn,ma._longDateFormat=ha,ma.longDateFormat=fn,ma._invalidDate="Invalid date",ma.invalidDate=pn,ma._ordinal="%d",ma.ordinal=mn,ma._ordinalParse=fa,ma.preparse=gn,ma.postformat=gn,ma._relativeTime=pa,ma.relativeTime=yn,ma.pastFuture=vn,ma.set=bn,ma.months=z,ma._months=Mi,ma.monthsShort=G,ma._monthsShort=Ri,ma.monthsParse=K,ma._monthsRegex=Oi,ma.monthsRegex=ee,ma._monthsShortRegex=Ii,ma.monthsShortRegex=Q,ma.week=Ft,ma._week=Zi,ma.firstDayOfYear=Ut,ma.firstDayOfWeek=Yt,ma.weekdays=zt,ma._weekdays=ea,ma.weekdaysMin=Kt,ma._weekdaysMin=na,ma.weekdaysShort=Gt,ma._weekdaysShort=ta,ma.weekdaysParse=Xt,ma.isPM=rn,ma._meridiemParse=ia,ma.meridiem=sn,x("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===g(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),e.lang=ae("moment.lang is deprecated. Use moment.locale instead.",x),e.langData=ae("moment.langData is deprecated. Use moment.localeData instead.",S);var ga=Math.abs,ya=Hn("ms"),va=Hn("s"),ba=Hn("m"),wa=Hn("h"),Ca=Hn("d"),xa=Hn("w"),_a=Hn("M"),Sa=Hn("y"),ka=Bn("milliseconds"),Da=Bn("seconds"),Ta=Bn("minutes"),Ea=Bn("hours"),Aa=Bn("days"),Na=Bn("months"),Ma=Bn("years"),Ra=Math.round,Ia={s:45,m:45,h:22,d:26,M:11},Oa=Math.abs,Pa=Ie.prototype;return Pa.abs=Tn,Pa.add=An,Pa.subtract=Nn,Pa.as=Pn,Pa.asMilliseconds=ya,Pa.asSeconds=va,Pa.asMinutes=ba,Pa.asHours=wa,Pa.asDays=Ca,Pa.asWeeks=xa,Pa.asMonths=_a,Pa.asYears=Sa,Pa.valueOf=Ln,Pa._bubble=Rn,Pa.get=$n,Pa.milliseconds=ka,Pa.seconds=Da,Pa.minutes=Ta,Pa.hours=Ea,Pa.days=Aa,Pa.weeks=jn,Pa.months=Na,Pa.years=Ma,Pa.humanize=Wn,Pa.toISOString=Vn,Pa.toString=Vn,Pa.toJSON=Vn,Pa.locale=bt,Pa.localeData=wt,Pa.toIsoString=ae("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Vn),Pa.lang=Ji,O("X",0,0,"unix"),O("x",0,0,"valueOf"),B("x",pi),B("X",yi),U("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),U("x",function(e,t,n){n._d=new Date(g(e))}),e.version="2.11.2",function(e){qn=e}(Ae),e.fn=da,e.min=Me,e.max=Re,e.now=Vi,e.utc=s,e.unix=dn,e.months=xn,e.isDate=n,e.locale=x,e.invalid=d,e.duration=Xe,e.isMoment=p,e.weekdays=Sn,e.parseZone=un,e.localeData=S,e.isDuration=Oe,e.monthsShort=_n,e.weekdaysMin=Dn,e.defineLocale=_,e.weekdaysShort=kn,e.normalizeUnits=D,e.relativeTimeThreshold=Un,e.prototype=da,e}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){var t=function(){if(e&&e.fn&&e.fn.select2&&e.fn.select2.amd)var t=e.fn.select2.amd;var t;return function(){if(!t||!t.requirejs){t?n=t:t={};var e,n,i;!function(t){function a(e,t){return w.call(e,t)}function r(e,t){var n,i,a,r,s,o,l,c,d,u,h,f=t&&t.split("/"),p=v.map,m=p&&p["*"]||{};if(e&&"."===e.charAt(0))if(t){for(e=e.split("/"),s=e.length-1,v.nodeIdCompat&&x.test(e[s])&&(e[s]=e[s].replace(x,"")),e=f.slice(0,f.length-1).concat(e),d=0;d<e.length;d+=1)if("."===(h=e[d]))e.splice(d,1),d-=1;else if(".."===h){if(1===d&&(".."===e[2]||".."===e[0]))break;d>0&&(e.splice(d-1,2),d-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((f||m)&&p){for(n=e.split("/"),d=n.length;d>0;d-=1){if(i=n.slice(0,d).join("/"),f)for(u=f.length;u>0;u-=1)if((a=p[f.slice(0,u).join("/")])&&(a=a[i])){r=a,o=d;break}if(r)break;!l&&m&&m[i]&&(l=m[i],c=d)}!r&&l&&(r=l,o=c),r&&(n.splice(0,o,r),e=n.join("/"))}return e}function s(e,n){return function(){var i=C.call(arguments,0);return"string"!=typeof i[0]&&1===i.length&&i.push(null),f.apply(t,i.concat([e,n]))}}function o(e){return function(t){return r(t,e)}}function l(e){return function(t){g[e]=t}}function c(e){if(a(y,e)){var n=y[e];delete y[e],b[e]=!0,h.apply(t,n)}if(!a(g,e)&&!a(b,e))throw new Error("No "+e);return g[e]}function d(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function u(e){return function(){return v&&v.config&&v.config[e]||{}}}var h,f,p,m,g={},y={},v={},b={},w=Object.prototype.hasOwnProperty,C=[].slice,x=/\.js$/;p=function(e,t){var n,i=d(e),a=i[0];return e=i[1],a&&(a=r(a,t),n=c(a)),a?e=n&&n.normalize?n.normalize(e,o(t)):r(e,t):(e=r(e,t),i=d(e),a=i[0],e=i[1],a&&(n=c(a))),{f:a?a+"!"+e:e,n:e,pr:a,p:n}},m={require:function(e){return s(e)},exports:function(e){var t=g[e];return void 0!==t?t:g[e]={}},module:function(e){return{id:e,uri:"",exports:g[e],config:u(e)}}},h=function(e,n,i,r){var o,d,u,h,f,v,w=[],C=typeof i;if(r=r||e,"undefined"===C||"function"===C){for(n=!n.length&&i.length?["require","exports","module"]:n,f=0;f<n.length;f+=1)if(h=p(n[f],r),"require"===(d=h.f))w[f]=m.require(e);else if("exports"===d)w[f]=m.exports(e),v=!0;else if("module"===d)o=w[f]=m.module(e);else if(a(g,d)||a(y,d)||a(b,d))w[f]=c(d);else{if(!h.p)throw new Error(e+" missing "+d);h.p.load(h.n,s(r,!0),l(d),{}),w[f]=g[d]}u=i?i.apply(g[e],w):void 0,e&&(o&&o.exports!==t&&o.exports!==g[e]?g[e]=o.exports:u===t&&v||(g[e]=u))}else e&&(g[e]=i)},e=n=f=function(e,n,i,a,r){if("string"==typeof e)return m[e]?m[e](n):c(p(e,n).f);if(!e.splice){if(v=e,v.deps&&f(v.deps,v.callback),!n)return;n.splice?(e=n,n=i,i=null):e=t}return n=n||function(){},"function"==typeof i&&(i=a,a=r),a?h(t,e,n,i):setTimeout(function(){h(t,e,n,i)},4),f},f.config=function(e){return f(e)},e._defined=g,i=function(e,t,n){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");t.splice||(n=t,t=[]),a(g,e)||a(y,e)||(y[e]=[e,t,n])},i.amd={jQuery:!0}}(),t.requirejs=e,t.require=n,t.define=i}}(),t.define("almond",function(){}),t.define("jquery",[],function(){var t=e||$;return null==t&&console&&console.error,t}),t.define("select2/utils",["jquery"],function(e){function t(e){var t=e.prototype,n=[];for(var i in t){"function"==typeof t[i]&&("constructor"!==i&&n.push(i))}return n}var n={};n.Extend=function(e,t){function n(){this.constructor=e}var i={}.hasOwnProperty;for(var a in t)i.call(t,a)&&(e[a]=t[a]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},n.Decorate=function(e,n){function i(){var t=Array.prototype.unshift,i=n.prototype.constructor.length,a=e.prototype.constructor;i>0&&(t.call(arguments,e.prototype.constructor),a=n.prototype.constructor),a.apply(this,arguments)}function a(){this.constructor=i}var r=t(n),s=t(e);n.displayName=e.displayName,i.prototype=new a;for(var o=0;o<s.length;o++){var l=s[o];i.prototype[l]=e.prototype[l]}for(var c=0;c<r.length;c++){var d=r[c];i.prototype[d]=function(e){var t=function(){};e in i.prototype&&(t=i.prototype[e]);var a=n.prototype[e];return function(){return Array.prototype.unshift.call(arguments,t),a.apply(this,arguments)}}(d)}return i};var i=function(){this.listeners={}};return i.prototype.on=function(e,t){this.listeners=this.listeners||{},e in this.listeners?this.listeners[e].push(t):this.listeners[e]=[t]},i.prototype.trigger=function(e){var t=Array.prototype.slice,n=t.call(arguments,1);this.listeners=this.listeners||{},null==n&&(n=[]),0===n.length&&n.push({}),n[0]._type=e,e in this.listeners&&this.invoke(this.listeners[e],t.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},i.prototype.invoke=function(e,t){for(var n=0,i=e.length;n<i;n++)e[n].apply(this,t)},n.Observable=i,n.generateChars=function(e){for(var t="",n=0;n<e;n++){t+=Math.floor(36*Math.random()).toString(36)}return t},n.bind=function(e,t){return function(){e.apply(t,arguments)}},n._convertData=function(e){for(var t in e){var n=t.split("-"),i=e;if(1!==n.length){for(var a=0;a<n.length;a++){var r=n[a];r=r.substring(0,1).toLowerCase()+r.substring(1),r in i||(i[r]={}),a==n.length-1&&(i[r]=e[t]),i=i[r]}delete e[t]}}return e},n.hasScroll=function(t,n){var i=e(n),a=n.style.overflowX,r=n.style.overflowY;return(a!==r||"hidden"!==r&&"visible"!==r)&&("scroll"===a||"scroll"===r||(i.innerHeight()<n.scrollHeight||i.innerWidth()<n.scrollWidth))},n.escapeMarkup=function(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof e?e:String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})},n.appendMany=function(t,n){if("1.7"===e.fn.jquery.substr(0,3)){var i=e();e.map(n,function(e){i=i.add(e)}),n=i}t.append(n)},n}),t.define("select2/results",["jquery","./utils"],function(e,t){function n(e,t,i){this.$element=e,this.data=i,this.options=t,n.__super__.constructor.call(this)}return t.Extend(n,t.Observable),n.prototype.render=function(){var t=e('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&t.attr("aria-multiselectable","true"),this.$results=t,t},n.prototype.clear=function(){this.$results.empty()},n.prototype.displayMessage=function(t){var n=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var i=e('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>'),a=this.options.get("translations").get(t.message);i.append(n(a(t.args))),i[0].className+=" select2-results__message",this.$results.append(i)},n.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},n.prototype.append=function(e){this.hideLoading();var t=[];if(null==e.results||0===e.results.length)return void(0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"}));e.results=this.sort(e.results);for(var n=0;n<e.results.length;n++){var i=e.results[n],a=this.option(i);t.push(a)}this.$results.append(t)},n.prototype.position=function(e,t){t.find(".select2-results").append(e)},n.prototype.sort=function(e){return this.options.get("sorter")(e)},n.prototype.highlightFirstItem=function(){var e=this.$results.find(".select2-results__option[aria-selected]"),t=e.filter("[aria-selected=true]");t.length>0?t.first().trigger("mouseenter"):e.first().trigger("mouseenter"),this.ensureHighlightVisible()},n.prototype.setClasses=function(){var t=this;this.data.current(function(n){var i=e.map(n,function(e){return e.id.toString()});t.$results.find(".select2-results__option[aria-selected]").each(function(){var t=e(this),n=e.data(this,"data"),a=""+n.id;null!=n.element&&n.element.selected||null==n.element&&e.inArray(a,i)>-1?t.attr("aria-selected","true"):t.attr("aria-selected","false")})})},n.prototype.showLoading=function(e){this.hideLoading();var t=this.options.get("translations").get("searching"),n={disabled:!0,loading:!0,text:t(e)},i=this.option(n);i.className+=" loading-results",this.$results.prepend(i)},n.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},n.prototype.option=function(t){var n=document.createElement("li");n.className="select2-results__option";var i={role:"treeitem","aria-selected":"false"};t.disabled&&(delete i["aria-selected"],i["aria-disabled"]="true"),null==t.id&&delete i["aria-selected"],null!=t._resultId&&(n.id=t._resultId),t.title&&(n.title=t.title),t.children&&(i.role="group",i["aria-label"]=t.text,delete i["aria-selected"]);for(var a in i){var r=i[a];n.setAttribute(a,r)}if(t.children){var s=e(n),o=document.createElement("strong");o.className="select2-results__group";e(o);this.template(t,o);for(var l=[],c=0;c<t.children.length;c++){var d=t.children[c],u=this.option(d);l.push(u)}var h=e("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});h.append(l),s.append(o),s.append(h)}else this.template(t,n);return e.data(n,"data",t),n},n.prototype.bind=function(t,n){var i=this,a=t.id+"-results";this.$results.attr("id",a),t.on("results:all",function(e){i.clear(),i.append(e.data),t.isOpen()&&(i.setClasses(),i.highlightFirstItem())}),t.on("results:append",function(e){i.append(e.data),t.isOpen()&&i.setClasses()}),t.on("query",function(e){i.hideMessages(),i.showLoading(e)}),t.on("select",function(){t.isOpen()&&(i.setClasses(),i.highlightFirstItem())}),t.on("unselect",function(){t.isOpen()&&(i.setClasses(),i.highlightFirstItem())}),t.on("open",function(){i.$results.attr("aria-expanded","true"),i.$results.attr("aria-hidden","false"),i.setClasses(),i.ensureHighlightVisible()}),t.on("close",function(){i.$results.attr("aria-expanded","false"),i.$results.attr("aria-hidden","true"),i.$results.removeAttr("aria-activedescendant")}),t.on("results:toggle",function(){var e=i.getHighlightedResults();0!==e.length&&e.trigger("mouseup")}),t.on("results:select",function(){var e=i.getHighlightedResults();if(0!==e.length){var t=e.data("data");"true"==e.attr("aria-selected")?i.trigger("close",{}):i.trigger("select",{data:t})}}),t.on("results:previous",function(){var e=i.getHighlightedResults(),t=i.$results.find("[aria-selected]"),n=t.index(e);if(0!==n){var a=n-1;0===e.length&&(a=0);var r=t.eq(a);r.trigger("mouseenter");var s=i.$results.offset().top,o=r.offset().top,l=i.$results.scrollTop()+(o-s);0===a?i.$results.scrollTop(0):o-s<0&&i.$results.scrollTop(l)}}),t.on("results:next",function(){var e=i.getHighlightedResults(),t=i.$results.find("[aria-selected]"),n=t.index(e),a=n+1;if(!(a>=t.length)){var r=t.eq(a);r.trigger("mouseenter");var s=i.$results.offset().top+i.$results.outerHeight(!1),o=r.offset().top+r.outerHeight(!1),l=i.$results.scrollTop()+o-s;0===a?i.$results.scrollTop(0):o>s&&i.$results.scrollTop(l)}}),t.on("results:focus",function(e){e.element.addClass("select2-results__option--highlighted")}),t.on("results:message",function(e){i.displayMessage(e)}),e.fn.mousewheel&&this.$results.on("mousewheel",function(e){var t=i.$results.scrollTop(),n=i.$results.get(0).scrollHeight-t+e.deltaY,a=e.deltaY>0&&t-e.deltaY<=0,r=e.deltaY<0&&n<=i.$results.height();a?(i.$results.scrollTop(0),e.preventDefault(),e.stopPropagation()):r&&(i.$results.scrollTop(i.$results.get(0).scrollHeight-i.$results.height()),e.preventDefault(),e.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(t){var n=e(this),a=n.data("data");if("true"===n.attr("aria-selected"))return void(i.options.get("multiple")?i.trigger("unselect",{originalEvent:t,data:a}):i.trigger("close",{}));i.trigger("select",{originalEvent:t,data:a})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(t){var n=e(this).data("data");i.getHighlightedResults().removeClass("select2-results__option--highlighted"),i.trigger("results:focus",{data:n,element:e(this)})})},n.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},n.prototype.destroy=function(){this.$results.remove()},n.prototype.ensureHighlightVisible=function(){var e=this.getHighlightedResults();if(0!==e.length){var t=this.$results.find("[aria-selected]"),n=t.index(e),i=this.$results.offset().top,a=e.offset().top,r=this.$results.scrollTop()+(a-i),s=a-i;r-=2*e.outerHeight(!1),n<=2?this.$results.scrollTop(0):(s>this.$results.outerHeight()||s<0)&&this.$results.scrollTop(r)}},n.prototype.template=function(t,n){var i=this.options.get("templateResult"),a=this.options.get("escapeMarkup"),r=i(t,n);null==r?n.style.display="none":"string"==typeof r?n.innerHTML=a(r):e(n).append(r)},n}),t.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),t.define("select2/selection/base",["jquery","../utils","../keys"],function(e,t,n){function i(e,t){this.$element=e,this.options=t,i.__super__.constructor.call(this)}return t.Extend(i,t.Observable),i.prototype.render=function(){var t=e('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),t.attr("title",this.$element.attr("title")),t.attr("tabindex",this._tabindex),this.$selection=t,t},i.prototype.bind=function(e,t){var i=this,a=(e.id,e.id+"-results");this.container=e,this.$selection.on("focus",function(e){i.trigger("focus",e)}),this.$selection.on("blur",function(e){i._handleBlur(e)}),this.$selection.on("keydown",function(e){i.trigger("keypress",e),e.which===n.SPACE&&e.preventDefault()}),e.on("results:focus",function(e){i.$selection.attr("aria-activedescendant",e.data._resultId)}),e.on("selection:update",function(e){i.update(e.data)}),e.on("open",function(){i.$selection.attr("aria-expanded","true"),i.$selection.attr("aria-owns",a),i._attachCloseHandler(e)}),e.on("close",function(){i.$selection.attr("aria-expanded","false"),i.$selection.removeAttr("aria-activedescendant"),i.$selection.removeAttr("aria-owns"),i.$selection.focus(),i._detachCloseHandler(e)}),e.on("enable",function(){i.$selection.attr("tabindex",i._tabindex)}),e.on("disable",function(){i.$selection.attr("tabindex","-1")})},i.prototype._handleBlur=function(t){var n=this;window.setTimeout(function(){document.activeElement==n.$selection[0]||e.contains(n.$selection[0],document.activeElement)||n.trigger("blur",t)},1)},i.prototype._attachCloseHandler=function(t){e(document.body).on("mousedown.select2."+t.id,function(t){var n=e(t.target),i=n.closest(".select2");e(".select2.select2-container--open").each(function(){var t=e(this);this!=i[0]&&t.data("element").select2("close")})})},i.prototype._detachCloseHandler=function(t){e(document.body).off("mousedown.select2."+t.id)},i.prototype.position=function(e,t){t.find(".selection").append(e)},i.prototype.destroy=function(){this._detachCloseHandler(this.container)},i.prototype.update=function(e){throw new Error("The `update` method must be defined in child classes.")},i}),t.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(e,t,n,i){function a(){a.__super__.constructor.apply(this,arguments)}return n.Extend(a,t),a.prototype.render=function(){var e=a.__super__.render.call(this);return e.addClass("select2-selection--single"),e.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),e},a.prototype.bind=function(e,t){var n=this;a.__super__.bind.apply(this,arguments);var i=e.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",i),this.$selection.attr("aria-labelledby",i),this.$selection.on("mousedown",function(e){1===e.which&&n.trigger("toggle",{originalEvent:e})}),this.$selection.on("focus",function(e){}),this.$selection.on("blur",function(e){}),e.on("focus",function(t){e.isOpen()||n.$selection.focus()}),e.on("selection:update",function(e){n.update(e.data)})},a.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},a.prototype.display=function(e,t){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(e,t))},a.prototype.selectionContainer=function(){return e("<span></span>")},a.prototype.update=function(e){if(0===e.length)return void this.clear();var t=e[0],n=this.$selection.find(".select2-selection__rendered"),i=this.display(t,n);n.empty().append(i),n.prop("title",t.title||t.text)},a}),t.define("select2/selection/multiple",["jquery","./base","../utils"],function(e,t,n){function i(e,t){i.__super__.constructor.apply(this,arguments)}return n.Extend(i,t),i.prototype.render=function(){var e=i.__super__.render.call(this);return e.addClass("select2-selection--multiple"),e.html('<ul class="select2-selection__rendered"></ul>'),e},i.prototype.bind=function(t,n){var a=this;i.__super__.bind.apply(this,arguments),this.$selection.on("click",function(e){a.trigger("toggle",{originalEvent:e})}),this.$selection.on("click",".select2-selection__choice__remove",function(t){if(!a.options.get("disabled")){var n=e(this),i=n.parent(),r=i.data("data");a.trigger("unselect",{originalEvent:t,data:r})}})},i.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},i.prototype.display=function(e,t){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(e,t))},i.prototype.selectionContainer=function(){return e('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},i.prototype.update=function(e){if(this.clear(),0!==e.length){for(var t=[],i=0;i<e.length;i++){var a=e[i],r=this.selectionContainer(),s=this.display(a,r);r.append(s),r.prop("title",a.title||a.text),r.data("data",a),t.push(r)}var o=this.$selection.find(".select2-selection__rendered");n.appendMany(o,t)}},i}),
t.define("select2/selection/placeholder",["../utils"],function(e){function t(e,t,n){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),e.call(this,t,n)}return t.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},t.prototype.createPlaceholder=function(e,t){var n=this.selectionContainer();return n.html(this.display(t)),n.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),n},t.prototype.update=function(e,t){var n=1==t.length&&t[0].id!=this.placeholder.id;if(t.length>1||n)return e.call(this,t);this.clear();var i=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(i)},t}),t.define("select2/selection/allowClear",["jquery","../keys"],function(e,t){function n(){}return n.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error,this.$selection.on("mousedown",".select2-selection__clear",function(e){i._handleClear(e)}),t.on("keypress",function(e){i._handleKeyboardClear(e,t)})},n.prototype._handleClear=function(e,t){if(!this.options.get("disabled")){var n=this.$selection.find(".select2-selection__clear");if(0!==n.length){t.stopPropagation();for(var i=n.data("data"),a=0;a<i.length;a++){var r={data:i[a]};if(this.trigger("unselect",r),r.prevented)return}this.$element.val(this.placeholder.id).trigger("change"),this.trigger("toggle",{})}}},n.prototype._handleKeyboardClear=function(e,n,i){i.isOpen()||n.which!=t.DELETE&&n.which!=t.BACKSPACE||this._handleClear(n)},n.prototype.update=function(t,n){if(t.call(this,n),!(this.$selection.find(".select2-selection__placeholder").length>0||0===n.length)){var i=e('<span class="select2-selection__clear">&times;</span>');i.data("data",n),this.$selection.find(".select2-selection__rendered").prepend(i)}},n}),t.define("select2/selection/search",["jquery","../utils","../keys"],function(e,t,n){function i(e,t,n){e.call(this,t,n)}return i.prototype.render=function(t){var n=e('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>');this.$searchContainer=n,this.$search=n.find("input");var i=t.call(this);return this._transferTabIndex(),i},i.prototype.bind=function(e,t,i){var a=this;e.call(this,t,i),t.on("open",function(){a.$search.trigger("focus")}),t.on("close",function(){a.$search.val(""),a.$search.removeAttr("aria-activedescendant"),a.$search.trigger("focus")}),t.on("enable",function(){a.$search.prop("disabled",!1),a._transferTabIndex()}),t.on("disable",function(){a.$search.prop("disabled",!0)}),t.on("focus",function(e){a.$search.trigger("focus")}),t.on("results:focus",function(e){a.$search.attr("aria-activedescendant",e.id)}),this.$selection.on("focusin",".select2-search--inline",function(e){a.trigger("focus",e)}),this.$selection.on("focusout",".select2-search--inline",function(e){a._handleBlur(e)}),this.$selection.on("keydown",".select2-search--inline",function(e){if(e.stopPropagation(),a.trigger("keypress",e),a._keyUpPrevented=e.isDefaultPrevented(),e.which===n.BACKSPACE&&""===a.$search.val()){var t=a.$searchContainer.prev(".select2-selection__choice");if(t.length>0){var i=t.data("data");a.searchRemoveChoice(i),e.preventDefault()}}});var r=document.documentMode,s=r&&r<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(e){if(s)return void a.$selection.off("input.search input.searchcheck");a.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(e){if(s&&"input"===e.type)return void a.$selection.off("input.search input.searchcheck");var t=e.which;t!=n.SHIFT&&t!=n.CTRL&&t!=n.ALT&&t!=n.TAB&&a.handleSearch(e)})},i.prototype._transferTabIndex=function(e){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},i.prototype.createPlaceholder=function(e,t){this.$search.attr("placeholder",t.text)},i.prototype.update=function(e,t){var n=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),e.call(this,t),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),n&&this.$search.focus()},i.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},i.prototype.searchRemoveChoice=function(e,t){this.trigger("unselect",{data:t}),this.$search.val(t.text),this.handleSearch()},i.prototype.resizeSearch=function(){this.$search.css("width","25px");var e="";if(""!==this.$search.attr("placeholder"))e=this.$selection.find(".select2-selection__rendered").innerWidth();else{e=.75*(this.$search.val().length+1)+"em"}this.$search.css("width",e)},i}),t.define("select2/selection/eventRelay",["jquery"],function(e){function t(){}return t.prototype.bind=function(t,n,i){var a=this,r=["open","opening","close","closing","select","selecting","unselect","unselecting"],s=["opening","closing","selecting","unselecting"];t.call(this,n,i),n.on("*",function(t,n){if(-1!==e.inArray(t,r)){n=n||{};var i=e.Event("select2:"+t,{params:n});a.$element.trigger(i),-1!==e.inArray(t,s)&&(n.prevented=i.isDefaultPrevented())}})},t}),t.define("select2/translation",["jquery","require"],function(e,t){function n(e){this.dict=e||{}}return n.prototype.all=function(){return this.dict},n.prototype.get=function(e){return this.dict[e]},n.prototype.extend=function(t){this.dict=e.extend({},t.all(),this.dict)},n._cache={},n.loadPath=function(e){if(!(e in n._cache)){var i=t(e);n._cache[e]=i}return new n(n._cache[e])},n}),t.define("select2/diacritics",[],function(){return{"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""}}),t.define("select2/data/base",["../utils"],function(e){function t(e,n){t.__super__.constructor.call(this)}return e.Extend(t,e.Observable),t.prototype.current=function(e){throw new Error("The `current` method must be defined in child classes.")},t.prototype.query=function(e,t){throw new Error("The `query` method must be defined in child classes.")},t.prototype.bind=function(e,t){},t.prototype.destroy=function(){},t.prototype.generateResultId=function(t,n){var i=t.id+"-result-";return i+=e.generateChars(4),null!=n.id?i+="-"+n.id.toString():i+="-"+e.generateChars(4),i},t}),t.define("select2/data/select",["./base","../utils","jquery"],function(e,t,n){function i(e,t){this.$element=e,this.options=t,i.__super__.constructor.call(this)}return t.Extend(i,e),i.prototype.current=function(e){var t=[],i=this;this.$element.find(":selected").each(function(){var e=n(this),a=i.item(e);t.push(a)}),e(t)},i.prototype.select=function(e){var t=this;if(e.selected=!0,n(e.element).is("option"))return e.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(i){var a=[];e=[e],e.push.apply(e,i);for(var r=0;r<e.length;r++){var s=e[r].id;-1===n.inArray(s,a)&&a.push(s)}t.$element.val(a),t.$element.trigger("change")});else{var i=e.id;this.$element.val(i),this.$element.trigger("change")}},i.prototype.unselect=function(e){var t=this;if(this.$element.prop("multiple")){if(e.selected=!1,n(e.element).is("option"))return e.element.selected=!1,void this.$element.trigger("change");this.current(function(i){for(var a=[],r=0;r<i.length;r++){var s=i[r].id;s!==e.id&&-1===n.inArray(s,a)&&a.push(s)}t.$element.val(a),t.$element.trigger("change")})}},i.prototype.bind=function(e,t){var n=this;this.container=e,e.on("select",function(e){n.select(e.data)}),e.on("unselect",function(e){n.unselect(e.data)})},i.prototype.destroy=function(){this.$element.find("*").each(function(){n.removeData(this,"data")})},i.prototype.query=function(e,t){var i=[],a=this;this.$element.children().each(function(){var t=n(this);if(t.is("option")||t.is("optgroup")){var r=a.item(t),s=a.matches(e,r);null!==s&&i.push(s)}}),t({results:i})},i.prototype.addOptions=function(e){t.appendMany(this.$element,e)},i.prototype.option=function(e){var t;e.children?(t=document.createElement("optgroup"),t.label=e.text):(t=document.createElement("option"),void 0!==t.textContent?t.textContent=e.text:t.innerText=e.text),e.id&&(t.value=e.id),e.disabled&&(t.disabled=!0),e.selected&&(t.selected=!0),e.title&&(t.title=e.title);var i=n(t),a=this._normalizeItem(e);return a.element=t,n.data(t,"data",a),i},i.prototype.item=function(e){var t={};if(null!=(t=n.data(e[0],"data")))return t;if(e.is("option"))t={id:e.val(),text:e.text(),disabled:e.prop("disabled"),selected:e.prop("selected"),title:e.prop("title")};else if(e.is("optgroup")){t={text:e.prop("label"),children:[],title:e.prop("title")};for(var i=e.children("option"),a=[],r=0;r<i.length;r++){var s=n(i[r]),o=this.item(s);a.push(o)}t.children=a}return t=this._normalizeItem(t),t.element=e[0],n.data(e[0],"data",t),t},i.prototype._normalizeItem=function(e){n.isPlainObject(e)||(e={id:e,text:e}),e=n.extend({},{text:""},e);var t={selected:!1,disabled:!1};return null!=e.id&&(e.id=e.id.toString()),null!=e.text&&(e.text=e.text.toString()),null==e._resultId&&e.id&&null!=this.container&&(e._resultId=this.generateResultId(this.container,e)),n.extend({},t,e)},i.prototype.matches=function(e,t){return this.options.get("matcher")(e,t)},i}),t.define("select2/data/array",["./select","../utils","jquery"],function(e,t,n){function i(e,t){var n=t.get("data")||[];i.__super__.constructor.call(this,e,t),this.addOptions(this.convertToOptions(n))}return t.Extend(i,e),i.prototype.select=function(e){var t=this.$element.find("option").filter(function(t,n){return n.value==e.id.toString()});0===t.length&&(t=this.option(e),this.addOptions(t)),i.__super__.select.call(this,e)},i.prototype.convertToOptions=function(e){for(var i=this,a=this.$element.find("option"),r=a.map(function(){return i.item(n(this)).id}).get(),s=[],o=0;o<e.length;o++){var l=this._normalizeItem(e[o]);if(n.inArray(l.id,r)>=0){var c=a.filter(function(e){return function(){return n(this).val()==e.id}}(l)),d=this.item(c),u=n.extend(!0,{},l,d),h=this.option(u);c.replaceWith(h)}else{var f=this.option(l);if(l.children){var p=this.convertToOptions(l.children);t.appendMany(f,p)}s.push(f)}}return s},i}),t.define("select2/data/ajax",["./array","../utils","jquery"],function(e,t,n){function i(e,t){this.ajaxOptions=this._applyDefaults(t.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),i.__super__.constructor.call(this,e,t)}return t.Extend(i,e),i.prototype._applyDefaults=function(e){var t={data:function(e){return n.extend({},e,{q:e.term})},transport:function(e,t,i){var a=n.ajax(e);return a.then(t),a.fail(i),a}};return n.extend({},t,e,!0)},i.prototype.processResults=function(e){return e},i.prototype.query=function(e,t){function i(){var i=r.transport(r,function(i){var r=a.processResults(i,e);a.options.get("debug")&&window.console&&console.error&&(!r||!r.results||n.isArray(r.results)),t(r)},function(){i.status&&"0"===i.status||a.trigger("results:message",{message:"errorLoading"})});a._request=i}var a=this;null!=this._request&&(n.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var r=n.extend({type:"GET"},this.ajaxOptions);"function"==typeof r.url&&(r.url=r.url.call(this.$element,e)),"function"==typeof r.data&&(r.data=r.data.call(this.$element,e)),this.ajaxOptions.delay&&null!=e.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(i,this.ajaxOptions.delay)):i()},i}),t.define("select2/data/tags",["jquery"],function(e){function t(t,n,i){var a=i.get("tags"),r=i.get("createTag");void 0!==r&&(this.createTag=r);var s=i.get("insertTag");if(void 0!==s&&(this.insertTag=s),t.call(this,n,i),e.isArray(a))for(var o=0;o<a.length;o++){var l=a[o],c=this._normalizeItem(l),d=this.option(c);this.$element.append(d)}}return t.prototype.query=function(e,t,n){function i(e,r){for(var s=e.results,o=0;o<s.length;o++){var l=s[o],c=null!=l.children&&!i({results:l.children},!0);if(l.text===t.term||c)return!r&&(e.data=s,void n(e))}if(r)return!0;var d=a.createTag(t);if(null!=d){var u=a.option(d);u.attr("data-select2-tag",!0),a.addOptions([u]),a.insertTag(s,d)}e.results=s,n(e)}var a=this;if(this._removeOldTags(),null==t.term||null!=t.page)return void e.call(this,t,n);e.call(this,t,i)},t.prototype.createTag=function(t,n){var i=e.trim(n.term);return""===i?null:{id:i,text:i}},t.prototype.insertTag=function(e,t,n){t.unshift(n)},t.prototype._removeOldTags=function(t){this._lastTag;this.$element.find("option[data-select2-tag]").each(function(){this.selected||e(this).remove()})},t}),t.define("select2/data/tokenizer",["jquery"],function(e){function t(e,t,n){var i=n.get("tokenizer");void 0!==i&&(this.tokenizer=i),e.call(this,t,n)}return t.prototype.bind=function(e,t,n){e.call(this,t,n),this.$search=t.dropdown.$search||t.selection.$search||n.find(".select2-search__field")},t.prototype.query=function(t,n,i){function a(t){var n=s._normalizeItem(t);if(!s.$element.find("option").filter(function(){return e(this).val()===n.id}).length){var i=s.option(n);i.attr("data-select2-tag",!0),s._removeOldTags(),s.addOptions([i])}r(n)}function r(e){s.trigger("select",{data:e})}var s=this;n.term=n.term||"";var o=this.tokenizer(n,this.options,a);o.term!==n.term&&(this.$search.length&&(this.$search.val(o.term),this.$search.focus()),n.term=o.term),t.call(this,n,i)},t.prototype.tokenizer=function(t,n,i,a){for(var r=i.get("tokenSeparators")||[],s=n.term,o=0,l=this.createTag||function(e){return{id:e.term,text:e.term}};o<s.length;){var c=s[o];if(-1!==e.inArray(c,r)){var d=s.substr(0,o),u=e.extend({},n,{term:d}),h=l(u);null!=h?(a(h),s=s.substr(o+1)||"",o=0):o++}else o++}return{term:s}},t}),t.define("select2/data/minimumInputLength",[],function(){function e(e,t,n){this.minimumInputLength=n.get("minimumInputLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){if(t.term=t.term||"",t.term.length<this.minimumInputLength)return void this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:t.term,params:t}});e.call(this,t,n)},e}),t.define("select2/data/maximumInputLength",[],function(){function e(e,t,n){this.maximumInputLength=n.get("maximumInputLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){if(t.term=t.term||"",this.maximumInputLength>0&&t.term.length>this.maximumInputLength)return void this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:t.term,params:t}});e.call(this,t,n)},e}),t.define("select2/data/maximumSelectionLength",[],function(){function e(e,t,n){this.maximumSelectionLength=n.get("maximumSelectionLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){var i=this;this.current(function(a){var r=null!=a?a.length:0;if(i.maximumSelectionLength>0&&r>=i.maximumSelectionLength)return void i.trigger("results:message",{message:"maximumSelected",args:{maximum:i.maximumSelectionLength}});e.call(i,t,n)})},e}),t.define("select2/dropdown",["jquery","./utils"],function(e,t){function n(e,t){this.$element=e,this.options=t,n.__super__.constructor.call(this)}return t.Extend(n,t.Observable),n.prototype.render=function(){var t=e('<span class="select2-dropdown"><span class="select2-results"></span></span>');return t.attr("dir",this.options.get("dir")),this.$dropdown=t,t},n.prototype.bind=function(){},n.prototype.position=function(e,t){},n.prototype.destroy=function(){this.$dropdown.remove()},n}),t.define("select2/dropdown/search",["jquery","../utils"],function(e,t){function n(){}return n.prototype.render=function(t){var n=t.call(this),i=e('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=i,this.$search=i.find("input"),n.prepend(i),n},n.prototype.bind=function(t,n,i){var a=this;t.call(this,n,i),this.$search.on("keydown",function(e){a.trigger("keypress",e),a._keyUpPrevented=e.isDefaultPrevented()}),this.$search.on("input",function(t){e(this).off("keyup")}),this.$search.on("keyup input",function(e){a.handleSearch(e)}),n.on("open",function(){a.$search.attr("tabindex",0),a.$search.focus(),window.setTimeout(function(){a.$search.focus()},0)}),n.on("close",function(){a.$search.attr("tabindex",-1),a.$search.val("")}),n.on("focus",function(){n.isOpen()&&a.$search.focus()}),n.on("results:all",function(e){if(null==e.query.term||""===e.query.term){a.showSearch(e)?a.$searchContainer.removeClass("select2-search--hide"):a.$searchContainer.addClass("select2-search--hide")}})},n.prototype.handleSearch=function(e){if(!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},n.prototype.showSearch=function(e,t){return!0},n}),t.define("select2/dropdown/hidePlaceholder",[],function(){function e(e,t,n,i){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),e.call(this,t,n,i)}return e.prototype.append=function(e,t){t.results=this.removePlaceholder(t.results),e.call(this,t)},e.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},e.prototype.removePlaceholder=function(e,t){for(var n=t.slice(0),i=t.length-1;i>=0;i--){var a=t[i];this.placeholder.id===a.id&&n.splice(i,1)}return n},e}),t.define("select2/dropdown/infiniteScroll",["jquery"],function(e){function t(e,t,n,i){this.lastParams={},e.call(this,t,n,i),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return t.prototype.append=function(e,t){this.$loadingMore.remove(),this.loading=!1,e.call(this,t),this.showLoadingMore(t)&&this.$results.append(this.$loadingMore)},t.prototype.bind=function(t,n,i){var a=this;t.call(this,n,i),n.on("query",function(e){a.lastParams=e,a.loading=!0}),n.on("query:append",function(e){a.lastParams=e,a.loading=!0}),this.$results.on("scroll",function(){var t=e.contains(document.documentElement,a.$loadingMore[0]);if(!a.loading&&t){a.$results.offset().top+a.$results.outerHeight(!1)+50>=a.$loadingMore.offset().top+a.$loadingMore.outerHeight(!1)&&a.loadMore()}})},t.prototype.loadMore=function(){this.loading=!0;var t=e.extend({},{page:1},this.lastParams);t.page++,this.trigger("query:append",t)},t.prototype.showLoadingMore=function(e,t){return t.pagination&&t.pagination.more},t.prototype.createLoadingMore=function(){var t=e('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'),n=this.options.get("translations").get("loadingMore");return t.html(n(this.lastParams)),t},t}),t.define("select2/dropdown/attachBody",["jquery","../utils"],function(e,t){function n(t,n,i){this.$dropdownParent=i.get("dropdownParent")||e(document.body),t.call(this,n,i)}return n.prototype.bind=function(e,t,n){var i=this,a=!1;e.call(this,t,n),t.on("open",function(){i._showDropdown(),i._attachPositioningHandler(t),a||(a=!0,t.on("results:all",function(){i._positionDropdown(),i._resizeDropdown()}),t.on("results:append",function(){i._positionDropdown(),i._resizeDropdown()}))}),t.on("close",function(){i._hideDropdown(),i._detachPositioningHandler(t)}),this.$dropdownContainer.on("mousedown",function(e){e.stopPropagation()})},n.prototype.destroy=function(e){e.call(this),this.$dropdownContainer.remove()},n.prototype.position=function(e,t,n){t.attr("class",n.attr("class")),t.removeClass("select2"),t.addClass("select2-container--open"),t.css({position:"absolute",top:-999999}),this.$container=n},n.prototype.render=function(t){var n=e("<span></span>"),i=t.call(this);return n.append(i),this.$dropdownContainer=n,n},n.prototype._hideDropdown=function(e){this.$dropdownContainer.detach()},n.prototype._attachPositioningHandler=function(n,i){var a=this,r="scroll.select2."+i.id,s="resize.select2."+i.id,o="orientationchange.select2."+i.id,l=this.$container.parents().filter(t.hasScroll);l.each(function(){e(this).data("select2-scroll-position",{x:e(this).scrollLeft(),y:e(this).scrollTop()})}),l.on(r,function(t){var n=e(this).data("select2-scroll-position");e(this).scrollTop(n.y)}),e(window).on(r+" "+s+" "+o,function(e){a._positionDropdown(),a._resizeDropdown()})},n.prototype._detachPositioningHandler=function(n,i){var a="scroll.select2."+i.id,r="resize.select2."+i.id,s="orientationchange.select2."+i.id;this.$container.parents().filter(t.hasScroll).off(a),e(window).off(a+" "+r+" "+s)},n.prototype._positionDropdown=function(){var t=e(window),n=this.$dropdown.hasClass("select2-dropdown--above"),i=this.$dropdown.hasClass("select2-dropdown--below"),a=null,r=this.$container.offset();r.bottom=r.top+this.$container.outerHeight(!1);var s={height:this.$container.outerHeight(!1)};s.top=r.top,s.bottom=r.top+s.height;var o={height:this.$dropdown.outerHeight(!1)},l={top:t.scrollTop(),bottom:t.scrollTop()+t.height()},c=l.top<r.top-o.height,d=l.bottom>r.bottom+o.height,u={left:r.left,top:s.bottom},h=this.$dropdownParent;"static"===h.css("position")&&(h=h.offsetParent());var f=h.offset();u.top-=f.top,u.left-=f.left,n||i||(a="below"),d||!c||n?!c&&d&&n&&(a="below"):a="above",("above"==a||n&&"below"!==a)&&(u.top=s.top-f.top-o.height),null!=a&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+a),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+a)),this.$dropdownContainer.css(u)},n.prototype._resizeDropdown=function(){var e={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(e.minWidth=e.width,e.position="relative",e.width="auto"),this.$dropdown.css(e)},n.prototype._showDropdown=function(e){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},n}),t.define("select2/dropdown/minimumResultsForSearch",[],function(){function e(t){for(var n=0,i=0;i<t.length;i++){var a=t[i];a.children?n+=e(a.children):n++}return n}function t(e,t,n,i){this.minimumResultsForSearch=n.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),e.call(this,t,n,i)}return t.prototype.showSearch=function(t,n){return!(e(n.data.results)<this.minimumResultsForSearch)&&t.call(this,n)},t}),t.define("select2/dropdown/selectOnClose",[],function(){function e(){}return e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("close",function(e){i._handleSelectOnClose(e)})},e.prototype._handleSelectOnClose=function(e,t){if(t&&null!=t.originalSelect2Event){var n=t.originalSelect2Event;if("select"===n._type||"unselect"===n._type)return}var i=this.getHighlightedResults();if(!(i.length<1)){var a=i.data("data");null!=a.element&&a.element.selected||null==a.element&&a.selected||this.trigger("select",{data:a})}},e}),t.define("select2/dropdown/closeOnSelect",[],function(){function e(){}return e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("select",function(e){i._selectTriggered(e)}),t.on("unselect",function(e){i._selectTriggered(e)})},e.prototype._selectTriggered=function(e,t){var n=t.originalEvent;n&&n.ctrlKey||this.trigger("close",{originalEvent:n,originalSelect2Event:t})},e}),t.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(e){var t=e.input.length-e.maximum,n="Please delete "+t+" character";return 1!=t&&(n+="s"),n},inputTooShort:function(e){return"Please enter "+(e.minimum-e.input.length)+" or more characters"},loadingMore:function(){return"Loading more results"},maximumSelected:function(e){var t="You can only select "+e.maximum+" item";return 1!=e.maximum&&(t+="s"),t},noResults:function(){return"No results found"},searching:function(){return"Searching"}}}),t.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(e,t,n,i,a,r,s,o,l,c,d,u,h,f,p,m,g,y,v,b,w,C,x,_,S,k,D,T,E){function A(){this.reset()}return A.prototype.apply=function(u){if(u=e.extend(!0,{},this.defaults,u),null==u.dataAdapter){if(null!=u.ajax?u.dataAdapter=p:null!=u.data?u.dataAdapter=f:u.dataAdapter=h,u.minimumInputLength>0&&(u.dataAdapter=c.Decorate(u.dataAdapter,y)),u.maximumInputLength>0&&(u.dataAdapter=c.Decorate(u.dataAdapter,v)),u.maximumSelectionLength>0&&(u.dataAdapter=c.Decorate(u.dataAdapter,b)),u.tags&&(u.dataAdapter=c.Decorate(u.dataAdapter,m)),null==u.tokenSeparators&&null==u.tokenizer||(u.dataAdapter=c.Decorate(u.dataAdapter,g)),null!=u.query){var E=t(u.amdBase+"compat/query");u.dataAdapter=c.Decorate(u.dataAdapter,E)}if(null!=u.initSelection){var A=t(u.amdBase+"compat/initSelection");u.dataAdapter=c.Decorate(u.dataAdapter,A)}}if(null==u.resultsAdapter&&(u.resultsAdapter=n,
null!=u.ajax&&(u.resultsAdapter=c.Decorate(u.resultsAdapter,_)),null!=u.placeholder&&(u.resultsAdapter=c.Decorate(u.resultsAdapter,x)),u.selectOnClose&&(u.resultsAdapter=c.Decorate(u.resultsAdapter,D))),null==u.dropdownAdapter){if(u.multiple)u.dropdownAdapter=w;else{var N=c.Decorate(w,C);u.dropdownAdapter=N}if(0!==u.minimumResultsForSearch&&(u.dropdownAdapter=c.Decorate(u.dropdownAdapter,k)),u.closeOnSelect&&(u.dropdownAdapter=c.Decorate(u.dropdownAdapter,T)),null!=u.dropdownCssClass||null!=u.dropdownCss||null!=u.adaptDropdownCssClass){var M=t(u.amdBase+"compat/dropdownCss");u.dropdownAdapter=c.Decorate(u.dropdownAdapter,M)}u.dropdownAdapter=c.Decorate(u.dropdownAdapter,S)}if(null==u.selectionAdapter){if(u.multiple?u.selectionAdapter=a:u.selectionAdapter=i,null!=u.placeholder&&(u.selectionAdapter=c.Decorate(u.selectionAdapter,r)),u.allowClear&&(u.selectionAdapter=c.Decorate(u.selectionAdapter,s)),u.multiple&&(u.selectionAdapter=c.Decorate(u.selectionAdapter,o)),null!=u.containerCssClass||null!=u.containerCss||null!=u.adaptContainerCssClass){var R=t(u.amdBase+"compat/containerCss");u.selectionAdapter=c.Decorate(u.selectionAdapter,R)}u.selectionAdapter=c.Decorate(u.selectionAdapter,l)}if("string"==typeof u.language)if(u.language.indexOf("-")>0){var I=u.language.split("-"),O=I[0];u.language=[u.language,O]}else u.language=[u.language];if(e.isArray(u.language)){var P=new d;u.language.push("en");for(var L=u.language,H=0;H<L.length;H++){var $=L[H],B={};try{B=d.loadPath($)}catch(e){try{$=this.defaults.amdLanguageBase+$,B=d.loadPath($)}catch(e){u.debug&&window.console&&console.warn;continue}}P.extend(B)}u.translations=P}else{var j=d.loadPath(this.defaults.amdLanguageBase+"en"),F=new d(u.language);F.extend(j),u.translations=F}return u},A.prototype.reset=function(){function t(e){function t(e){return u[e]||e}return e.replace(/[^\u0000-\u007E]/g,t)}function n(i,a){if(""===e.trim(i.term))return a;if(a.children&&a.children.length>0){for(var r=e.extend(!0,{},a),s=a.children.length-1;s>=0;s--){null==n(i,a.children[s])&&r.children.splice(s,1)}return r.children.length>0?r:n(i,r)}var o=t(a.text).toUpperCase(),l=t(i.term).toUpperCase();return o.indexOf(l)>-1?a:null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:c.escapeMarkup,language:E,matcher:n,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(e){return e},templateResult:function(e){return e.text},templateSelection:function(e){return e.text},theme:"default",width:"resolve"}},A.prototype.set=function(t,n){var i=e.camelCase(t),a={};a[i]=n;var r=c._convertData(a);e.extend(this.defaults,r)},new A}),t.define("select2/options",["require","jquery","./defaults","./utils"],function(e,t,n,i){function a(t,a){if(this.options=t,null!=a&&this.fromElement(a),this.options=n.apply(this.options),a&&a.is("input")){var r=e(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=i.Decorate(this.options.dataAdapter,r)}}return a.prototype.fromElement=function(e){var n=["select2"];null==this.options.multiple&&(this.options.multiple=e.prop("multiple")),null==this.options.disabled&&(this.options.disabled=e.prop("disabled")),null==this.options.language&&(e.prop("lang")?this.options.language=e.prop("lang").toLowerCase():e.closest("[lang]").prop("lang")&&(this.options.language=e.closest("[lang]").prop("lang"))),null==this.options.dir&&(e.prop("dir")?this.options.dir=e.prop("dir"):e.closest("[dir]").prop("dir")?this.options.dir=e.closest("[dir]").prop("dir"):this.options.dir="ltr"),e.prop("disabled",this.options.disabled),e.prop("multiple",this.options.multiple),e.data("select2Tags")&&(this.options.debug&&window.console&&console.warn,e.data("data",e.data("select2Tags")),e.data("tags",!0)),e.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn,e.attr("ajax--url",e.data("ajaxUrl")),e.data("ajax--url",e.data("ajaxUrl")));var a={};a=t.fn.jquery&&"1."==t.fn.jquery.substr(0,2)&&e[0].dataset?t.extend(!0,{},e[0].dataset,e.data()):e.data();var r=t.extend(!0,{},a);r=i._convertData(r);for(var s in r)t.inArray(s,n)>-1||(t.isPlainObject(this.options[s])?t.extend(this.options[s],r[s]):this.options[s]=r[s]);return this},a.prototype.get=function(e){return this.options[e]},a.prototype.set=function(e,t){this.options[e]=t},a}),t.define("select2/core",["jquery","./options","./utils","./keys"],function(e,t,n,i){var a=function(e,n){null!=e.data("select2")&&e.data("select2").destroy(),this.$element=e,this.id=this._generateId(e),n=n||{},this.options=new t(n,e),a.__super__.constructor.call(this);var i=e.attr("tabindex")||0;e.data("old-tabindex",i),e.attr("tabindex","-1");var r=this.options.get("dataAdapter");this.dataAdapter=new r(e,this.options);var s=this.render();this._placeContainer(s);var o=this.options.get("selectionAdapter");this.selection=new o(e,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,s);var l=this.options.get("dropdownAdapter");this.dropdown=new l(e,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,s);var c=this.options.get("resultsAdapter");this.results=new c(e,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var d=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(e){d.trigger("selection:update",{data:e})}),e.addClass("select2-hidden-accessible"),e.attr("aria-hidden","true"),this._syncAttributes(),e.data("select2",this)};return n.Extend(a,n.Observable),a.prototype._generateId=function(e){var t="";return t=null!=e.attr("id")?e.attr("id"):null!=e.attr("name")?e.attr("name")+"-"+n.generateChars(2):n.generateChars(4),t=t.replace(/(:|\.|\[|\]|,)/g,""),t="select2-"+t},a.prototype._placeContainer=function(e){e.insertAfter(this.$element);var t=this._resolveWidth(this.$element,this.options.get("width"));null!=t&&e.css("width",t)},a.prototype._resolveWidth=function(e,t){var n=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==t){var i=this._resolveWidth(e,"style");return null!=i?i:this._resolveWidth(e,"element")}if("element"==t){var a=e.outerWidth(!1);return a<=0?"auto":a+"px"}if("style"==t){var r=e.attr("style");if("string"!=typeof r)return null;for(var s=r.split(";"),o=0,l=s.length;o<l;o+=1){var c=s[o].replace(/\s/g,""),d=c.match(n);if(null!==d&&d.length>=1)return d[1]}return null}return t},a.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},a.prototype._registerDomEvents=function(){var t=this;this.$element.on("change.select2",function(){t.dataAdapter.current(function(e){t.trigger("selection:update",{data:e})})}),this.$element.on("focus.select2",function(e){t.trigger("focus",e)}),this._syncA=n.bind(this._syncAttributes,this),this._syncS=n.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var i=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=i?(this._observer=new i(function(n){e.each(n,t._syncA),e.each(n,t._syncS)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",t._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",t._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",t._syncS,!1))},a.prototype._registerDataEvents=function(){var e=this;this.dataAdapter.on("*",function(t,n){e.trigger(t,n)})},a.prototype._registerSelectionEvents=function(){var t=this,n=["toggle","focus"];this.selection.on("toggle",function(){t.toggleDropdown()}),this.selection.on("focus",function(e){t.focus(e)}),this.selection.on("*",function(i,a){-1===e.inArray(i,n)&&t.trigger(i,a)})},a.prototype._registerDropdownEvents=function(){var e=this;this.dropdown.on("*",function(t,n){e.trigger(t,n)})},a.prototype._registerResultsEvents=function(){var e=this;this.results.on("*",function(t,n){e.trigger(t,n)})},a.prototype._registerEvents=function(){var e=this;this.on("open",function(){e.$container.addClass("select2-container--open")}),this.on("close",function(){e.$container.removeClass("select2-container--open")}),this.on("enable",function(){e.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){e.$container.addClass("select2-container--disabled")}),this.on("blur",function(){e.$container.removeClass("select2-container--focus")}),this.on("query",function(t){e.isOpen()||e.trigger("open",{}),this.dataAdapter.query(t,function(n){e.trigger("results:all",{data:n,query:t})})}),this.on("query:append",function(t){this.dataAdapter.query(t,function(n){e.trigger("results:append",{data:n,query:t})})}),this.on("keypress",function(t){var n=t.which;e.isOpen()?n===i.ESC||n===i.TAB||n===i.UP&&t.altKey?(e.close(),t.preventDefault()):n===i.ENTER?(e.trigger("results:select",{}),t.preventDefault()):n===i.SPACE&&t.ctrlKey?(e.trigger("results:toggle",{}),t.preventDefault()):n===i.UP?(e.trigger("results:previous",{}),t.preventDefault()):n===i.DOWN&&(e.trigger("results:next",{}),t.preventDefault()):(n===i.ENTER||n===i.SPACE||n===i.DOWN&&t.altKey)&&(e.open(),t.preventDefault())})},a.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},a.prototype._syncSubtree=function(e,t){var n=!1,i=this;if(!e||!e.target||"OPTION"===e.target.nodeName||"OPTGROUP"===e.target.nodeName){if(t)if(t.addedNodes&&t.addedNodes.length>0)for(var a=0;a<t.addedNodes.length;a++){var r=t.addedNodes[a];r.selected&&(n=!0)}else t.removedNodes&&t.removedNodes.length>0&&(n=!0);else n=!0;n&&this.dataAdapter.current(function(e){i.trigger("selection:update",{data:e})})}},a.prototype.trigger=function(e,t){var n=a.__super__.trigger,i={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(void 0===t&&(t={}),e in i){var r=i[e],s={prevented:!1,name:e,args:t};if(n.call(this,r,s),s.prevented)return void(t.prevented=!0)}n.call(this,e,t)},a.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},a.prototype.open=function(){this.isOpen()||this.trigger("query",{})},a.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},a.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},a.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},a.prototype.focus=function(e){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},a.prototype.enable=function(e){this.options.get("debug")&&window.console&&console.warn,null!=e&&0!==e.length||(e=[!0]);var t=!e[0];this.$element.prop("disabled",t)},a.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn;var e=[];return this.dataAdapter.current(function(t){e=t}),e},a.prototype.val=function(t){if(this.options.get("debug")&&window.console&&console.warn,null==t||0===t.length)return this.$element.val();var n=t[0];e.isArray(n)&&(n=e.map(n,function(e){return e.toString()})),this.$element.val(n).trigger("change")},a.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},a.prototype.render=function(){var t=e('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return t.attr("dir",this.options.get("dir")),this.$container=t,this.$container.addClass("select2-container--"+this.options.get("theme")),t.data("element",this.$element),t},a}),t.define("select2/compat/utils",["jquery"],function(e){function t(t,n,i){var a,r,s=[];a=e.trim(t.attr("class")),a&&(a=""+a,e(a.split(/\s+/)).each(function(){0===this.indexOf("select2-")&&s.push(this)})),a=e.trim(n.attr("class")),a&&(a=""+a,e(a.split(/\s+/)).each(function(){0!==this.indexOf("select2-")&&null!=(r=i(this))&&s.push(r)})),t.attr("class",s.join(" "))}return{syncCssClasses:t}}),t.define("select2/compat/containerCss",["jquery","./utils"],function(e,t){function n(e){return null}function i(){}return i.prototype.render=function(i){var a=i.call(this),r=this.options.get("containerCssClass")||"";e.isFunction(r)&&(r=r(this.$element));var s=this.options.get("adaptContainerCssClass");if(s=s||n,-1!==r.indexOf(":all:")){r=r.replace(":all:","");var o=s;s=function(e){var t=o(e);return null!=t?t+" "+e:e}}var l=this.options.get("containerCss")||{};return e.isFunction(l)&&(l=l(this.$element)),t.syncCssClasses(a,this.$element,s),a.css(l),a.addClass(r),a},i}),t.define("select2/compat/dropdownCss",["jquery","./utils"],function(e,t){function n(e){return null}function i(){}return i.prototype.render=function(i){var a=i.call(this),r=this.options.get("dropdownCssClass")||"";e.isFunction(r)&&(r=r(this.$element));var s=this.options.get("adaptDropdownCssClass");if(s=s||n,-1!==r.indexOf(":all:")){r=r.replace(":all:","");var o=s;s=function(e){var t=o(e);return null!=t?t+" "+e:e}}var l=this.options.get("dropdownCss")||{};return e.isFunction(l)&&(l=l(this.$element)),t.syncCssClasses(a,this.$element,s),a.css(l),a.addClass(r),a},i}),t.define("select2/compat/initSelection",["jquery"],function(e){function t(e,t,n){n.get("debug")&&window.console&&console.warn,this.initSelection=n.get("initSelection"),this._isInitialized=!1,e.call(this,t,n)}return t.prototype.current=function(t,n){var i=this;if(this._isInitialized)return void t.call(this,n);this.initSelection.call(null,this.$element,function(t){i._isInitialized=!0,e.isArray(t)||(t=[t]),n(t)})},t}),t.define("select2/compat/inputData",["jquery"],function(e){function t(e,t,n){this._currentData=[],this._valueSeparator=n.get("valueSeparator")||",","hidden"===t.prop("type")&&n.get("debug")&&console&&console.warn,e.call(this,t,n)}return t.prototype.current=function(t,n){function i(t,n){var a=[];return t.selected||-1!==e.inArray(t.id,n)?(t.selected=!0,a.push(t)):t.selected=!1,t.children&&a.push.apply(a,i(t.children,n)),a}for(var a=[],r=0;r<this._currentData.length;r++){var s=this._currentData[r];a.push.apply(a,i(s,this.$element.val().split(this._valueSeparator)))}n(a)},t.prototype.select=function(t,n){if(this.options.get("multiple")){var i=this.$element.val();i+=this._valueSeparator+n.id,this.$element.val(i),this.$element.trigger("change")}else this.current(function(t){e.map(t,function(e){e.selected=!1})}),this.$element.val(n.id),this.$element.trigger("change")},t.prototype.unselect=function(e,t){var n=this;t.selected=!1,this.current(function(e){for(var i=[],a=0;a<e.length;a++){var r=e[a];t.id!=r.id&&i.push(r.id)}n.$element.val(i.join(n._valueSeparator)),n.$element.trigger("change")})},t.prototype.query=function(e,t,n){for(var i=[],a=0;a<this._currentData.length;a++){var r=this._currentData[a],s=this.matches(t,r);null!==s&&i.push(s)}n({results:i})},t.prototype.addOptions=function(t,n){var i=e.map(n,function(t){return e.data(t[0],"data")});this._currentData.push.apply(this._currentData,i)},t}),t.define("select2/compat/matcher",["jquery"],function(e){function t(t){function n(n,i){var a=e.extend(!0,{},i);if(null==n.term||""===e.trim(n.term))return a;if(i.children){for(var r=i.children.length-1;r>=0;r--){var s=i.children[r];t(n.term,s.text,s)||a.children.splice(r,1)}if(a.children.length>0)return a}return t(n.term,i.text,i)?a:null}return n}return t}),t.define("select2/compat/query",[],function(){function e(e,t,n){n.get("debug")&&window.console&&console.warn,e.call(this,t,n)}return e.prototype.query=function(e,t,n){t.callback=n,this.options.get("query").call(null,t)},e}),t.define("select2/dropdown/attachContainer",[],function(){function e(e,t,n){e.call(this,t,n)}return e.prototype.position=function(e,t,n){n.find(".dropdown-wrapper").append(t),t.addClass("select2-dropdown--below"),n.addClass("select2-container--below")},e}),t.define("select2/dropdown/stopPropagation",[],function(){function e(){}return e.prototype.bind=function(e,t,n){e.call(this,t,n);var i=["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"];this.$dropdown.on(i.join(" "),function(e){e.stopPropagation()})},e}),t.define("select2/selection/stopPropagation",[],function(){function e(){}return e.prototype.bind=function(e,t,n){e.call(this,t,n);var i=["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"];this.$selection.on(i.join(" "),function(e){e.stopPropagation()})},e}),function(n){"function"==typeof t.define&&t.define.amd?t.define("jquery-mousewheel",["jquery"],n):"object"==typeof exports?module.exports=n:n(e)}(function(e){function t(t){var s=t||window.event,o=l.call(arguments,1),c=0,u=0,h=0,f=0,p=0,m=0;if(t=e.event.fix(s),t.type="mousewheel","detail"in s&&(h=-1*s.detail),"wheelDelta"in s&&(h=s.wheelDelta),"wheelDeltaY"in s&&(h=s.wheelDeltaY),"wheelDeltaX"in s&&(u=-1*s.wheelDeltaX),"axis"in s&&s.axis===s.HORIZONTAL_AXIS&&(u=-1*h,h=0),c=0===h?u:h,"deltaY"in s&&(h=-1*s.deltaY,c=h),"deltaX"in s&&(u=s.deltaX,0===h&&(c=-1*u)),0!==h||0!==u){if(1===s.deltaMode){var g=e.data(this,"mousewheel-line-height");c*=g,h*=g,u*=g}else if(2===s.deltaMode){var y=e.data(this,"mousewheel-page-height");c*=y,h*=y,u*=y}if(f=Math.max(Math.abs(h),Math.abs(u)),(!r||f<r)&&(r=f,i(s,f)&&(r/=40)),i(s,f)&&(c/=40,u/=40,h/=40),c=Math[c>=1?"floor":"ceil"](c/r),u=Math[u>=1?"floor":"ceil"](u/r),h=Math[h>=1?"floor":"ceil"](h/r),d.settings.normalizeOffset&&this.getBoundingClientRect){var v=this.getBoundingClientRect();p=t.clientX-v.left,m=t.clientY-v.top}return t.deltaX=u,t.deltaY=h,t.deltaFactor=r,t.offsetX=p,t.offsetY=m,t.deltaMode=0,o.unshift(t,c,u,h),a&&clearTimeout(a),a=setTimeout(n,200),(e.event.dispatch||e.event.handle).apply(this,o)}}function n(){r=null}function i(e,t){return d.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}var a,r,s=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],o="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(e.event.fixHooks)for(var c=s.length;c;)e.event.fixHooks[s[--c]]=e.event.mouseHooks;var d=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var n=o.length;n;)this.addEventListener(o[--n],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",d.getLineHeight(this)),e.data(this,"mousewheel-page-height",d.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var n=o.length;n;)this.removeEventListener(o[--n],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var n=e(t),i=n["offsetParent"in e.fn?"offsetParent":"parent"]();return i.length||(i=e("body")),parseInt(i.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),t.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults"],function(e,t,n,i){if(null==e.fn.select2){var a=["open","close","destroy"];e.fn.select2=function(t){if("object"==typeof(t=t||{}))return this.each(function(){var i=e.extend(!0,{},t);new n(e(this),i)}),this;if("string"==typeof t){var i,r=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=e(this).data("select2");null==n&&window.console&&console.error,i=n[t].apply(n,r)}),e.inArray(t,a)>-1?this:i}throw new Error("Invalid arguments for Select2: "+t)}}return null==e.fn.select2.defaults&&(e.fn.select2.defaults=i),n}),{define:t.define,require:t.require}}(),n=t.require("jquery.select2");return e.fn.select2.amd=t,n}),function(e){function t(e){var t=document.createElement("input"),e="on"+e,n=e in t;return n||(t.setAttribute(e,"return;"),n="function"==typeof t[e]),t=null,n}function n(t,i,a){var r=a.aliases[t];return!!r&&(r.alias&&n(r.alias,void 0,a),e.extend(!0,a,r),e.extend(!0,a,i),!0)}function i(t){function n(n){t.numericInput&&(n=n.split("").reverse().join(""));var i=!1,a=0,r=t.greedy,s=t.repeat;"*"==s&&(r=!1),1==n.length&&0==r&&0!=s&&(t.placeholder="");for(var o=e.map(n.split(""),function(e,n){var r=[];if(e==t.escapeChar)i=!0;else if(e!=t.optionalmarker.start&&e!=t.optionalmarker.end||i){var s=t.definitions[e];if(s&&!i)for(var o=0;o<s.cardinality;o++)r.push(t.placeholder.charAt((a+o)%t.placeholder.length));else r.push(e),i=!1;return a+=r.length,r}}),l=o.slice(),c=1;c<s&&r;c++)l=l.concat(o.slice());return{mask:l,repeat:s,greedy:r}}function i(n){t.numericInput&&(n=n.split("").reverse().join(""));var i=!1,a=!1,r=!1;return e.map(n.split(""),function(e,n){var s=[];if(e==t.escapeChar)a=!0;else if(e!=t.optionalmarker.start||a){if(e!=t.optionalmarker.end||a){var o=t.definitions[e];if(o&&!a){for(var l=o.prevalidator,c=l?l.length:0,d=1;d<o.cardinality;d++){var u=c>=d?l[d-1]:[],h=u.validator,f=u.cardinality;s.push({fn:h?"string"==typeof h?new RegExp(h):new function(){this.test=h}:new RegExp("."),cardinality:f||1,optionality:i,newBlockMarker:1==i&&r,offset:0,casing:o.casing,def:o.definitionSymbol||e}),1==i&&(r=!1)}s.push({fn:o.validator?"string"==typeof o.validator?new RegExp(o.validator):new function(){this.test=o.validator}:new RegExp("."),cardinality:o.cardinality,optionality:i,newBlockMarker:r,offset:0,casing:o.casing,def:o.definitionSymbol||e})}else s.push({fn:null,cardinality:0,optionality:i,newBlockMarker:r,offset:0,casing:null,def:e}),a=!1;return r=!1,s}i=!1,r=!0}else i=!0,r=!0})}function a(e){return t.optionalmarker.start+e+t.optionalmarker.end}function r(e){for(var n=0,i=0,a=e.length,r=0;r<a&&(e.charAt(r)==t.optionalmarker.start&&n++,e.charAt(r)==t.optionalmarker.end&&i++,!(n>0&&n==i));r++);var s=[e.substring(0,r)];return r<a&&s.push(e.substring(r+1,a)),s}function s(e){for(var n=e.length,i=0;i<n&&e.charAt(i)!=t.optionalmarker.start;i++);var a=[e.substring(0,i)];return i<n&&a.push(e.substring(i+1,n)),a}function o(t,d,u){var h,f,p=r(d),m=s(p[0]);m.length>1?(h=t+m[0]+a(m[1])+(p.length>1?p[1]:""),-1==e.inArray(h,c)&&""!=h&&(c.push(h),f=n(h),l.push({mask:h,_buffer:f.mask,buffer:f.mask.slice(),tests:i(h),lastValidPosition:-1,greedy:f.greedy,repeat:f.repeat,metadata:u})),h=t+m[0]+(p.length>1?p[1]:""),-1==e.inArray(h,c)&&""!=h&&(c.push(h),f=n(h),l.push({mask:h,_buffer:f.mask,buffer:f.mask.slice(),tests:i(h),lastValidPosition:-1,greedy:f.greedy,repeat:f.repeat,metadata:u})),s(m[1]).length>1&&o(t+m[0],m[1]+p[1],u),p.length>1&&s(p[1]).length>1&&(o(t+m[0]+a(m[1]),p[1],u),o(t+m[0],p[1],u))):(h=t+p,-1==e.inArray(h,c)&&""!=h&&(c.push(h),f=n(h),l.push({mask:h,_buffer:f.mask,buffer:f.mask.slice(),tests:i(h),lastValidPosition:-1,greedy:f.greedy,repeat:f.repeat,metadata:u})))}var l=[],c=[];return e.isFunction(t.mask)&&(t.mask=t.mask.call(this,t)),e.isArray(t.mask)?e.each(t.mask,function(e,t){void 0!=t.mask?o("",t.mask.toString(),t):o("",t.toString())}):o("",t.mask.toString()),t.greedy?l:l.sort(function(e,t){return e.mask.length-t.mask.length})}function a(t,n,i,a){function d(){return t[n]}function u(){return d().tests}function h(){return d()._buffer}function f(){return d().buffer}function p(a,r,s){function o(e,t,n,a){for(var r=y(e),s=n?1:0,o="",l=t.buffer,c=t.tests[r].cardinality;c>s;c--)o+=x(l,r-(c-1));return n&&(o+=n),null!=t.tests[r].fn?t.tests[r].fn.test(o,l,e,a,i):(n==x(t._buffer,e,!0)||n==i.skipOptionalPartCharacter)&&{refresh:!0,c:x(t._buffer,e,!0),pos:e}}if(s=!0===s){var l=o(a,d(),r,s);return!0===l&&(l={pos:a}),l}var c=[],l=!1,u=n,h=f().slice(),p=d().lastValidPosition,m=(w(a),[]);return e.each(t,function(e,t){if("object"==typeof t){n=e;var i,y=a,w=d().lastValidPosition;if(w==p){if(y-p>1)for(var x=-1==w?0:w;x<y&&!1!==(i=o(x,d(),h[x],!0));x++){C(f(),x,h[x],!0),!0===i&&(i={pos:x});var _=i.pos||x;d().lastValidPosition<_&&(d().lastValidPosition=_)}if(!g(y)&&!o(y,d(),r,s)){for(var S=b(y)-y,k=0;k<S&&!1===o(++y,d(),r,s);k++);m.push(n)}}if((d().lastValidPosition>=p||n==u)&&y>=0&&y<v()){if(!1!==(l=o(y,d(),r,s))){!0===l&&(l={pos:y});var _=l.pos||y;d().lastValidPosition<_&&(d().lastValidPosition=_)}c.push({activeMasksetIndex:e,result:l})}}}),n=u,function(n,i){var s=!1;if(e.each(i,function(t,i){if(s=-1==e.inArray(i.activeMasksetIndex,n)&&!1!==i.result)return!1}),s)i=e.map(i,function(i,a){if(-1==e.inArray(i.activeMasksetIndex,n))return i;t[i.activeMasksetIndex].lastValidPosition=p});else{var l,c=-1,d=-1;e.each(i,function(t,i){-1!=e.inArray(i.activeMasksetIndex,n)&&!1!==i.result&(-1==c||c>i.result.pos)&&(c=i.result.pos,d=i.activeMasksetIndex)}),i=e.map(i,function(i,s){if(-1!=e.inArray(i.activeMasksetIndex,n)){if(i.result.pos==c)return i;if(!1!==i.result){for(var u=a;u<c;u++){if(!1===(l=o(u,t[i.activeMasksetIndex],t[d].buffer[u],!0))){t[i.activeMasksetIndex].lastValidPosition=c-1;break}C(t[i.activeMasksetIndex].buffer,u,t[d].buffer[u],!0),t[i.activeMasksetIndex].lastValidPosition=u}return l=o(c,t[i.activeMasksetIndex],r,!0),!1!==l&&(C(t[i.activeMasksetIndex].buffer,c,r,!0),t[i.activeMasksetIndex].lastValidPosition=c),i}}})}return i}(m,c)}function m(){var i=n,a={activeMasksetIndex:0,lastValidPosition:-1,next:-1};e.each(t,function(e,t){"object"==typeof t&&(n=e,d().lastValidPosition>a.lastValidPosition?(a.activeMasksetIndex=e,a.lastValidPosition=d().lastValidPosition,a.next=b(d().lastValidPosition)):d().lastValidPosition==a.lastValidPosition&&(-1==a.next||a.next>b(d().lastValidPosition))&&(a.activeMasksetIndex=e,a.lastValidPosition=d().lastValidPosition,a.next=b(d().lastValidPosition)))}),n=-1!=a.lastValidPosition&&t[i].lastValidPosition==a.lastValidPosition?i:a.activeMasksetIndex,i!=n&&(k(f(),b(a.lastValidPosition),v()),d().writeOutBuffer=!0),V.data("_inputmask").activeMasksetIndex=n}function g(e){var t=y(e),n=u()[t];return void 0!=n&&n.fn}function y(e){return e%u().length}function v(){return i.getMaskLength(h(),d().greedy,d().repeat,f(),i)}function b(e){var t=v();if(e>=t)return t;for(var n=e;++n<t&&!g(n););return n}function w(e){var t=e;if(t<=0)return 0;for(;--t>0&&!g(t););return t}function C(e,t,n,i){i&&(t=_(e,t));var a=u()[y(t)],r=n;if(void 0!=r&&void 0!=a)switch(a.casing){case"upper":r=n.toUpperCase();break;case"lower":r=n.toLowerCase()}e[t]=r}function x(e,t,n){return n&&(t=_(e,t)),e[t]}function _(e,t){for(var n;void 0==e[t]&&e.length<v();)for(n=0;void 0!==h()[n];)e.push(h()[n++]);return t}function S(e,t,n){e._valueSet(t.join("")),void 0!=n&&I(e,n)}function k(e,t,n,i){for(var a=t,r=v();a<n&&a<r;a++)!0===i?g(a)||C(e,a,""):C(e,a,x(h().slice(),a,!0))}function D(e,t){var n=y(t);C(e,t,x(h(),n))}function T(e){return i.placeholder.charAt(e%i.placeholder.length)}function E(i,a,r,s,o){var l=void 0!=s?s.slice():N(i._valueGet()).split("");e.each(t,function(e,t){"object"==typeof t&&(t.buffer=t._buffer.slice(),t.lastValidPosition=-1,t.p=-1)}),!0!==r&&(n=0),a&&i._valueSet("");v();e.each(l,function(t,n){if(!0===o){var s=d().p,l=-1==s?s:w(s),c=-1==l?t:b(l);-1==e.inArray(n,h().slice(l+1,c))&&Y.call(i,void 0,!0,n.charCodeAt(0),a,r,t)}else Y.call(i,void 0,!0,n.charCodeAt(0),a,r,t)}),!0===r&&-1!=d().p&&(d().lastValidPosition=w(d().p))}function A(t){return e.inputmask.escapeRegex.call(this,t)}function N(e){return e.replace(new RegExp("("+A(h().join(""))+")*$"),"")}function M(e){for(var t,n,i=f(),a=i.slice(),n=a.length-1;n>=0;n--){var t=y(n);if(!u()[t].optionality)break;if(g(n)&&p(n,i[n],!0))break;a.pop()}S(e,a)}function R(e){if(z&&"number"==typeof e&&(!i.greedy||""!=i.placeholder)){e=f().length-e}return e}function I(t,n,a){var r,s=t.jquery&&t.length>0?t[0]:t;if("number"!=typeof n)return e(t).is(":visible")?(s.setSelectionRange?(n=s.selectionStart,a=s.selectionEnd):document.selection&&document.selection.createRange&&(r=document.selection.createRange(),n=0-r.duplicate().moveStart("character",-1e5),a=n+r.text.length),n=R(n),a=R(a),{begin:n,end:a}):{begin:0,end:0};n=R(n),a=R(a),e(t).is(":visible")&&(a="number"==typeof a?a:n,s.scrollLeft=s.scrollWidth,0==i.insertMode&&n==a&&a++,s.setSelectionRange?(s.selectionStart=n,s.selectionEnd=o?n:a):s.createTextRange&&(r=s.createTextRange(),r.collapse(!0),r.moveEnd("character",a),r.moveStart("character",n),r.select()))}function O(a){if("*"!=i.repeat){var r=!1,s=0,o=n;return e.each(t,function(e,t){if("object"==typeof t){n=e;var i=w(v());if(t.lastValidPosition>=s&&t.lastValidPosition==i){for(var o=!0,l=0;l<=i;l++){var c=g(l),d=y(l);if(c&&(void 0==a[l]||a[l]==T(l))||!c&&a[l]!=h()[d]){o=!1;break}}if(r=r||o)return!1}s=t.lastValidPosition}}),n=o,r}}function P(e,t){return z?e-t>1||e-t==1&&i.insertMode:t-e>1||t-e==1&&i.insertMode}function L(t){var n=e._data(t).events;e.each(n,function(t,n){e.each(n,function(e,t){if("inputmask"==t.namespace&&"setvalue"!=t.type){var n=t.handler;t.handler=function(e){if(!this.readOnly&&!this.disabled)return n.apply(this,arguments);e.preventDefault}}})})}function H(t){var n;if(Object.getOwnPropertyDescriptor&&(n=Object.getOwnPropertyDescriptor(t,"value")),n&&n.get){if(!t._valueGet){var i=n.get,a=n.set;t._valueGet=function(){return z?i.call(this).split("").reverse().join(""):i.call(this)},t._valueSet=function(e){a.call(this,z?e.split("").reverse().join(""):e)},Object.defineProperty(t,"value",{get:function(){var t=e(this),n=e(this).data("_inputmask"),a=n.masksets,r=n.activeMasksetIndex;return n&&n.opts.autoUnmask?t.inputmask("unmaskedvalue"):i.call(this)!=a[r]._buffer.join("")?i.call(this):""},set:function(t){a.call(this,t),e(this).triggerHandler("setvalue.inputmask")}})}}else if(document.__lookupGetter__&&t.__lookupGetter__("value")){if(!t._valueGet){var i=t.__lookupGetter__("value"),a=t.__lookupSetter__("value");t._valueGet=function(){return z?i.call(this).split("").reverse().join(""):i.call(this)},t._valueSet=function(e){a.call(this,z?e.split("").reverse().join(""):e)},t.__defineGetter__("value",function(){var t=e(this),n=e(this).data("_inputmask"),a=n.masksets,r=n.activeMasksetIndex;return n&&n.opts.autoUnmask?t.inputmask("unmaskedvalue"):i.call(this)!=a[r]._buffer.join("")?i.call(this):""}),t.__defineSetter__("value",function(t){a.call(this,t),e(this).triggerHandler("setvalue.inputmask")})}}else if(t._valueGet||(t._valueGet=function(){return z?this.value.split("").reverse().join(""):this.value},t._valueSet=function(e){this.value=z?e.split("").reverse().join(""):e}),void 0==e.valHooks.text||1!=e.valHooks.text.inputmaskpatch){var i=e.valHooks.text&&e.valHooks.text.get?e.valHooks.text.get:function(e){return e.value},a=e.valHooks.text&&e.valHooks.text.set?e.valHooks.text.set:function(e,t){return e.value=t,e};jQuery.extend(e.valHooks,{text:{get:function(t){var n=e(t)
;if(n.data("_inputmask")){if(n.data("_inputmask").opts.autoUnmask)return n.inputmask("unmaskedvalue");var a=i(t),r=n.data("_inputmask");return a!=r.masksets[r.activeMasksetIndex]._buffer.join("")?a:""}return i(t)},set:function(t,n){var i=e(t),r=a(t,n);return i.data("_inputmask")&&i.triggerHandler("setvalue.inputmask"),r},inputmaskpatch:!0}})}}function $(e,t,n,i){var a=f();if(!1!==i)for(;!g(e)&&e-1>=0;)e--;for(var r=e;r<t&&r<v();r++)if(g(r)){D(a,r);var s=b(r),o=x(a,s);if(o!=T(s))if(s<v()&&!1!==p(r,o,!0)&&u()[y(r)].def==u()[y(s)].def)C(a,r,o,!0);else if(g(r))break}else D(a,r);if(void 0!=n&&C(a,w(t),n),0==d().greedy){var l=N(a.join("")).split("");a.length=l.length;for(var r=0,c=a.length;r<c;r++)a[r]=l[r];0==a.length&&(d().buffer=h().slice())}return e}function B(e,t,n){var i=f();if(x(i,e,!0)!=T(e))for(var a=w(t);a>e&&a>=0;a--)if(g(a)){var r=w(a),s=x(i,r);s!=T(r)&&!1!==p(r,s,!0)&&u()[y(a)].def==u()[y(r)].def&&(C(i,a,s,!0),D(i,r))}else D(i,a);void 0!=n&&x(i,e)==T(e)&&C(i,e,n);var o=i.length;if(0==d().greedy){var l=N(i.join("")).split("");i.length=l.length;for(var a=0,c=i.length;a<c;a++)i[a]=l[a];0==i.length&&(d().buffer=h().slice())}return t-(o-i.length)}function j(e,n,a){if(i.numericInput||z){switch(n){case i.keyCode.BACKSPACE:n=i.keyCode.DELETE;break;case i.keyCode.DELETE:n=i.keyCode.BACKSPACE}if(z){var r=a.end;a.end=a.begin,a.begin=r}}var s=!0;if(a.begin==a.end){var o=n==i.keyCode.BACKSPACE?a.begin-1:a.begin;i.isNumeric&&""!=i.radixPoint&&f()[o]==i.radixPoint&&(a.begin=f().length-1==o?a.begin:n==i.keyCode.BACKSPACE?o:b(o),a.end=a.begin),s=!1,n==i.keyCode.BACKSPACE?a.begin--:n==i.keyCode.DELETE&&a.end++}else a.end-a.begin!=1||i.insertMode||(s=!1,n==i.keyCode.BACKSPACE&&a.begin--);k(f(),a.begin,a.end);var l=v();if(0==i.greedy)$(a.begin,l,void 0,!z&&n==i.keyCode.BACKSPACE&&!s);else{for(var c=a.begin,u=a.begin;u<a.end;u++)!g(u)&&s||(c=$(a.begin,l,void 0,!z&&n==i.keyCode.BACKSPACE&&!s));s||(a.begin=c)}var h=b(-1);k(f(),a.begin,a.end,!0),E(e,!1,void 0==t[1]||h>=a.end,f()),d().lastValidPosition<h?(d().lastValidPosition=-1,d().p=h):d().p=a.begin}function F(t){K=!1;var n=this,a=e(n),r=t.keyCode,o=I(n);r==i.keyCode.BACKSPACE||r==i.keyCode.DELETE||s&&127==r||t.ctrlKey&&88==r?(t.preventDefault(),88==r&&(G=f().join("")),j(n,r,o),m(),S(n,f(),d().p),n._valueGet()==h().join("")&&a.trigger("cleared"),i.showTooltip&&a.prop("title",d().mask)):r==i.keyCode.END||r==i.keyCode.PAGE_DOWN?setTimeout(function(){var e=b(d().lastValidPosition);i.insertMode||e!=v()||t.shiftKey||e--,I(n,t.shiftKey?o.begin:e,e)},0):r==i.keyCode.HOME&&!t.shiftKey||r==i.keyCode.PAGE_UP?I(n,0,t.shiftKey?o.begin:0):r==i.keyCode.ESCAPE||90==r&&t.ctrlKey?(E(n,!0,!1,G.split("")),a.click()):r!=i.keyCode.INSERT||t.shiftKey||t.ctrlKey?0!=i.insertMode||t.shiftKey||(r==i.keyCode.RIGHT?setTimeout(function(){var e=I(n);I(n,e.begin)},0):r==i.keyCode.LEFT&&setTimeout(function(){var e=I(n);I(n,e.begin-1)},0)):(i.insertMode=!i.insertMode,I(n,i.insertMode||o.begin!=v()?o.begin:o.begin-1));var l=I(n);!0===i.onKeyDown.call(this,t,f(),i)&&I(n,l.begin,l.end),J=-1!=e.inArray(r,i.ignorables)}function Y(a,r,s,o,l,c){if(void 0==s&&K)return!1;K=!0;var u=this,h=e(u);a=a||window.event;var s=r?s:a.which||a.charCode||a.keyCode;if(!(!0===r||a.ctrlKey&&a.altKey)&&(a.ctrlKey||a.metaKey||J))return!0;if(s){!0!==r&&46==s&&0==a.shiftKey&&","==i.radixPoint&&(s=44);var g,y,_,k=String.fromCharCode(s);if(r){var D=l?c:d().lastValidPosition+1;g={begin:D,end:D}}else g=I(u);var E=P(g.begin,g.end),A=n;E&&(n=A,e.each(t,function(e,t){"object"==typeof t&&(n=e,d().undoBuffer=f().join(""))}),j(u,i.keyCode.DELETE,g),i.insertMode||e.each(t,function(e,t){"object"==typeof t&&(n=e,B(g.begin,v()),d().lastValidPosition=b(d().lastValidPosition))}),n=A);var N=f().join("").indexOf(i.radixPoint);i.isNumeric&&!0!==r&&-1!=N&&(i.greedy&&g.begin<=N?(g.begin=w(g.begin),g.end=g.begin):k==i.radixPoint&&(g.begin=N,g.end=g.begin));var M=g.begin;y=p(M,k,l),!0===l&&(y=[{activeMasksetIndex:n,result:y}]);var R=-1;if(e.each(y,function(e,t){n=t.activeMasksetIndex,d().writeOutBuffer=!0;var a=t.result;if(!1!==a){var r=!1,s=f();if(!0!==a&&(r=a.refresh,M=void 0!=a.pos?a.pos:M,k=void 0!=a.c?a.c:k),!0!==r){if(1==i.insertMode){for(var o=v(),c=s.slice();x(c,o,!0)!=T(o)&&o>=M;)o=0==o?-1:w(o);if(o>=M){B(M,v(),k);var u=d().lastValidPosition,h=b(u);h!=v()&&u>=M&&x(f(),h,!0)!=T(h)&&(d().lastValidPosition=h)}else d().writeOutBuffer=!1}else C(s,M,k,!0);(-1==R||R>b(M))&&(R=b(M))}else if(!l){var p=M<v()?M+1:M;(-1==R||R>p)&&(R=p)}R>d().p&&(d().p=R)}}),!0!==l&&(n=A,m()),!1!==o&&(e.each(y,function(e,t){if(t.activeMasksetIndex==n)return _=t,!1}),void 0!=_)){var L=this;if(setTimeout(function(){i.onKeyValidation.call(L,_.result,i)},0),d().writeOutBuffer&&!1!==_.result){var H,$=f();H=r?void 0:i.numericInput?M>N?w(R):k==i.radixPoint?R-1:w(R-1):R,S(u,$,H),!0!==r&&setTimeout(function(){!0===O($)&&h.trigger("complete"),X=!0,h.trigger("input")},0)}else E&&(d().buffer=d().undoBuffer.split(""))}i.showTooltip&&h.prop("title",d().mask),a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)}}function U(t){var n=e(this),a=this,r=t.keyCode,s=f();l&&r==i.keyCode.BACKSPACE&&q==a._valueGet()&&F.call(this,t),i.onKeyUp.call(this,t,s,i),r==i.keyCode.TAB&&i.showMaskOnFocus&&(n.hasClass("focus.inputmask")&&0==a._valueGet().length?(s=h().slice(),S(a,s),I(a,0),G=f().join("")):(S(a,s),s.join("")==h().join("")&&-1!=e.inArray(i.radixPoint,s)?(I(a,R(0)),n.click()):I(a,R(0),R(v()))))}function W(t){if(!0===X)return X=!1,!0;var n=this,i=e(n);q=f().join(""),E(n,!1,!1),S(n,f()),!0===O(f())&&i.trigger("complete"),i.click()}var V,q,z=!1,G=f().join(""),K=!1,X=!1,J=!1;if(void 0!=a)switch(a.action){case"isComplete":return O(a.buffer);case"unmaskedvalue":return z=a.$input.data("_inputmask").isRTL,function(t,n){if(!u()||!0!==n&&t.hasClass("hasDatepicker"))return t[0]._valueGet();var a=e.map(f(),function(e,t){return g(t)&&p(t,e,!0)?e:null}),r=(z?a.reverse():a).join("");return void 0!=i.onUnMask?i.onUnMask.call(this,f().join(""),r):r}(a.$input,a.skipDatepickerCheck);case"mask":!function(a){if(V=e(a),V.is(":input")){if(V.data("_inputmask",{masksets:t,activeMasksetIndex:n,opts:i,isRTL:!1}),i.showTooltip&&V.prop("title",d().mask),d().greedy=d().greedy?d().greedy:0==d().repeat,null!=V.attr("maxLength")){var s=V.prop("maxLength");s>-1&&e.each(t,function(e,t){"object"==typeof t&&"*"==t.repeat&&(t.repeat=s)}),v()>=s&&s>-1&&(s<h().length&&(h().length=s),0==d().greedy&&(d().repeat=Math.round(s/h().length)),V.prop("maxLength",2*v()))}if(H(a),i.numericInput&&(i.isNumeric=i.numericInput),("rtl"==a.dir||i.numericInput&&i.rightAlignNumerics||i.isNumeric&&i.rightAlignNumerics)&&V.css("text-align","right"),"rtl"==a.dir||i.numericInput){a.dir="ltr",V.removeAttr("dir");var o=V.data("_inputmask");o.isRTL=!0,V.data("_inputmask",o),z=!0}V.unbind(".inputmask"),V.removeClass("focus.inputmask"),V.closest("form").bind("submit",function(){G!=f().join("")&&V.change()}).bind("reset",function(){setTimeout(function(){V.trigger("setvalue")},0)}),V.bind("mouseenter.inputmask",function(){var t=e(this),n=this;!t.hasClass("focus.inputmask")&&i.showMaskOnHover&&n._valueGet()!=f().join("")&&S(n,f())}).bind("blur.inputmask",function(){var a=e(this),r=this,s=r._valueGet(),o=f();a.removeClass("focus.inputmask"),G!=f().join("")&&a.change(),i.clearMaskOnLostFocus&&""!=s&&(s==h().join("")?r._valueSet(""):M(r)),!1===O(o)&&(a.trigger("incomplete"),i.clearIncomplete&&(e.each(t,function(e,t){"object"==typeof t&&(t.buffer=t._buffer.slice(),t.lastValidPosition=-1)}),n=0,i.clearMaskOnLostFocus?r._valueSet(""):(o=h().slice(),S(r,o))))}).bind("focus.inputmask",function(){var t=e(this),n=this,a=n._valueGet();i.showMaskOnFocus&&!t.hasClass("focus.inputmask")&&(!i.showMaskOnHover||i.showMaskOnHover&&""==a)&&n._valueGet()!=f().join("")&&S(n,f(),b(d().lastValidPosition)),t.addClass("focus.inputmask"),G=f().join("")}).bind("mouseleave.inputmask",function(){var t=e(this),n=this;i.clearMaskOnLostFocus&&(t.hasClass("focus.inputmask")||n._valueGet()==t.attr("placeholder")||(n._valueGet()==h().join("")||""==n._valueGet()?n._valueSet(""):M(n)))}).bind("click.inputmask",function(){var t=this;setTimeout(function(){var n=I(t),a=f();if(n.begin==n.end){var r,s=z?R(n.begin):n.begin,o=d().lastValidPosition;r=i.isNumeric&&!1===i.skipRadixDance&&""!=i.radixPoint&&-1!=e.inArray(i.radixPoint,a)?i.numericInput?b(e.inArray(i.radixPoint,a)):e.inArray(i.radixPoint,a):b(o),s<r?g(s)?I(t,s):I(t,b(s)):I(t,r)}},0)}).bind("dblclick.inputmask",function(){var e=this;setTimeout(function(){I(e,0,b(d().lastValidPosition))},0)}).bind(c+".inputmask dragdrop.inputmask drop.inputmask",function(t){if(!0===X)return X=!1,!0;var n=this,a=e(n);if("propertychange"==t.type&&n._valueGet().length<=v())return!0;setTimeout(function(){var e=void 0!=i.onBeforePaste?i.onBeforePaste.call(this,n._valueGet()):n._valueGet();E(n,!0,!1,e.split(""),!0),!0===O(f())&&a.trigger("complete"),a.click()},0)}).bind("setvalue.inputmask",function(){var e=this;E(e,!0),G=f().join(""),e._valueGet()==h().join("")&&e._valueSet("")}).bind("complete.inputmask",i.oncomplete).bind("incomplete.inputmask",i.onincomplete).bind("cleared.inputmask",i.oncleared).bind("keyup.inputmask",U),l?V.bind("input.inputmask",W):V.bind("keydown.inputmask",F).bind("keypress.inputmask",Y),r&&V.bind("input.inputmask",W),E(a,!0,!1),G=f().join("");var u;try{u=document.activeElement}catch(e){}u===a?(V.addClass("focus.inputmask"),I(a,b(d().lastValidPosition))):i.clearMaskOnLostFocus?f().join("")==h().join("")?a._valueSet(""):M(a):S(a,f()),L(a)}}(a.el);break;case"format":return V=e({}),V.data("_inputmask",{masksets:t,activeMasksetIndex:n,opts:i,isRTL:i.numericInput}),i.numericInput&&(i.isNumeric=i.numericInput,z=!0),E(V,!1,!1,a.value.split(""),!0),f().join("")}}if(void 0===e.fn.inputmask){var r=null!==navigator.userAgent.match(new RegExp("msie 10","i")),s=null!==navigator.userAgent.match(new RegExp("iphone","i")),o=null!==navigator.userAgent.match(new RegExp("android.*safari.*","i")),l=null!==navigator.userAgent.match(new RegExp("android.*chrome.*","i")),c=t("paste")?"paste":t("input")?"input":"propertychange";e.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},escapeChar:"\\",mask:null,oncomplete:e.noop,onincomplete:e.noop,oncleared:e.noop,repeat:0,greedy:!0,autoUnmask:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},onKeyUp:e.noop,onKeyDown:e.noop,onBeforePaste:void 0,onUnMask:void 0,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:e.noop,skipOptionalPartCharacter:" ",showTooltip:!1,numericInput:!1,isNumeric:!1,radixPoint:"",skipRadixDance:!1,rightAlignNumerics:!0,definitions:{9:{validator:"[0-9]",cardinality:1},a:{validator:"[A-Za-z-]",cardinality:1},"*":{validator:"[A-Za-z-0-9]",cardinality:1}},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],getMaskLength:function(e,t,n,i,a){var r=e.length;return t||("*"==n?r=i.length+1:n>1&&(r+=e.length*(n-1))),r}},escapeRegex:function(e){var t=["/",".","*","+","?","|","(",")","[","]","{","}","\\"];return e.replace(new RegExp("(\\"+t.join("|\\")+")","gim"),"\\$1")},format:function(t,r){var s=e.extend(!0,{},e.inputmask.defaults,r);return n(s.alias,r,s),a(i(s),0,s,{action:"format",value:t})}},e.fn.inputmask=function(t,r){var s,o=e.extend(!0,{},e.inputmask.defaults,r),l=0;if("string"==typeof t)switch(t){case"mask":return n(o.alias,r,o),s=i(o),0==s.length?this:this.each(function(){a(e.extend(!0,{},s),0,o,{action:"mask",el:this})});case"unmaskedvalue":var c=e(this);return c.data("_inputmask")?(s=c.data("_inputmask").masksets,l=c.data("_inputmask").activeMasksetIndex,o=c.data("_inputmask").opts,a(s,l,o,{action:"unmaskedvalue",$input:c})):c.val();case"remove":return this.each(function(){var t=e(this),n=this;if(t.data("_inputmask")){s=t.data("_inputmask").masksets,l=t.data("_inputmask").activeMasksetIndex,o=t.data("_inputmask").opts,n._valueSet(a(s,l,o,{action:"unmaskedvalue",$input:t,skipDatepickerCheck:!0})),t.removeData("_inputmask"),t.unbind(".inputmask"),t.removeClass("focus.inputmask");var i;Object.getOwnPropertyDescriptor&&(i=Object.getOwnPropertyDescriptor(n,"value")),i&&i.get?n._valueGet&&Object.defineProperty(n,"value",{get:n._valueGet,set:n._valueSet}):document.__lookupGetter__&&n.__lookupGetter__("value")&&n._valueGet&&(n.__defineGetter__("value",n._valueGet),n.__defineSetter__("value",n._valueSet));try{delete n._valueGet,delete n._valueSet}catch(e){n._valueGet=void 0,n._valueSet=void 0}}});case"getemptymask":return this.data("_inputmask")?(s=this.data("_inputmask").masksets,l=this.data("_inputmask").activeMasksetIndex,s[l]._buffer.join("")):"";case"hasMaskedValue":return!!this.data("_inputmask")&&!this.data("_inputmask").opts.autoUnmask;case"isComplete":return s=this.data("_inputmask").masksets,l=this.data("_inputmask").activeMasksetIndex,o=this.data("_inputmask").opts,a(s,l,o,{action:"isComplete",buffer:this[0]._valueGet().split("")});case"getmetadata":return this.data("_inputmask")?(s=this.data("_inputmask").masksets,l=this.data("_inputmask").activeMasksetIndex,s[l].metadata):void 0;default:return n(t,r,o)||(o.mask=t),s=i(o),0==s.length?this:this.each(function(){a(e.extend(!0,{},s),l,o,{action:"mask",el:this})})}else{if("object"==typeof t)return o=e.extend(!0,{},e.inputmask.defaults,t),n(o.alias,t,o),s=i(o),0==s.length?this:this.each(function(){a(e.extend(!0,{},s),l,o,{action:"mask",el:this})});if(void 0==t)return this.each(function(){var t=e(this).attr("data-inputmask");if(t&&""!=t)try{t=t.replace(new RegExp("'","g"),'"');var i=e.parseJSON("{"+t+"}");e.extend(!0,i,r),o=e.extend(!0,{},e.inputmask.defaults,i),n(o.alias,i,o),o.alias=void 0,e(this).inputmask(o)}catch(e){}})}}}}(jQuery),function(e){e.extend(e.inputmask.defaults.definitions,{h:{validator:"[01][0-9]|2[0-3]",cardinality:2,prevalidator:[{validator:"[0-2]",cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:"[0-5]",cardinality:1}]},d:{validator:"0[1-9]|[12][0-9]|3[01]",cardinality:2,prevalidator:[{validator:"[0-3]",cardinality:1}]},m:{validator:"0[1-9]|1[012]",cardinality:2,prevalidator:[{validator:"[01]",cardinality:1}]},y:{validator:"(19|20)\\d{2}",cardinality:4,prevalidator:[{validator:"[12]",cardinality:1},{validator:"(19|20)",cardinality:2},{validator:"(19|20)\\d",cardinality:3}]}}),e.extend(e.inputmask.defaults.aliases,{"dd/mm/yyyy":{mask:"1/2/y",placeholder:"dd/mm/yyyy",regex:{val1pre:new RegExp("[0-3]"),val1:new RegExp("0[1-9]|[12][0-9]|3[01]"),val2pre:function(t){var n=e.inputmask.escapeRegex.call(this,t);return new RegExp("((0[1-9]|[12][0-9]|3[01])"+n+"[01])")},val2:function(t){var n=e.inputmask.escapeRegex.call(this,t);return new RegExp("((0[1-9]|[12][0-9])"+n+"(0[1-9]|1[012]))|(30"+n+"(0[13-9]|1[012]))|(31"+n+"(0[13578]|1[02]))")}},leapday:"29/02/",separator:"/",yearrange:{minyear:1900,maxyear:2099},isInYearRange:function(e,t,n){var i=parseInt(e.concat(t.toString().slice(e.length))),a=parseInt(e.concat(n.toString().slice(e.length)));return NaN!=i&&(t<=i&&i<=n)||NaN!=a&&(t<=a&&a<=n)},determinebaseyear:function(e,t,n){var i=(new Date).getFullYear();if(e>i)return e;if(t<i){for(var a=t.toString().slice(0,2),r=t.toString().slice(2,4);t<a+n;)a--;var s=a+r;return e>s?e:s}return i},onKeyUp:function(t,n,i){var a=e(this);if(t.ctrlKey&&t.keyCode==i.keyCode.RIGHT){var r=new Date;a.val(r.getDate().toString()+(r.getMonth()+1).toString()+r.getFullYear().toString())}},definitions:{1:{validator:function(e,t,n,i,a){var r=a.regex.val1.test(e);return i||r||e.charAt(1)!=a.separator&&-1=="-./".indexOf(e.charAt(1))||!(r=a.regex.val1.test("0"+e.charAt(0)))?r:(t[n-1]="0",{pos:n,c:e.charAt(0)})},cardinality:2,prevalidator:[{validator:function(e,t,n,i,a){var r=a.regex.val1pre.test(e);return i||r||!(r=a.regex.val1.test("0"+e))?r:(t[n]="0",n++,{pos:n})},cardinality:1}]},2:{validator:function(e,t,n,i,a){var r=t.join("").substr(0,3);-1!=r.indexOf(a.placeholder[0])&&(r="01"+a.separator);var s=a.regex.val2(a.separator).test(r+e);return i||s||e.charAt(1)!=a.separator&&-1=="-./".indexOf(e.charAt(1))||!(s=a.regex.val2(a.separator).test(r+"0"+e.charAt(0)))?s:(t[n-1]="0",{pos:n,c:e.charAt(0)})},cardinality:2,prevalidator:[{validator:function(e,t,n,i,a){var r=t.join("").substr(0,3);-1!=r.indexOf(a.placeholder[0])&&(r="01"+a.separator);var s=a.regex.val2pre(a.separator).test(r+e);return i||s||!(s=a.regex.val2(a.separator).test(r+"0"+e))?s:(t[n]="0",n++,{pos:n})},cardinality:1}]},y:{validator:function(e,t,n,i,a){if(a.isInYearRange(e,a.yearrange.minyear,a.yearrange.maxyear)){if(t.join("").substr(0,6)!=a.leapday)return!0;var r=parseInt(e,10);return r%4==0&&(r%100!=0||r%400==0)}return!1},cardinality:4,prevalidator:[{validator:function(e,t,n,i,a){var r=a.isInYearRange(e,a.yearrange.minyear,a.yearrange.maxyear);if(!i&&!r){var s=a.determinebaseyear(a.yearrange.minyear,a.yearrange.maxyear,e+"0").toString().slice(0,1);if(r=a.isInYearRange(s+e,a.yearrange.minyear,a.yearrange.maxyear))return t[n++]=s[0],{pos:n};if(s=a.determinebaseyear(a.yearrange.minyear,a.yearrange.maxyear,e+"0").toString().slice(0,2),r=a.isInYearRange(s+e,a.yearrange.minyear,a.yearrange.maxyear))return t[n++]=s[0],t[n++]=s[1],{pos:n}}return r},cardinality:1},{validator:function(e,t,n,i,a){var r=a.isInYearRange(e,a.yearrange.minyear,a.yearrange.maxyear);if(!i&&!r){var s=a.determinebaseyear(a.yearrange.minyear,a.yearrange.maxyear,e).toString().slice(0,2);if(r=a.isInYearRange(e[0]+s[1]+e[1],a.yearrange.minyear,a.yearrange.maxyear))return t[n++]=s[1],{pos:n};if(s=a.determinebaseyear(a.yearrange.minyear,a.yearrange.maxyear,e).toString().slice(0,2),a.isInYearRange(s+e,a.yearrange.minyear,a.yearrange.maxyear)){if(t.join("").substr(0,6)!=a.leapday)r=!0;else{var o=parseInt(e,10);r=o%4==0&&(o%100!=0||o%400==0)}}else r=!1;if(r)return t[n-1]=s[0],t[n++]=s[1],t[n++]=e[0],{pos:n}}return r},cardinality:2},{validator:function(e,t,n,i,a){return a.isInYearRange(e,a.yearrange.minyear,a.yearrange.maxyear)},cardinality:3}]}},insertMode:!1,autoUnmask:!1},"mm/dd/yyyy":{placeholder:"mm/dd/yyyy",alias:"dd/mm/yyyy",regex:{val2pre:function(t){var n=e.inputmask.escapeRegex.call(this,t);return new RegExp("((0[13-9]|1[012])"+n+"[0-3])|(02"+n+"[0-2])")},val2:function(t){var n=e.inputmask.escapeRegex.call(this,t);return new RegExp("((0[1-9]|1[012])"+n+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+n+"30)|((0[13578]|1[02])"+n+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},leapday:"02/29/",onKeyUp:function(t,n,i){var a=e(this);if(t.ctrlKey&&t.keyCode==i.keyCode.RIGHT){var r=new Date;a.val((r.getMonth()+1).toString()+r.getDate().toString()+r.getFullYear().toString())}}},"yyyy/mm/dd":{mask:"y/1/2",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",leapday:"/02/29",onKeyUp:function(t,n,i){var a=e(this);if(t.ctrlKey&&t.keyCode==i.keyCode.RIGHT){var r=new Date;a.val(r.getFullYear().toString()+(r.getMonth()+1).toString()+r.getDate().toString())}},definitions:{2:{validator:function(e,t,n,i,a){var r=t.join("").substr(5,3);-1!=r.indexOf(a.placeholder[5])&&(r="01"+a.separator);var s=a.regex.val2(a.separator).test(r+e);if(!i&&!s&&(e.charAt(1)==a.separator||-1!="-./".indexOf(e.charAt(1)))&&(s=a.regex.val2(a.separator).test(r+"0"+e.charAt(0))))return t[n-1]="0",{pos:n,c:e.charAt(0)};if(s){if(t.join("").substr(4,4)+e!=a.leapday)return!0;var o=parseInt(t.join("").substr(0,4),10);return o%4==0&&(o%100!=0||o%400==0)}return s},cardinality:2,prevalidator:[{validator:function(e,t,n,i,a){var r=t.join("").substr(5,3);-1!=r.indexOf(a.placeholder[5])&&(r="01"+a.separator);var s=a.regex.val2pre(a.separator).test(r+e);return i||s||!(s=a.regex.val2(a.separator).test(r+"0"+e))?s:(t[n]="0",n++,{pos:n})},cardinality:1}]}}},"dd.mm.yyyy":{mask:"1.2.y",placeholder:"dd.mm.yyyy",leapday:"29.02.",separator:".",alias:"dd/mm/yyyy"},"dd-mm-yyyy":{mask:"1-2-y",placeholder:"dd-mm-yyyy",leapday:"29-02-",separator:"-",alias:"dd/mm/yyyy"},"mm.dd.yyyy":{mask:"1.2.y",placeholder:"mm.dd.yyyy",leapday:"02.29.",separator:".",alias:"mm/dd/yyyy"},"mm-dd-yyyy":{mask:"1-2-y",placeholder:"mm-dd-yyyy",leapday:"02-29-",separator:"-",alias:"mm/dd/yyyy"},"yyyy.mm.dd":{mask:"y.1.2",placeholder:"yyyy.mm.dd",leapday:".02.29",separator:".",alias:"yyyy/mm/dd"},"yyyy-mm-dd":{mask:"y-1-2",placeholder:"yyyy-mm-dd",leapday:"-02-29",separator:"-",alias:"yyyy/mm/dd"},datetime:{mask:"1/2/y h:s",placeholder:"dd/mm/yyyy hh:mm",alias:"dd/mm/yyyy",regex:{hrspre:new RegExp("[012]"),hrs24:new RegExp("2[0-9]|1[3-9]"),hrs:new RegExp("[01][0-9]|2[0-3]"),ampm:new RegExp("^[a|p|A|P][m|M]")},timeseparator:":",hourFormat:"24",definitions:{h:{validator:function(e,t,n,i,a){var r=a.regex.hrs.test(e);if(!i&&!r&&(e.charAt(1)==a.timeseparator||-1!="-.:".indexOf(e.charAt(1)))&&(r=a.regex.hrs.test("0"+e.charAt(0))))return t[n-1]="0",t[n]=e.charAt(0),n++,{pos:n};if(r&&"24"!==a.hourFormat&&a.regex.hrs24.test(e)){var s=parseInt(e,10);return 24==s?(t[n+5]="a",t[n+6]="m"):(t[n+5]="p",t[n+6]="m"),s-=12,s<10?(t[n]=s.toString(),t[n-1]="0"):(t[n]=s.toString().charAt(1),t[n-1]=s.toString().charAt(0)),{pos:n,c:t[n]}}return r},cardinality:2,prevalidator:[{validator:function(e,t,n,i,a){var r=a.regex.hrspre.test(e);return i||r||!(r=a.regex.hrs.test("0"+e))?r:(t[n]="0",n++,{pos:n})},cardinality:1}]},t:{validator:function(e,t,n,i,a){return a.regex.ampm.test(e+"m")},casing:"lower",cardinality:1}},insertMode:!1,autoUnmask:!1},datetime12:{mask:"1/2/y h:s t\\m",placeholder:"dd/mm/yyyy hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"h:s t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm:ss":{mask:"h:s:s",autoUnmask:!1},"hh:mm":{mask:"h:s",autoUnmask:!1},date:{alias:"dd/mm/yyyy"},"mm/yyyy":{mask:"1/y",placeholder:"mm/yyyy",leapday:"donotuse",separator:"/",alias:"mm/dd/yyyy"}})}(jQuery),function(e){e.extend(e.inputmask.defaults.definitions,{A:{validator:"[A-Za-z]",cardinality:1,casing:"upper"},"#":{validator:"[A-Za-z-0-9]",cardinality:1,casing:"upper"}}),e.extend(e.inputmask.defaults.aliases,{url:{mask:"ir",placeholder:"",separator:"",defaultPrefix:"http://",regex:{urlpre1:new RegExp("[fh]"),urlpre2:new RegExp("(ft|ht)"),urlpre3:new RegExp("(ftp|htt)"),urlpre4:new RegExp("(ftp:|http|ftps)"),urlpre5:new RegExp("(ftp:/|ftps:|http:|https)"),urlpre6:new RegExp("(ftp://|ftps:/|http:/|https:)"),urlpre7:new RegExp("(ftp://|ftps://|http://|https:/)"),urlpre8:new RegExp("(ftp://|ftps://|http://|https://)")},definitions:{i:{validator:function(e,t,n,i,a){return!0},cardinality:8,prevalidator:function(){for(var e=[],t=0;t<8;t++)e[t]=function(){var e=t;return{validator:function(t,n,i,a,r){if(r.regex["urlpre"+(e+1)]){var s,o=t;e+1-t.length>0&&(o=n.join("").substring(0,e+1-t.length)+""+o);var l=r.regex["urlpre"+(e+1)].test(o);if(!a&&!l){for(i-=e,s=0;s<r.defaultPrefix.length;s++)n[i]=r.defaultPrefix[s],i++;for(s=0;s<o.length-1;s++)n[i]=o[s],i++;return{pos:i}}return l}return!1},cardinality:e}}();return e}()},r:{validator:".",cardinality:50}},insertMode:!1,autoUnmask:!1},ip:{mask:["[[x]y]z.[[x]y]z.[[x]y]z.x[yz]","[[x]y]z.[[x]y]z.[[x]y]z.[[x]y][z]"],definitions:{x:{validator:"[012]",cardinality:1,definitionSymbol:"i"},y:{validator:function(e,t,n,i,a){return e=n-1>-1&&"."!=t[n-1]?t[n-1]+e:"0"+e,new RegExp("2[0-5]|[01][0-9]").test(e)},cardinality:1,definitionSymbol:"i"},z:{validator:function(e,t,n,i,a){return n-1>-1&&"."!=t[n-1]?(e=t[n-1]+e,e=n-2>-1&&"."!=t[n-2]?t[n-2]+e:"0"+e):e="00"+e,new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]").test(e)},cardinality:1,definitionSymbol:"i"}}}})}(jQuery),function(e,t){if("function"==typeof define&&define.amd)define(["moment","jquery","exports"],function(n,i,a){e.daterangepicker=t(e,a,n,i)});else if("undefined"!=typeof exports){var n=require("moment"),i="undefined"!=typeof window?window.jQuery:void 0;if(!i)try{i=require("jquery"),i.fn||(i.fn={})}catch(e){if(!i)throw new Error("jQuery dependency not found")}t(e,exports,n,i)}else e.daterangepicker=t(e,{},e.moment||moment,e.jQuery||e.Zepto||e.ender||e.$)}(this||{},function(e,t,n,i){var a=function(e,t,a){if(this.parentEl="body",this.element=i(e),this.startDate=n().startOf("day"),this.endDate=n().endOf("day"),this.minDate=!1,this.maxDate=!1,this.dateLimit=!1,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.showWeekNumbers=!1,this.showISOWeekNumbers=!1,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.linkedCalendars=!0,this.autoUpdateInput=!0,this.alwaysShowCalendars=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.drops="down",this.element.hasClass("dropup")&&(this.drops="up"),this.buttonClasses="btn btn-sm",this.applyClass="btn-success",this.cancelClass="btn-default",this.locale={format:"MM/DD/YYYY",separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:n.weekdaysMin(),monthNames:n.monthsShort(),firstDay:n.localeData().firstDayOfWeek()},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={},"object"==typeof t&&null!==t||(t={}),t=i.extend(this.element.data(),t),"string"==typeof t.template||t.template instanceof i||(t.template='<div class="daterangepicker dropdown-menu"><div class="calendar left"><div class="daterangepicker_input"><input class="input-mini" type="text" name="daterangepicker_start" value="" /><i class="fa fa-calendar glyphicon glyphicon-calendar"></i><div class="calendar-time"><div></div><i class="fa fa-clock-o glyphicon glyphicon-time"></i></div></div><div class="calendar-table"></div></div><div class="calendar right"><div class="daterangepicker_input"><input class="input-mini" type="text" name="daterangepicker_end" value="" /><i class="fa fa-calendar glyphicon glyphicon-calendar"></i><div class="calendar-time"><div></div><i class="fa fa-clock-o glyphicon glyphicon-time"></i></div></div><div class="calendar-table"></div></div><div class="ranges"><div class="range_inputs"><button class="applyBtn" disabled="disabled" type="button"></button> <button class="cancelBtn" type="button"></button></div></div></div>'),this.parentEl=i(t.parentEl&&i(t.parentEl).length?t.parentEl:this.parentEl),this.container=i(t.template).appendTo(this.parentEl),"object"==typeof t.locale&&("string"==typeof t.locale.format&&(this.locale.format=t.locale.format),"string"==typeof t.locale.separator&&(this.locale.separator=t.locale.separator),"object"==typeof t.locale.daysOfWeek&&(this.locale.daysOfWeek=t.locale.daysOfWeek.slice()),"object"==typeof t.locale.monthNames&&(this.locale.monthNames=t.locale.monthNames.slice()),"number"==typeof t.locale.firstDay&&(this.locale.firstDay=t.locale.firstDay),"string"==typeof t.locale.applyLabel&&(this.locale.applyLabel=t.locale.applyLabel),"string"==typeof t.locale.cancelLabel&&(this.locale.cancelLabel=t.locale.cancelLabel),"string"==typeof t.locale.weekLabel&&(this.locale.weekLabel=t.locale.weekLabel),"string"==typeof t.locale.customRangeLabel&&(this.locale.customRangeLabel=t.locale.customRangeLabel)),"string"==typeof t.startDate&&(this.startDate=n(t.startDate,this.locale.format)),"string"==typeof t.endDate&&(this.endDate=n(t.endDate,this.locale.format)),"string"==typeof t.minDate&&(this.minDate=n(t.minDate,this.locale.format)),"string"==typeof t.maxDate&&(this.maxDate=n(t.maxDate,this.locale.format)),"object"==typeof t.startDate&&(this.startDate=n(t.startDate)),"object"==typeof t.endDate&&(this.endDate=n(t.endDate)),"object"==typeof t.minDate&&(this.minDate=n(t.minDate)),"object"==typeof t.maxDate&&(this.maxDate=n(t.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),"string"==typeof t.applyClass&&(this.applyClass=t.applyClass),"string"==typeof t.cancelClass&&(this.cancelClass=t.cancelClass),"object"==typeof t.dateLimit&&(this.dateLimit=t.dateLimit),"string"==typeof t.opens&&(this.opens=t.opens),"string"==typeof t.drops&&(this.drops=t.drops),"boolean"==typeof t.showWeekNumbers&&(this.showWeekNumbers=t.showWeekNumbers),"boolean"==typeof t.showISOWeekNumbers&&(this.showISOWeekNumbers=t.showISOWeekNumbers),"string"==typeof t.buttonClasses&&(this.buttonClasses=t.buttonClasses),"object"==typeof t.buttonClasses&&(this.buttonClasses=t.buttonClasses.join(" ")),"boolean"==typeof t.showDropdowns&&(this.showDropdowns=t.showDropdowns),"boolean"==typeof t.singleDatePicker&&(this.singleDatePicker=t.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),"boolean"==typeof t.timePicker&&(this.timePicker=t.timePicker),"boolean"==typeof t.timePickerSeconds&&(this.timePickerSeconds=t.timePickerSeconds),"number"==typeof t.timePickerIncrement&&(this.timePickerIncrement=t.timePickerIncrement),"boolean"==typeof t.timePicker24Hour&&(this.timePicker24Hour=t.timePicker24Hour),"boolean"==typeof t.autoApply&&(this.autoApply=t.autoApply),"boolean"==typeof t.autoUpdateInput&&(this.autoUpdateInput=t.autoUpdateInput),"boolean"==typeof t.linkedCalendars&&(this.linkedCalendars=t.linkedCalendars),"function"==typeof t.isInvalidDate&&(this.isInvalidDate=t.isInvalidDate),"boolean"==typeof t.alwaysShowCalendars&&(this.alwaysShowCalendars=t.alwaysShowCalendars),0!=this.locale.firstDay)for(var r=this.locale.firstDay;r>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),r--;var s,o,l;if(void 0===t.startDate&&void 0===t.endDate&&i(this.element).is("input[type=text]")){var c=i(this.element).val(),d=c.split(this.locale.separator);s=o=null,2==d.length?(s=n(d[0],this.locale.format),o=n(d[1],this.locale.format)):this.singleDatePicker&&""!==c&&(s=n(c,this.locale.format),o=n(c,this.locale.format)),null!==s&&null!==o&&(this.setStartDate(s),this.setEndDate(o))}if("object"==typeof t.ranges){for(l in t.ranges){s="string"==typeof t.ranges[l][0]?n(t.ranges[l][0],this.locale.format):n(t.ranges[l][0]),o="string"==typeof t.ranges[l][1]?n(t.ranges[l][1],this.locale.format):n(t.ranges[l][1]),this.minDate&&s.isBefore(this.minDate)&&(s=this.minDate.clone());var u=this.maxDate;if(this.dateLimit&&s.clone().add(this.dateLimit).isAfter(u)&&(u=s.clone().add(this.dateLimit)),u&&o.isAfter(u)&&(o=u.clone()),!(this.minDate&&o.isBefore(this.minDate)||u&&s.isAfter(u))){var h=document.createElement("textarea");h.innerHTML=l;var f=h.value;this.ranges[f]=[s,o]}}var p="<ul>";for(l in this.ranges)p+="<li>"+l+"</li>";p+="<li>"+this.locale.customRangeLabel+"</li>",p+="</ul>",this.container.find(".ranges").prepend(p)}if("function"==typeof a&&(this.callback=a),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.find(".calendar-time").hide()),this.timePicker&&this.autoApply&&(this.autoApply=!1),this.autoApply&&"object"!=typeof t.ranges?this.container.find(".ranges").hide():this.autoApply&&this.container.find(".applyBtn, .cancelBtn").addClass("hide"),this.singleDatePicker&&(this.container.addClass("single"),this.container.find(".calendar.left").addClass("single"),this.container.find(".calendar.left").show(),this.container.find(".calendar.right").hide(),this.container.find(".daterangepicker_input input, .daterangepicker_input i").hide(),this.timePicker||this.container.find(".ranges").hide()),(void 0===t.ranges&&!this.singleDatePicker||this.alwaysShowCalendars)&&this.container.addClass("show-calendar"),this.container.addClass("opens"+this.opens),void 0!==t.ranges&&"right"==this.opens){var m=this.container.find(".ranges"),g=m.clone();m.remove(),this.container.find(".calendar.left").parent().prepend(g)}this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses),
this.applyClass.length&&this.container.find(".applyBtn").addClass(this.applyClass),this.cancelClass.length&&this.container.find(".cancelBtn").addClass(this.cancelClass),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel),this.container.find(".calendar").on("click.daterangepicker",".prev",i.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",i.proxy(this.clickNext,this)).on("click.daterangepicker","td.available",i.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",i.proxy(this.hoverDate,this)).on("mouseleave.daterangepicker","td.available",i.proxy(this.updateFormInputs,this)).on("change.daterangepicker","select.yearselect",i.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.monthselect",i.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",i.proxy(this.timeChanged,this)).on("click.daterangepicker",".daterangepicker_input input",i.proxy(this.showCalendars,this)).on("change.daterangepicker",".daterangepicker_input input",i.proxy(this.formInputsChanged,this)),this.container.find(".ranges").on("click.daterangepicker","button.applyBtn",i.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",i.proxy(this.clickCancel,this)).on("click.daterangepicker","li",i.proxy(this.clickRange,this)).on("mouseenter.daterangepicker","li",i.proxy(this.hoverRange,this)).on("mouseleave.daterangepicker","li",i.proxy(this.updateFormInputs,this)),this.element.is("input")?this.element.on({"click.daterangepicker":i.proxy(this.show,this),"focus.daterangepicker":i.proxy(this.show,this),"keyup.daterangepicker":i.proxy(this.elementChanged,this),"keydown.daterangepicker":i.proxy(this.keydown,this)}):this.element.on("click.daterangepicker",i.proxy(this.toggle,this)),this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))};return a.prototype={constructor:a,setStartDate:function(e){"string"==typeof e&&(this.startDate=n(e,this.locale.format)),"object"==typeof e&&(this.startDate=n(e)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate),this.isShowing||this.updateElement(),this.updateMonthsInView()},setEndDate:function(e){"string"==typeof e&&(this.endDate=n(e,this.locale.format)),"object"==typeof e&&(this.endDate=n(e)),this.timePicker||(this.endDate=this.endDate.endOf("day")),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate),this.dateLimit&&this.startDate.clone().add(this.dateLimit).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.dateLimit)),this.previousRightTime=this.endDate.clone(),this.isShowing||this.updateElement(),this.updateMonthsInView()},isInvalidDate:function(){return!1},updateView:function(){this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"),this.endDate?this.container.find(".right .calendar-time select").removeAttr("disabled").removeClass("disabled"):this.container.find(".right .calendar-time select").attr("disabled","disabled").addClass("disabled")),this.endDate?(this.container.find('input[name="daterangepicker_end"]').removeClass("active"),this.container.find('input[name="daterangepicker_start"]').addClass("active")):(this.container.find('input[name="daterangepicker_end"]').addClass("active"),this.container.find('input[name="daterangepicker_start"]').removeClass("active")),this.updateMonthsInView(),this.updateCalendars(),this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.startDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM")))return;this.leftCalendar.month=this.startDate.clone().date(2),this.linkedCalendars||this.endDate.month()==this.startDate.month()&&this.endDate.year()==this.startDate.year()?this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"):this.rightCalendar.month=this.endDate.clone().date(2)}else this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"))},updateCalendars:function(){if(this.timePicker){var e,t,n;if(this.endDate){if(e=parseInt(this.container.find(".left .hourselect").val(),10),t=parseInt(this.container.find(".left .minuteselect").val(),10),n=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,!this.timePicker24Hour){var i=this.container.find(".left .ampmselect").val();"PM"===i&&e<12&&(e+=12),"AM"===i&&12===e&&(e=0)}}else if(e=parseInt(this.container.find(".right .hourselect").val(),10),t=parseInt(this.container.find(".right .minuteselect").val(),10),n=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,!this.timePicker24Hour){var i=this.container.find(".right .ampmselect").val();"PM"===i&&e<12&&(e+=12),"AM"===i&&12===e&&(e=0)}this.leftCalendar.month.hour(e).minute(t).second(n),this.rightCalendar.month.hour(e).minute(t).second(n)}this.renderCalendar("left"),this.renderCalendar("right"),this.container.find(".ranges li").removeClass("active"),null!=this.endDate&&this.calculateChosenLabel()},renderCalendar:function(e){var t="left"==e?this.leftCalendar:this.rightCalendar,a=t.month.month(),r=t.month.year(),s=t.month.hour(),o=t.month.minute(),l=t.month.second(),c=n([r,a]).daysInMonth(),d=n([r,a,1]),u=n([r,a,c]),h=n(d).subtract(1,"month").month(),f=n(d).subtract(1,"month").year(),p=n([f,h]).daysInMonth(),m=d.day(),t=[];t.firstDay=d,t.lastDay=u;for(var g=0;g<6;g++)t[g]=[];var y=p-m+this.locale.firstDay+1;y>p&&(y-=7),m==this.locale.firstDay&&(y=p-6);for(var v,b,w=n([f,h,y,12,o,l]),g=0,v=0,b=0;g<42;g++,v++,w=n(w).add(24,"hour"))g>0&&v%7==0&&(v=0,b++),t[b][v]=w.clone().hour(s).minute(o).second(l),w.hour(12),this.minDate&&t[b][v].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&t[b][v].isBefore(this.minDate)&&"left"==e&&(t[b][v]=this.minDate.clone()),this.maxDate&&t[b][v].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&t[b][v].isAfter(this.maxDate)&&"right"==e&&(t[b][v]=this.maxDate.clone());"left"==e?this.leftCalendar.calendar=t:this.rightCalendar.calendar=t;var C="left"==e?this.minDate:this.startDate,x=this.maxDate,_=("left"==e?this.startDate:this.endDate,'<table class="table-condensed">');_+="<thead>",_+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(_+="<th></th>"),C&&!C.isBefore(t.firstDay)||this.linkedCalendars&&"left"!=e?_+="<th></th>":_+='<th class="prev available"><i class="fa fa-chevron-left glyphicon glyphicon-chevron-left"></i></th>';var S=this.locale.monthNames[t[1][1].month()]+t[1][1].format(" YYYY");if(this.showDropdowns){for(var k=t[1][1].month(),D=t[1][1].year(),T=x&&x.year()||D+5,E=C&&C.year()||D-50,A=D==E,N=D==T,M='<select class="monthselect">',R=0;R<12;R++)(!A||R>=C.month())&&(!N||R<=x.month())?M+="<option value='"+R+"'"+(R===k?" selected='selected'":"")+">"+this.locale.monthNames[R]+"</option>":M+="<option value='"+R+"'"+(R===k?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[R]+"</option>";M+="</select>";for(var I='<select class="yearselect">',O=E;O<=T;O++)I+='<option value="'+O+'"'+(O===D?' selected="selected"':"")+">"+O+"</option>";I+="</select>",S=M+I}if(_+='<th colspan="5" class="month">'+S+"</th>",x&&!x.isAfter(t.lastDay)||this.linkedCalendars&&"right"!=e&&!this.singleDatePicker?_+="<th></th>":_+='<th class="next available"><i class="fa fa-chevron-right glyphicon glyphicon-chevron-right"></i></th>',_+="</tr>",_+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(_+='<th class="week">'+this.locale.weekLabel+"</th>"),i.each(this.locale.daysOfWeek,function(e,t){_+="<th>"+t+"</th>"}),_+="</tr>",_+="</thead>",_+="<tbody>",null==this.endDate&&this.dateLimit){var P=this.startDate.clone().add(this.dateLimit).endOf("day");x&&!P.isBefore(x)||(x=P)}for(var b=0;b<6;b++){_+="<tr>",this.showWeekNumbers?_+='<td class="week">'+t[b][0].week()+"</td>":this.showISOWeekNumbers&&(_+='<td class="week">'+t[b][0].isoWeek()+"</td>");for(var v=0;v<7;v++){var L=[];t[b][v].isSame(new Date,"day")&&L.push("today"),t[b][v].isoWeekday()>5&&L.push("weekend"),t[b][v].month()!=t[1][1].month()&&L.push("off"),this.minDate&&t[b][v].isBefore(this.minDate,"day")&&L.push("off","disabled"),x&&t[b][v].isAfter(x,"day")&&L.push("off","disabled"),this.isInvalidDate(t[b][v])&&L.push("off","disabled"),t[b][v].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&L.push("active","start-date"),null!=this.endDate&&t[b][v].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&L.push("active","end-date"),null!=this.endDate&&t[b][v]>this.startDate&&t[b][v]<this.endDate&&L.push("in-range");for(var H="",$=!1,g=0;g<L.length;g++)H+=L[g]+" ","disabled"==L[g]&&($=!0);$||(H+="available"),_+='<td class="'+H.replace(/^\s+|\s+$/g,"")+'" data-title="r'+b+"c"+v+'">'+t[b][v].date()+"</td>"}_+="</tr>"}_+="</tbody>",_+="</table>",this.container.find(".calendar."+e+" .calendar-table").html(_)},renderTimePicker:function(e){var t,n,i,a=this.maxDate;if(!this.dateLimit||this.maxDate&&!this.startDate.clone().add(this.dateLimit).isAfter(this.maxDate)||(a=this.startDate.clone().add(this.dateLimit)),"left"==e)n=this.startDate.clone(),i=this.minDate;else if("right"==e){n=this.endDate?this.endDate.clone():this.previousRightTime.clone(),i=this.startDate;var r=this.container.find(".calendar.right .calendar-time div");if(""!=r.html()){if(n.hour(r.find(".hourselect option:selected").val()||n.hour()),n.minute(r.find(".minuteselect option:selected").val()||n.minute()),n.second(r.find(".secondselect option:selected").val()||n.second()),!this.timePicker24Hour){var s=r.find(".ampmselect option:selected").val();"PM"===s&&n.hour()<12&&n.hour(n.hour()+12),"AM"===s&&12===n.hour()&&n.hour(0)}n.isBefore(this.startDate)&&(n=this.startDate.clone()),n.isAfter(a)&&(n=a.clone())}}t='<select class="hourselect">';for(var o=this.timePicker24Hour?0:1,l=this.timePicker24Hour?23:12,c=o;c<=l;c++){var d=c;this.timePicker24Hour||(d=n.hour()>=12?12==c?12:c+12:12==c?0:c);var u=n.clone().hour(d),h=!1;i&&u.minute(59).isBefore(i)&&(h=!0),a&&u.minute(0).isAfter(a)&&(h=!0),d!=n.hour()||h?t+=h?'<option value="'+c+'" disabled="disabled" class="disabled">'+c+"</option>":'<option value="'+c+'">'+c+"</option>":t+='<option value="'+c+'" selected="selected">'+c+"</option>"}t+="</select> ",t+=': <select class="minuteselect">';for(var c=0;c<60;c+=this.timePickerIncrement){var f=c<10?"0"+c:c,u=n.clone().minute(c),h=!1;i&&u.second(59).isBefore(i)&&(h=!0),a&&u.second(0).isAfter(a)&&(h=!0),n.minute()!=c||h?t+=h?'<option value="'+c+'" disabled="disabled" class="disabled">'+f+"</option>":'<option value="'+c+'">'+f+"</option>":t+='<option value="'+c+'" selected="selected">'+f+"</option>"}if(t+="</select> ",this.timePickerSeconds){t+=': <select class="secondselect">';for(var c=0;c<60;c++){var f=c<10?"0"+c:c,u=n.clone().second(c),h=!1;i&&u.isBefore(i)&&(h=!0),a&&u.isAfter(a)&&(h=!0),n.second()!=c||h?t+=h?'<option value="'+c+'" disabled="disabled" class="disabled">'+f+"</option>":'<option value="'+c+'">'+f+"</option>":t+='<option value="'+c+'" selected="selected">'+f+"</option>"}t+="</select> "}if(!this.timePicker24Hour){t+='<select class="ampmselect">';var p="",m="";i&&n.clone().hour(12).minute(0).second(0).isBefore(i)&&(p=' disabled="disabled" class="disabled"'),a&&n.clone().hour(0).minute(0).second(0).isAfter(a)&&(m=' disabled="disabled" class="disabled"'),n.hour()>=12?t+='<option value="AM"'+p+'>AM</option><option value="PM" selected="selected"'+m+">PM</option>":t+='<option value="AM" selected="selected"'+p+'>AM</option><option value="PM"'+m+">PM</option>",t+="</select>"}this.container.find(".calendar."+e+" .calendar-time div").html(t)},updateFormInputs:function(){this.container.find("input[name=daterangepicker_start]").is(":focus")||this.container.find("input[name=daterangepicker_end]").is(":focus")||(this.container.find("input[name=daterangepicker_start]").val(this.startDate.format(this.locale.format)),this.endDate&&this.container.find("input[name=daterangepicker_end]").val(this.endDate.format(this.locale.format)),this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.find("button.applyBtn").removeAttr("disabled"):this.container.find("button.applyBtn").attr("disabled","disabled"))},move:function(){var e,t={top:0,left:0},n=i(window).width();this.parentEl.is("body")||(t={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},n=this.parentEl[0].clientWidth+this.parentEl.offset().left),e="up"==this.drops?this.element.offset().top-this.container.outerHeight()-t.top:this.element.offset().top+this.element.outerHeight()-t.top,this.container["up"==this.drops?"addClass":"removeClass"]("dropup"),"left"==this.opens?(this.container.css({top:e,right:n-this.element.offset().left-this.element.outerWidth(),left:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):"center"==this.opens?(this.container.css({top:e,left:this.element.offset().left-t.left+this.element.outerWidth()/2-this.container.outerWidth()/2,right:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):(this.container.css({top:e,left:this.element.offset().left-t.left,right:"auto"}),this.container.offset().left+this.container.outerWidth()>i(window).width()&&this.container.css({left:"auto",right:0}))},show:function(e){this.isShowing||(this._outsideClickProxy=i.proxy(function(e){this.outsideClick(e)},this),i(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),i(window).on("resize.daterangepicker",i.proxy(function(e){this.move(e)},this)),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.previousRightTime=this.endDate.clone(),this.updateView(),this.container.show(),this.move(),this.element.trigger("show.daterangepicker",this),this.isShowing=!0)},hide:function(e){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.callback(this.startDate,this.endDate,this.chosenLabel),this.updateElement(),i(document).off(".daterangepicker"),i(window).off(".daterangepicker"),this.container.hide(),this.element.trigger("hide.daterangepicker",this),this.isShowing=!1)},toggle:function(e){this.isShowing?this.hide():this.show()},outsideClick:function(e){var t=i(e.target);"focusin"==e.type||t.closest(this.element).length||t.closest(this.container).length||t.closest(".calendar-table").length||this.hide()},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},hoverRange:function(e){if(!this.container.find("input[name=daterangepicker_start]").is(":focus")&&!this.container.find("input[name=daterangepicker_end]").is(":focus")){var t=e.target.innerHTML;if(t==this.locale.customRangeLabel)this.updateView();else{var n=this.ranges[t];this.container.find("input[name=daterangepicker_start]").val(n[0].format(this.locale.format)),this.container.find("input[name=daterangepicker_end]").val(n[1].format(this.locale.format))}}},clickRange:function(e){var t=e.target.innerHTML;if(this.chosenLabel=t,t==this.locale.customRangeLabel)this.showCalendars();else{var n=this.ranges[t];this.startDate=n[0],this.endDate=n[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.alwaysShowCalendars||this.hideCalendars(),this.clickApply()}},clickPrev:function(e){i(e.target).parents(".calendar").hasClass("left")?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(e){i(e.target).parents(".calendar").hasClass("left")?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month")),this.updateCalendars()},hoverDate:function(e){if(!this.container.find("input[name=daterangepicker_start]").is(":focus")&&!this.container.find("input[name=daterangepicker_end]").is(":focus")&&i(e.target).hasClass("available")){var t=i(e.target).attr("data-title"),n=t.substr(1,1),a=t.substr(3,1),r=i(e.target).parents(".calendar"),s=r.hasClass("left")?this.leftCalendar.calendar[n][a]:this.rightCalendar.calendar[n][a];this.endDate?this.container.find("input[name=daterangepicker_start]").val(s.format(this.locale.format)):this.container.find("input[name=daterangepicker_end]").val(s.format(this.locale.format));var o=this.leftCalendar,l=this.rightCalendar,c=this.startDate;this.endDate||this.container.find(".calendar td").each(function(e,t){if(!i(t).hasClass("week")){var n=i(t).attr("data-title"),a=n.substr(1,1),r=n.substr(3,1),d=i(t).parents(".calendar"),u=d.hasClass("left")?o.calendar[a][r]:l.calendar[a][r];u.isAfter(c)&&u.isBefore(s)?i(t).addClass("in-range"):i(t).removeClass("in-range")}})}},clickDate:function(e){if(i(e.target).hasClass("available")){var t=i(e.target).attr("data-title"),n=t.substr(1,1),a=t.substr(3,1),r=i(e.target).parents(".calendar"),s=r.hasClass("left")?this.leftCalendar.calendar[n][a]:this.rightCalendar.calendar[n][a];if(this.endDate||s.isBefore(this.startDate,"day")){if(this.timePicker){var o=parseInt(this.container.find(".left .hourselect").val(),10);if(!this.timePicker24Hour){var l=this.container.find(".left .ampmselect").val();"PM"===l&&o<12&&(o+=12),"AM"===l&&12===o&&(o=0)}var c=parseInt(this.container.find(".left .minuteselect").val(),10),d=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0;s=s.clone().hour(o).minute(c).second(d)}this.endDate=null,this.setStartDate(s.clone())}else if(!this.endDate&&s.isBefore(this.startDate))this.setEndDate(this.startDate.clone());else{if(this.timePicker){var o=parseInt(this.container.find(".right .hourselect").val(),10);if(!this.timePicker24Hour){var l=this.container.find(".right .ampmselect").val();"PM"===l&&o<12&&(o+=12),"AM"===l&&12===o&&(o=0)}var c=parseInt(this.container.find(".right .minuteselect").val(),10),d=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0;s=s.clone().hour(o).minute(c).second(d)}this.setEndDate(s.clone()),this.autoApply&&(this.calculateChosenLabel(),this.clickApply())}this.singleDatePicker&&(this.setEndDate(this.startDate),this.timePicker||this.clickApply()),this.updateView()}},calculateChosenLabel:function(){var e=!0,t=0;for(var n in this.ranges){if(this.timePicker){if(this.startDate.isSame(this.ranges[n][0])&&this.endDate.isSame(this.ranges[n][1])){e=!1,this.chosenLabel=this.container.find(".ranges li:eq("+t+")").addClass("active").html();break}}else if(this.startDate.format("YYYY-MM-DD")==this.ranges[n][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[n][1].format("YYYY-MM-DD")){e=!1,this.chosenLabel=this.container.find(".ranges li:eq("+t+")").addClass("active").html();break}t++}e&&(this.chosenLabel=this.container.find(".ranges li:last").addClass("active").html(),this.showCalendars())},clickApply:function(e){this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(e){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.hide(),this.element.trigger("cancel.daterangepicker",this)},monthOrYearChanged:function(e){var t=i(e.target).closest(".calendar").hasClass("left"),n=t?"left":"right",a=this.container.find(".calendar."+n),r=parseInt(a.find(".monthselect").val(),10),s=a.find(".yearselect").val();t||(s<this.startDate.year()||s==this.startDate.year()&&r<this.startDate.month())&&(r=this.startDate.month(),s=this.startDate.year()),this.minDate&&(s<this.minDate.year()||s==this.minDate.year()&&r<this.minDate.month())&&(r=this.minDate.month(),s=this.minDate.year()),this.maxDate&&(s>this.maxDate.year()||s==this.maxDate.year()&&r>this.maxDate.month())&&(r=this.maxDate.month(),s=this.maxDate.year()),t?(this.leftCalendar.month.month(r).year(s),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(r).year(s),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month"))),this.updateCalendars()},timeChanged:function(e){var t=i(e.target).closest(".calendar"),n=t.hasClass("left"),a=parseInt(t.find(".hourselect").val(),10),r=parseInt(t.find(".minuteselect").val(),10),s=this.timePickerSeconds?parseInt(t.find(".secondselect").val(),10):0;if(!this.timePicker24Hour){var o=t.find(".ampmselect").val();"PM"===o&&a<12&&(a+=12),"AM"===o&&12===a&&(a=0)}if(n){var l=this.startDate.clone();l.hour(a),l.minute(r),l.second(s),this.setStartDate(l),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")==l.format("YYYY-MM-DD")&&this.endDate.isBefore(l)&&this.setEndDate(l.clone())}else if(this.endDate){var c=this.endDate.clone();c.hour(a),c.minute(r),c.second(s),this.setEndDate(c)}this.updateCalendars(),this.updateFormInputs(),this.renderTimePicker("left"),this.renderTimePicker("right")},formInputsChanged:function(e){var t=i(e.target).closest(".calendar").hasClass("right"),a=n(this.container.find('input[name="daterangepicker_start"]').val(),this.locale.format),r=n(this.container.find('input[name="daterangepicker_end"]').val(),this.locale.format);a.isValid()&&r.isValid()&&(t&&r.isBefore(a)&&(a=r.clone()),this.setStartDate(a),this.setEndDate(r),t?this.container.find('input[name="daterangepicker_start"]').val(this.startDate.format(this.locale.format)):this.container.find('input[name="daterangepicker_end"]').val(this.endDate.format(this.locale.format))),this.updateCalendars(),this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"))},elementChanged:function(){if(this.element.is("input")&&this.element.val().length&&!(this.element.val().length<this.locale.format.length)){var e=this.element.val().split(this.locale.separator),t=null,i=null;2===e.length&&(t=n(e[0],this.locale.format),i=n(e[1],this.locale.format)),(this.singleDatePicker||null===t||null===i)&&(t=n(this.element.val(),this.locale.format),i=t),t.isValid()&&i.isValid()&&(this.setStartDate(t),this.setEndDate(i),this.updateView())}},keydown:function(e){9!==e.keyCode&&13!==e.keyCode||this.hide()},updateElement:function(){this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData()}},i.fn.daterangepicker=function(e,t){return this.each(function(){var n=i(this);n.data("daterangepicker")&&n.data("daterangepicker").remove(),n.data("daterangepicker",new a(n,e,t))}),this},a}),function(e,t){function n(){return new Date(Date.UTC.apply(Date,arguments))}function i(){var e=new Date;return n(e.getFullYear(),e.getMonth(),e.getDate())}function a(e){return function(){return this[e].apply(this,arguments)}}function r(t,n){function i(e,t){return t.toLowerCase()}var a,r=e(t).data(),s={},o=new RegExp("^"+n.toLowerCase()+"([A-Z])");n=new RegExp("^"+n.toLowerCase());for(var l in r)n.test(l)&&(a=l.replace(o,i),s[a]=r[l]);return s}function s(t){var n={};if(p[t]||(t=t.split("-")[0],p[t])){var i=p[t];return e.each(f,function(e,t){t in i&&(n[t]=i[t])}),n}}var o=e(window),l=function(){var t={get:function(e){return this.slice(e)[0]},contains:function(e){for(var t=e&&e.valueOf(),n=0,i=this.length;n<i;n++)if(this[n].valueOf()===t)return n;return-1},remove:function(e){this.splice(e,1)},replace:function(t){t&&(e.isArray(t)||(t=[t]),this.clear(),this.push.apply(this,t))},clear:function(){this.splice(0)},copy:function(){var e=new l;return e.replace(this),e}};return function(){var n=[];return n.push.apply(n,arguments),e.extend(n,t),n}}(),c=function(t,n){this.dates=new l,this.viewDate=i(),this.focusDate=null,this._process_options(n),this.element=e(t),this.isInline=!1,this.isInput=this.element.is("input"),this.component=!!this.element.is(".date")&&this.element.find(".add-on, .input-group-addon, .btn"),this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=e(m.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(e,t){return parseInt(t)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};c.prototype={constructor:c,_process_options:function(t){this._o=e.extend({},this._o,t);var n=this.o=e.extend({},this._o),i=n.language;switch(p[i]||(i=i.split("-")[0],p[i]||(i=h.language)),n.language=i,n.startView){case 2:case"decade":n.startView=2;break;case 1:case"year":n.startView=1;break;default:n.startView=0}switch(n.minViewMode){case 1:case"months":n.minViewMode=1;break;case 2:case"years":n.minViewMode=2;break;default:n.minViewMode=0}n.startView=Math.max(n.startView,n.minViewMode),!0!==n.multidate&&(n.multidate=Number(n.multidate)||!1,!1!==n.multidate?n.multidate=Math.max(0,n.multidate):n.multidate=1),n.multidateSeparator=String(n.multidateSeparator),n.weekStart%=7,n.weekEnd=(n.weekStart+6)%7;var a=m.parseFormat(n.format);n.startDate!==-1/0&&(n.startDate?n.startDate instanceof Date?n.startDate=this._local_to_utc(this._zero_time(n.startDate)):n.startDate=m.parseDate(n.startDate,a,n.language):n.startDate=-1/0),n.endDate!==1/0&&(n.endDate?n.endDate instanceof Date?n.endDate=this._local_to_utc(this._zero_time(n.endDate)):n.endDate=m.parseDate(n.endDate,a,n.language):n.endDate=1/0),n.daysOfWeekDisabled=n.daysOfWeekDisabled||[],e.isArray(n.daysOfWeekDisabled)||(n.daysOfWeekDisabled=n.daysOfWeekDisabled.split(/[,\s]*/)),n.daysOfWeekDisabled=e.map(n.daysOfWeekDisabled,function(e){return parseInt(e,10)});var r=String(n.orientation).toLowerCase().split(/\s+/g),s=n.orientation.toLowerCase();if(r=e.grep(r,function(e){return/^auto|left|right|top|bottom$/.test(e)}),n.orientation={x:"auto",y:"auto"},s&&"auto"!==s)if(1===r.length)switch(r[0]){case"top":case"bottom":n.orientation.y=r[0];break;case"left":case"right":n.orientation.x=r[0]}else s=e.grep(r,function(e){return/^left|right$/.test(e)}),n.orientation.x=s[0]||"auto",s=e.grep(r,function(e){return/^top|bottom$/.test(e)}),n.orientation.y=s[0]||"auto";else;},_events:[],_secondaryEvents:[],_applyEvents:function(e){for(var t,n,i,a=0;a<e.length;a++)t=e[a][0],2===e[a].length?(n=void 0,i=e[a][1]):3===e[a].length&&(n=e[a][1],i=e[a][2]),t.on(i,n)},_unapplyEvents:function(e){for(var t,n,i,a=0;a<e.length;a++)t=e[a][0],2===e[a].length?(i=void 0,n=e[a][1]):3===e[a].length&&(i=e[a][1],n=e[a][2]),t.off(n,i)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:e.proxy(this.show,this),keyup:e.proxy(function(t){-1===e.inArray(t.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:e.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:e.proxy(this.show,this),keyup:e.proxy(function(t){-1===e.inArray(t.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:e.proxy(this.keydown,this)}],[this.component,{click:e.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:e.proxy(this.show,this)}]],this._events.push([this.element,"*",{blur:e.proxy(function(e){this._focused_from=e.target},this)}],[this.element,{blur:e.proxy(function(e){this._focused_from=e.target},this)}]),this._secondaryEvents=[[this.picker,{click:e.proxy(this.click,this)}],[e(window),{resize:e.proxy(this.place,this)}],[e(document),{"mousedown touchstart":e.proxy(function(e){this.element.is(e.target)||this.element.find(e.target).length||this.picker.is(e.target)||this.picker.find(e.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,n){var i=n||this.dates.get(-1),a=this._utc_to_local(i);this.element.trigger({type:t,date:a,dates:e.map(this.dates,this._utc_to_local),format:e.proxy(function(e,t){0===arguments.length?(e=this.dates.length-1,t=this.o.format):"string"==typeof e&&(t=e,e=this.dates.length-1),t=t||this.o.format;var n=this.dates.get(e);return m.formatDate(n,t,this.o.language)},this)})},show:function(){this.isInline||this.picker.appendTo("body"),this.picker.show(),this.place(),this._attachSecondaryEvents(),this._trigger("show")},hide:function(){this.isInline||this.picker.is(":visible")&&(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date},_utc_to_local:function(e){return e&&new Date(e.getTime()+6e4*e.getTimezoneOffset())},_local_to_utc:function(e){return e&&new Date(e.getTime()-6e4*e.getTimezoneOffset())},_zero_time:function(e){return e&&new Date(e.getFullYear(),e.getMonth(),e.getDate())},_zero_utc_time:function(e){return e&&new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()))},getDates:function(){return e.map(this.dates,this._utc_to_local)},getUTCDates:function(){return e.map(this.dates,function(e){return new Date(e)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){return new Date(this.dates.get(-1))},
setDates:function(){var t=e.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,t),this._trigger("changeDate"),this.setValue()},setUTCDates:function(){var t=e.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,e.map(t,this._utc_to_local)),this._trigger("changeDate"),this.setValue()},setDate:a("setDates"),setUTCDate:a("setUTCDates"),setValue:function(){var e=this.getFormattedDate();this.isInput?this.element.val(e).change():this.component&&this.element.find("input").val(e).change()},getFormattedDate:function(t){void 0===t&&(t=this.o.format);var n=this.o.language;return e.map(this.dates,function(e){return m.formatDate(e,t,n)}).join(this.o.multidateSeparator)},setStartDate:function(e){this._process_options({startDate:e}),this.update(),this.updateNavArrows()},setEndDate:function(e){this._process_options({endDate:e}),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(e){this._process_options({daysOfWeekDisabled:e}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var t=this.picker.outerWidth(),n=this.picker.outerHeight(),i=o.width(),a=o.height(),r=o.scrollTop(),s=parseInt(this.element.parents().filter(function(){return"auto"!==e(this).css("z-index")}).first().css("z-index"))+10,l=this.component?this.component.parent().offset():this.element.offset(),c=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),d=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),u=l.left,h=l.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(u-=t-d)):(this.picker.addClass("datepicker-orient-left"),l.left<0?u-=l.left-10:l.left+t>i&&(u=i-t-10));var f,p,m=this.o.orientation.y;"auto"===m&&(f=-r+l.top-n,p=r+a-(l.top+c+n),m=Math.max(f,p)===p?"top":"bottom"),this.picker.addClass("datepicker-orient-"+m),"top"===m?h+=c:h-=n+parseInt(this.picker.css("padding-top")),this.picker.css({top:h,left:u,zIndex:s})}},_allow_update:!0,update:function(){if(this._allow_update){var t=this.dates.copy(),n=[],i=!1;arguments.length?(e.each(arguments,e.proxy(function(e,t){t instanceof Date&&(t=this._local_to_utc(t)),n.push(t)},this)),i=!0):(n=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),n=n&&this.o.multidate?n.split(this.o.multidateSeparator):[n],delete this.element.data().date),n=e.map(n,e.proxy(function(e){return m.parseDate(e,this.o.format,this.o.language)},this)),n=e.grep(n,e.proxy(function(e){return e<this.o.startDate||e>this.o.endDate||!e},this),!0),this.dates.replace(n),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate&&(this.viewDate=new Date(this.o.endDate)),i?this.setValue():n.length&&String(t)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&t.length&&this._trigger("clearDate"),this.fill()}},fillDow:function(){var e=this.o.weekStart,t="<tr>";if(this.o.calendarWeeks){var n='<th class="cw">&nbsp;</th>';t+=n,this.picker.find(".datepicker-days thead tr:first-child").prepend(n)}for(;e<this.o.weekStart+7;)t+='<th class="dow">'+p[this.o.language].daysMin[e++%7]+"</th>";t+="</tr>",this.picker.find(".datepicker-days thead").append(t)},fillMonths:function(){for(var e="",t=0;t<12;)e+='<span class="month">'+p[this.o.language].monthsShort[t++]+"</span>";this.picker.find(".datepicker-months td").html(e)},setRange:function(t){t&&t.length?this.range=e.map(t,function(e){return e.valueOf()}):delete this.range,this.fill()},getClassNames:function(t){var n=[],i=this.viewDate.getUTCFullYear(),a=this.viewDate.getUTCMonth(),r=new Date;return t.getUTCFullYear()<i||t.getUTCFullYear()===i&&t.getUTCMonth()<a?n.push("old"):(t.getUTCFullYear()>i||t.getUTCFullYear()===i&&t.getUTCMonth()>a)&&n.push("new"),this.focusDate&&t.valueOf()===this.focusDate.valueOf()&&n.push("focused"),this.o.todayHighlight&&t.getUTCFullYear()===r.getFullYear()&&t.getUTCMonth()===r.getMonth()&&t.getUTCDate()===r.getDate()&&n.push("today"),-1!==this.dates.contains(t)&&n.push("active"),(t.valueOf()<this.o.startDate||t.valueOf()>this.o.endDate||-1!==e.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled))&&n.push("disabled"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&n.push("range"),-1!==e.inArray(t.valueOf(),this.range)&&n.push("selected")),n},fill:function(){var t,i=new Date(this.viewDate),a=i.getUTCFullYear(),r=i.getUTCMonth(),s=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,o=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,l=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,c=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,d=p[this.o.language].today||p.en.today||"",u=p[this.o.language].clear||p.en.clear||"";this.picker.find(".datepicker-days thead th.datepicker-switch").text(p[this.o.language].months[r]+" "+a),this.picker.find("tfoot th.today").text(d).toggle(!1!==this.o.todayBtn),this.picker.find("tfoot th.clear").text(u).toggle(!1!==this.o.clearBtn),this.updateNavArrows(),this.fillMonths();var h=n(a,r-1,28),f=m.getDaysInMonth(h.getUTCFullYear(),h.getUTCMonth());h.setUTCDate(f),h.setUTCDate(f-(h.getUTCDay()-this.o.weekStart+7)%7);var g=new Date(h);g.setUTCDate(g.getUTCDate()+42),g=g.valueOf();for(var y,v=[];h.valueOf()<g;){if(h.getUTCDay()===this.o.weekStart&&(v.push("<tr>"),this.o.calendarWeeks)){var b=new Date(+h+(this.o.weekStart-h.getUTCDay()-7)%7*864e5),w=new Date(Number(b)+(11-b.getUTCDay())%7*864e5),C=new Date(Number(C=n(w.getUTCFullYear(),0,1))+(11-C.getUTCDay())%7*864e5),x=(w-C)/864e5/7+1;v.push('<td class="cw">'+x+"</td>")}if(y=this.getClassNames(h),y.push("day"),this.o.beforeShowDay!==e.noop){var _=this.o.beforeShowDay(this._utc_to_local(h));void 0===_?_={}:"boolean"==typeof _?_={enabled:_}:"string"==typeof _&&(_={classes:_}),!1===_.enabled&&y.push("disabled"),_.classes&&(y=y.concat(_.classes.split(/\s+/))),_.tooltip&&(t=_.tooltip)}y=e.unique(y),v.push('<td class="'+y.join(" ")+'"'+(t?' title="'+t+'"':"")+">"+h.getUTCDate()+"</td>"),h.getUTCDay()===this.o.weekEnd&&v.push("</tr>"),h.setUTCDate(h.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(v.join(""));var S=this.picker.find(".datepicker-months").find("th:eq(1)").text(a).end().find("span").removeClass("active");e.each(this.dates,function(e,t){t.getUTCFullYear()===a&&S.eq(t.getUTCMonth()).addClass("active")}),(a<s||a>l)&&S.addClass("disabled"),a===s&&S.slice(0,o).addClass("disabled"),a===l&&S.slice(c+1).addClass("disabled"),v="",a=10*parseInt(a/10,10);var k=this.picker.find(".datepicker-years").find("th:eq(1)").text(a+"-"+(a+9)).end().find("td");a-=1;for(var D,T=e.map(this.dates,function(e){return e.getUTCFullYear()}),E=-1;E<11;E++)D=["year"],-1===E?D.push("old"):10===E&&D.push("new"),-1!==e.inArray(a,T)&&D.push("active"),(a<s||a>l)&&D.push("disabled"),v+='<span class="'+D.join(" ")+'">'+a+"</span>",a+=1;k.html(v)},updateNavArrows:function(){if(this._allow_update){var e=new Date(this.viewDate),t=e.getUTCFullYear(),n=e.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-1/0&&t<=this.o.startDate.getUTCFullYear()&&n<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&t>=this.o.endDate.getUTCFullYear()&&n>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-1/0&&t<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&t>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(t){t.preventDefault();var i,a,r,s=e(t.target).closest("span, td, th");if(1===s.length)switch(s[0].nodeName.toLowerCase()){case"th":switch(s[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var o=m.modes[this.viewMode].navStep*("prev"===s[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,o),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,o),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var l=new Date;l=n(l.getFullYear(),l.getMonth(),l.getDate(),0,0,0),this.showMode(-2);var c="linked"===this.o.todayBtn?null:"view";this._setDate(l,c);break;case"clear":var d;this.isInput?d=this.element:this.component&&(d=this.element.find("input")),d&&d.val("").change(),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()}break;case"span":s.is(".disabled")||(this.viewDate.setUTCDate(1),s.is(".month")?(r=1,a=s.parent().find("span").index(s),i=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(a),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(n(i,a,r))):(r=1,a=0,i=parseInt(s.text(),10)||0,this.viewDate.setUTCFullYear(i),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(n(i,a,r))),this.showMode(-1),this.fill());break;case"td":s.is(".day")&&!s.is(".disabled")&&(r=parseInt(s.text(),10)||1,i=this.viewDate.getUTCFullYear(),a=this.viewDate.getUTCMonth(),s.is(".old")?0===a?(a=11,i-=1):a-=1:s.is(".new")&&(11===a?(a=0,i+=1):a+=1),this._setDate(n(i,a,r)))}this.picker.is(":visible")&&this._focused_from&&e(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(e){var t=this.dates.contains(e);if(e?-1!==t?this.dates.remove(t):this.dates.push(e):this.dates.clear(),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(e,t){t&&"date"!==t||this._toggle_multidate(e&&new Date(e)),t&&"view"!==t||(this.viewDate=e&&new Date(e)),this.fill(),this.setValue(),this._trigger("changeDate");var n;this.isInput?n=this.element:this.component&&(n=this.element.find("input")),n&&n.change(),!this.o.autoclose||t&&"date"!==t||this.hide()},moveMonth:function(e,t){if(e){if(!t)return e;var n,i,a=new Date(e.valueOf()),r=a.getUTCDate(),s=a.getUTCMonth(),o=Math.abs(t);if(t=t>0?1:-1,1===o)i=-1===t?function(){return a.getUTCMonth()===s}:function(){return a.getUTCMonth()!==n},n=s+t,a.setUTCMonth(n),(n<0||n>11)&&(n=(n+12)%12);else{for(var l=0;l<o;l++)a=this.moveMonth(a,t);n=a.getUTCMonth(),a.setUTCDate(r),i=function(){return n!==a.getUTCMonth()}}for(;i();)a.setUTCDate(--r),a.setUTCMonth(n);return a}},moveYear:function(e,t){return this.moveMonth(e,12*t)},dateWithinRange:function(e){return e>=this.o.startDate&&e<=this.o.endDate},keydown:function(e){if(this.picker.is(":not(:visible)"))return void(27===e.keyCode&&this.show());var t,n,a,r=!1,s=this.focusDate||this.viewDate;switch(e.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),e.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;t=37===e.keyCode?-1:1,e.ctrlKey?(n=this.moveYear(this.dates.get(-1)||i(),t),a=this.moveYear(s,t),this._trigger("changeYear",this.viewDate)):e.shiftKey?(n=this.moveMonth(this.dates.get(-1)||i(),t),a=this.moveMonth(s,t),this._trigger("changeMonth",this.viewDate)):(n=new Date(this.dates.get(-1)||i()),n.setUTCDate(n.getUTCDate()+t),a=new Date(s),a.setUTCDate(s.getUTCDate()+t)),this.dateWithinRange(n)&&(this.focusDate=this.viewDate=a,this.setValue(),this.fill(),e.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation)break;t=38===e.keyCode?-1:1,e.ctrlKey?(n=this.moveYear(this.dates.get(-1)||i(),t),a=this.moveYear(s,t),this._trigger("changeYear",this.viewDate)):e.shiftKey?(n=this.moveMonth(this.dates.get(-1)||i(),t),a=this.moveMonth(s,t),this._trigger("changeMonth",this.viewDate)):(n=new Date(this.dates.get(-1)||i()),n.setUTCDate(n.getUTCDate()+7*t),a=new Date(s),a.setUTCDate(s.getUTCDate()+7*t)),this.dateWithinRange(n)&&(this.focusDate=this.viewDate=a,this.setValue(),this.fill(),e.preventDefault());break;case 32:break;case 13:s=this.focusDate||this.dates.get(-1)||this.viewDate,this._toggle_multidate(s),r=!0,this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(e.preventDefault(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}if(r){this.dates.length?this._trigger("changeDate"):this._trigger("clearDate");var o;this.isInput?o=this.element:this.component&&(o=this.element.find("input")),o&&o.change()}},showMode:function(e){e&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+e))),this.picker.find(">div").hide().filter(".datepicker-"+m.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var d=function(t,n){this.element=e(t),this.inputs=e.map(n.inputs,function(e){return e.jquery?e[0]:e}),delete n.inputs,e(this.inputs).datepicker(n).bind("changeDate",e.proxy(this.dateUpdated,this)),this.pickers=e.map(this.inputs,function(t){return e(t).data("datepicker")}),this.updateDates()};d.prototype={updateDates:function(){this.dates=e.map(this.pickers,function(e){return e.getUTCDate()}),this.updateRanges()},updateRanges:function(){var t=e.map(this.dates,function(e){return e.valueOf()});e.each(this.pickers,function(e,n){n.setRange(t)})},dateUpdated:function(t){if(!this.updating){this.updating=!0;var n=e(t.target).data("datepicker"),i=n.getUTCDate(),a=e.inArray(t.target,this.inputs),r=this.inputs.length;if(-1!==a){if(e.each(this.pickers,function(e,t){t.getUTCDate()||t.setUTCDate(i)}),i<this.dates[a])for(;a>=0&&i<this.dates[a];)this.pickers[a--].setUTCDate(i);else if(i>this.dates[a])for(;a<r&&i>this.dates[a];)this.pickers[a++].setUTCDate(i);this.updateDates(),delete this.updating}}},remove:function(){e.map(this.pickers,function(e){e.remove()}),delete this.element.data().datepicker}};var u=e.fn.datepicker;e.fn.datepicker=function(t){var n=Array.apply(null,arguments);n.shift();var i;return this.each(function(){var a=e(this),o=a.data("datepicker"),l="object"==typeof t&&t;if(!o){var u=r(this,"date"),f=e.extend({},h,u,l),p=s(f.language),m=e.extend({},h,p,u,l);if(a.is(".input-daterange")||m.inputs){var g={inputs:m.inputs||a.find("input").toArray()};a.data("datepicker",o=new d(this,e.extend(m,g)))}else a.data("datepicker",o=new c(this,m))}if("string"==typeof t&&"function"==typeof o[t]&&void 0!==(i=o[t].apply(o,n)))return!1}),void 0!==i?i:this};var h=e.fn.datepicker.defaults={autoclose:!1,beforeShowDay:e.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},f=e.fn.datepicker.locale_opts=["format","rtl","weekStart"];e.fn.datepicker.Constructor=c;var p=e.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},m={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(e){return e%4==0&&e%100!=0||e%400==0},getDaysInMonth:function(e,t){return[31,m.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(e){var t=e.replace(this.validParts,"\0").split("\0"),n=e.match(this.validParts);if(!t||!t.length||!n||0===n.length)throw new Error("Invalid date format.");return{separators:t,parts:n}},parseDate:function(t,i,a){function r(){var e=this.slice(0,u[l].length);return e===u[l].slice(0,e.length)}if(t){if(t instanceof Date)return t;"string"==typeof i&&(i=m.parseFormat(i));var s,o,l,d=/([\-+]\d+)([dmwy])/,u=t.match(/([\-+]\d+)([dmwy])/g);if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(t)){for(t=new Date,l=0;l<u.length;l++)switch(s=d.exec(u[l]),o=parseInt(s[1]),s[2]){case"d":t.setUTCDate(t.getUTCDate()+o);break;case"m":t=c.prototype.moveMonth.call(c.prototype,t,o);break;case"w":t.setUTCDate(t.getUTCDate()+7*o);break;case"y":t=c.prototype.moveYear.call(c.prototype,t,o)}return n(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),0,0,0)}u=t&&t.match(this.nonpunctuation)||[],t=new Date;var h,f,g={},y=["yyyy","yy","M","MM","m","mm","d","dd"],v={yyyy:function(e,t){return e.setUTCFullYear(t)},yy:function(e,t){return e.setUTCFullYear(2e3+t)},m:function(e,t){if(isNaN(e))return e;for(t-=1;t<0;)t+=12;for(t%=12,e.setUTCMonth(t);e.getUTCMonth()!==t;)e.setUTCDate(e.getUTCDate()-1);return e},d:function(e,t){return e.setUTCDate(t)}};v.M=v.MM=v.mm=v.m,v.dd=v.d,t=n(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0);var b=i.parts.slice();if(u.length!==b.length&&(b=e(b).filter(function(t,n){return-1!==e.inArray(n,y)}).toArray()),u.length===b.length){var w;for(l=0,w=b.length;l<w;l++){if(h=parseInt(u[l],10),s=b[l],isNaN(h))switch(s){case"MM":f=e(p[a].months).filter(r),h=e.inArray(f[0],p[a].months)+1;break;case"M":f=e(p[a].monthsShort).filter(r),h=e.inArray(f[0],p[a].monthsShort)+1}g[s]=h}var C,x;for(l=0;l<y.length;l++)(x=y[l])in g&&!isNaN(g[x])&&(C=new Date(t),v[x](C,g[x]),isNaN(C)||(t=C))}return t}},formatDate:function(t,n,i){if(!t)return"";"string"==typeof n&&(n=m.parseFormat(n));var a={d:t.getUTCDate(),D:p[i].daysShort[t.getUTCDay()],DD:p[i].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:p[i].monthsShort[t.getUTCMonth()],MM:p[i].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};a.dd=(a.d<10?"0":"")+a.d,a.mm=(a.m<10?"0":"")+a.m,t=[];for(var r=e.extend([],n.separators),s=0,o=n.parts.length;s<=o;s++)r.length&&t.push(r.shift()),t.push(a[n.parts[s]]);return t.join("")},headTemplate:'<thead><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};m.template='<div class="datepicker"><div class="datepicker-days"><table class="table table-condensed">'+m.headTemplate+"<tbody></tbody>"+m.footTemplate+'</table></div><div class="datepicker-months"><table class="table table-condensed">'+m.headTemplate+m.contTemplate+m.footTemplate+'</table></div><div class="datepicker-years"><table class="table table-condensed">'+m.headTemplate+m.contTemplate+m.footTemplate+"</table></div></div>",e.fn.datepicker.DPGlobal=m,e.fn.datepicker.noConflict=function(){return e.fn.datepicker=u,this},e(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var n=e(this);n.data("datepicker")||(t.preventDefault(),n.datepicker("show"))}),e(function(){e('[data-provide="datepicker-inline"]').datepicker()})}(window.jQuery),function(e){"use strict";"object"==typeof exports?module.exports=e(window.jQuery):"function"==typeof define&&define.amd?define(["jquery"],e):window.jQuery&&!window.jQuery.fn.colorpicker&&e(window.jQuery)}(function(e){"use strict";var t=function(t,n){this.value={h:0,s:0,b:0,a:1},this.origFormat=null,n&&e.extend(this.colors,n),t&&(void 0!==t.toLowerCase?(t+="",this.setColor(t)):void 0!==t.h&&(this.value=t))};t.prototype={constructor:t,colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32",transparent:"transparent"},_sanitizeNumber:function(e){return"number"==typeof e?e:isNaN(e)||null===e||""===e||void 0===e?1:void 0!==e.toLowerCase?parseFloat(e):1},isTransparent:function(e){return!!e&&("transparent"===(e=e.toLowerCase().trim())||e.match(/#?00000000/)||e.match(/(rgba|hsla)\(0,0,0,0?\.?0\)/))},rgbaIsTransparent:function(e){return 0===e.r&&0===e.g&&0===e.b&&0===e.a},setColor:function(e){(e=e.toLowerCase().trim())&&(this.isTransparent(e)?this.value={h:0,s:0,b:0,a:0}:this.value=this.stringToHSB(e)||{h:0,s:0,b:0,a:1})},stringToHSB:function(t){t=t.toLowerCase();var n;void 0!==this.colors[t]&&(t=this.colors[t],n="alias");var i=this,a=!1;return e.each(this.stringParsers,function(e,r){var s=r.re.exec(t),o=s&&r.parse.apply(i,[s]),l=n||r.format||"rgba";return!o||(a=l.match(/hsla?/)?i.RGBtoHSB.apply(i,i.HSLtoRGB.apply(i,o)):i.RGBtoHSB.apply(i,o),i.origFormat=l,!1)}),a},setHue:function(e){this.value.h=1-e},setSaturation:function(e){this.value.s=e},setBrightness:function(e){this.value.b=1-e},setAlpha:function(e){this.value.a=parseInt(100*(1-e),10)/100},toRGB:function(e,t,n,i){e||(e=this.value.h,t=this.value.s,n=this.value.b),e*=360;var a,r,s,o,l;return e=e%360/60,l=n*t,o=l*(1-Math.abs(e%2-1)),a=r=s=n-l,e=~~e,a+=[l,o,0,0,o,l][e],r+=[o,l,l,o,0,0][e],s+=[0,0,o,l,l,o][e],{r:Math.round(255*a),g:Math.round(255*r),b:Math.round(255*s),a:i||this.value.a}},toHex:function(e,t,n,i){var a=this.toRGB(e,t,n,i);return this.rgbaIsTransparent(a)?"transparent":"#"+(1<<24|parseInt(a.r)<<16|parseInt(a.g)<<8|parseInt(a.b)).toString(16).substr(1)},toHSL:function(e,t,n,i){e=e||this.value.h,t=t||this.value.s,n=n||this.value.b,i=i||this.value.a;var a=e,r=(2-t)*n,s=t*n;return s/=r>0&&1>=r?r:2-r,r/=2,s>1&&(s=1),{h:isNaN(a)?0:a,s:isNaN(s)?0:s,l:isNaN(r)?0:r,a:isNaN(i)?0:i}},toAlias:function(e,t,n,i){var a=this.toHex(e,t,n,i);for(var r in this.colors)if(this.colors[r]===a)return r;return!1},RGBtoHSB:function(e,t,n,i){e/=255,t/=255,n/=255;var a,r,s,o;return s=Math.max(e,t,n),o=s-Math.min(e,t,n),a=0===o?null:s===e?(t-n)/o:s===t?(n-e)/o+2:(e-t)/o+4,a=(a+360)%6*60/360,r=0===o?0:o/s,{h:this._sanitizeNumber(a),s:r,b:s,a:this._sanitizeNumber(i)}},HueToRGB:function(e,t,n){return 0>n?n+=1:n>1&&(n-=1),1>6*n?e+(t-e)*n*6:1>2*n?t:2>3*n?e+(t-e)*(2/3-n)*6:e},HSLtoRGB:function(e,t,n,i){0>t&&(t=0);var a;a=.5>=n?n*(1+t):n+t-n*t;var r=2*n-a,s=e+1/3,o=e,l=e-1/3;return[Math.round(255*this.HueToRGB(r,a,s)),Math.round(255*this.HueToRGB(r,a,o)),Math.round(255*this.HueToRGB(r,a,l)),this._sanitizeNumber(i)]},toString:function(e){e=e||"rgba";var t=!1;switch(e){case"rgb":return t=this.toRGB(),this.rgbaIsTransparent(t)?"transparent":"rgb("+t.r+","+t.g+","+t.b+")";case"rgba":return t=this.toRGB(),"rgba("+t.r+","+t.g+","+t.b+","+t.a+")";case"hsl":return t=this.toHSL(),"hsl("+Math.round(360*t.h)+","+Math.round(100*t.s)+"%,"+Math.round(100*t.l)+"%)";case"hsla":return t=this.toHSL(),"hsla("+Math.round(360*t.h)+","+Math.round(100*t.s)+"%,"+Math.round(100*t.l)+"%,"+t.a+")";case"hex":return this.toHex();case"alias":return this.toAlias()||this.toHex();default:return t}},stringParsers:[{re:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*?\)/,format:"rgb",parse:function(e){return[e[1],e[2],e[3],1]}},{re:/rgb\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*?\)/,format:"rgb",parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],1]}},{re:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,format:"rgba",parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,format:"rgba",parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/hsl\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*?\)/,format:"hsl",parse:function(e){return[e[1]/360,e[2]/100,e[3]/100,e[4]]}},{re:/hsla\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,format:"hsla",parse:function(e){return[e[1]/360,e[2]/100,e[3]/100,e[4]]}},{re:/#?([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,format:"hex",parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),1]}},{re:/#?([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,format:"hex",parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),1]}}],colorNameToHex:function(e){return void 0!==this.colors[e.toLowerCase()]&&this.colors[e.toLowerCase()]}};var n={horizontal:!1,inline:!1,color:!1,format:!1,input:"input",container:!1,component:".add-on, .input-group-addon",sliders:{saturation:{maxLeft:100,maxTop:100,callLeft:"setSaturation",callTop:"setBrightness"},hue:{maxLeft:0,maxTop:100,callLeft:!1,callTop:"setHue"},alpha:{maxLeft:0,maxTop:100,callLeft:!1,callTop:"setAlpha"}},slidersHorz:{saturation:{maxLeft:100,maxTop:100,callLeft:"setSaturation",callTop:"setBrightness"},hue:{maxLeft:100,maxTop:0,callLeft:"setHue",callTop:!1},alpha:{maxLeft:100,maxTop:0,callLeft:"setAlpha",callTop:!1}},template:'<div class="colorpicker dropdown-menu"><div class="colorpicker-saturation"><i><b></b></i></div><div class="colorpicker-hue"><i></i></div><div class="colorpicker-alpha"><i></i></div><div class="colorpicker-color"><div /></div><div class="colorpicker-selectors"></div></div>',align:"right",customClass:null,colorSelectors:null},i=function(i,a){if(this.element=e(i).addClass("colorpicker-element"),this.options=e.extend(!0,{},n,this.element.data(),a),this.component=this.options.component,this.component=!1!==this.component&&this.element.find(this.component),this.component&&0===this.component.length&&(this.component=!1),this.container=!0===this.options.container?this.element:this.options.container,this.container=!1!==this.container&&e(this.container),this.input=this.element.is("input")?this.element:!!this.options.input&&this.element.find(this.options.input),this.input&&0===this.input.length&&(this.input=!1),this.color=new t(!1!==this.options.color?this.options.color:this.getValue(),this.options.colorSelectors),this.format=!1!==this.options.format?this.options.format:this.color.origFormat,this.picker=e(this.options.template),this.options.customClass&&this.picker.addClass(this.options.customClass),this.options.inline?this.picker.addClass("colorpicker-inline colorpicker-visible"):this.picker.addClass("colorpicker-hidden"),this.options.horizontal&&this.picker.addClass("colorpicker-horizontal"),("rgba"===this.format||"hsla"===this.format||!1===this.options.format)&&this.picker.addClass("colorpicker-with-alpha"),"right"===this.options.align&&this.picker.addClass("colorpicker-right"),this.options.colorSelectors){var r=this;e.each(this.options.colorSelectors,function(t,n){var i=e("<i />").css("background-color",n).data("class",t);i.click(function(){r.setValue(e(this).css("background-color"))}),r.picker.find(".colorpicker-selectors").append(i)}),this.picker.find(".colorpicker-selectors").show()}this.picker.on("mousedown.colorpicker touchstart.colorpicker",e.proxy(this.mousedown,this)),this.picker.appendTo(this.container?this.container:e("body")),!1!==this.input&&(this.input.on({"keyup.colorpicker":e.proxy(this.keyup,this)}),this.input.on({"change.colorpicker":e.proxy(this.change,this)}),!1===this.component&&this.element.on({"focus.colorpicker":e.proxy(this.show,this)}),!1===this.options.inline&&this.element.on({"focusout.colorpicker":e.proxy(this.hide,this)})),!1!==this.component&&this.component.on({"click.colorpicker":e.proxy(this.show,this)}),!1===this.input&&!1===this.component&&this.element.on({"click.colorpicker":e.proxy(this.show,this)}),!1!==this.input&&!1!==this.component&&"color"===this.input.attr("type")&&this.input.on({"click.colorpicker":e.proxy(this.show,this),"focus.colorpicker":e.proxy(this.show,this)}),this.update(),e(e.proxy(function(){this.element.trigger("create")},this))};i.Color=t,i.prototype={constructor:i,destroy:function(){this.picker.remove(),this.element.removeData("colorpicker").off(".colorpicker"),!1!==this.input&&this.input.off(".colorpicker"),!1!==this.component&&this.component.off(".colorpicker"),this.element.removeClass("colorpicker-element"),this.element.trigger({type:"destroy"})},reposition:function(){if(!1!==this.options.inline||this.options.container)return!1;var e=this.container&&this.container[0]!==document.body?"position":"offset",t=this.component||this.element,n=t[e]();"right"===this.options.align&&(n.left-=this.picker.outerWidth()-t.outerWidth()),this.picker.css({top:n.top+t.outerHeight(),left:n.left})},show:function(t){return!this.isDisabled()&&(this.picker.addClass("colorpicker-visible").removeClass("colorpicker-hidden"),this.reposition(),e(window).on("resize.colorpicker",e.proxy(this.reposition,this)),!t||this.hasInput()&&"color"!==this.input.attr("type")||t.stopPropagation&&t.preventDefault&&(t.stopPropagation(),t.preventDefault()),!1===this.options.inline&&e(window.document).on({"mousedown.colorpicker":e.proxy(this.hide,this)}),void this.element.trigger({type:"showPicker",color:this.color}))},hide:function(){this.picker.addClass("colorpicker-hidden").removeClass("colorpicker-visible"),e(window).off("resize.colorpicker",this.reposition),e(document).off({"mousedown.colorpicker":this.hide}),this.update(),this.element.trigger({type:"hidePicker",color:this.color})},updateData:function(e){
return e=e||this.color.toString(this.format),this.element.data("color",e),e},updateInput:function(e){if(e=e||this.color.toString(this.format),!1!==this.input){if(this.options.colorSelectors){var n=new t(e,this.options.colorSelectors),i=n.toAlias();void 0!==this.options.colorSelectors[i]&&(e=i)}this.input.prop("value",e)}return e},updatePicker:function(e){void 0!==e&&(this.color=new t(e,this.options.colorSelectors));var n=!1===this.options.horizontal?this.options.sliders:this.options.slidersHorz,i=this.picker.find("i");return 0!==i.length?(!1===this.options.horizontal?(n=this.options.sliders,i.eq(1).css("top",n.hue.maxTop*(1-this.color.value.h)).end().eq(2).css("top",n.alpha.maxTop*(1-this.color.value.a))):(n=this.options.slidersHorz,i.eq(1).css("left",n.hue.maxLeft*(1-this.color.value.h)).end().eq(2).css("left",n.alpha.maxLeft*(1-this.color.value.a))),i.eq(0).css({top:n.saturation.maxTop-this.color.value.b*n.saturation.maxTop,left:this.color.value.s*n.saturation.maxLeft}),this.picker.find(".colorpicker-saturation").css("backgroundColor",this.color.toHex(this.color.value.h,1,1,1)),this.picker.find(".colorpicker-alpha").css("backgroundColor",this.color.toHex()),this.picker.find(".colorpicker-color, .colorpicker-color div").css("backgroundColor",this.color.toString(this.format)),e):void 0},updateComponent:function(e){if(e=e||this.color.toString(this.format),!1!==this.component){var t=this.component.find("i").eq(0);t.length>0?t.css({backgroundColor:e}):this.component.css({backgroundColor:e})}return e},update:function(e){var t;return(!1!==this.getValue(!1)||!0===e)&&(t=this.updateComponent(),this.updateInput(t),this.updateData(t),this.updatePicker()),t},setValue:function(e){this.color=new t(e,this.options.colorSelectors),this.update(!0),this.element.trigger({type:"changeColor",color:this.color,value:e})},getValue:function(e){e=void 0===e?"#000000":e;var t;return t=this.hasInput()?this.input.val():this.element.data("color"),(void 0===t||""===t||null===t)&&(t=e),t},hasInput:function(){return!1!==this.input},isDisabled:function(){return!!this.hasInput()&&!0===this.input.prop("disabled")},disable:function(){return!!this.hasInput()&&(this.input.prop("disabled",!0),this.element.trigger({type:"disable",color:this.color,value:this.getValue()}),!0)},enable:function(){return!!this.hasInput()&&(this.input.prop("disabled",!1),this.element.trigger({type:"enable",color:this.color,value:this.getValue()}),!0)},currentSlider:null,mousePointer:{left:0,top:0},mousedown:function(t){t.pageX||t.pageY||!t.originalEvent||(t.pageX=t.originalEvent.touches[0].pageX,t.pageY=t.originalEvent.touches[0].pageY),t.stopPropagation(),t.preventDefault();var n=e(t.target),i=n.closest("div"),a=this.options.horizontal?this.options.slidersHorz:this.options.sliders;if(!i.is(".colorpicker")){if(i.is(".colorpicker-saturation"))this.currentSlider=e.extend({},a.saturation);else if(i.is(".colorpicker-hue"))this.currentSlider=e.extend({},a.hue);else{if(!i.is(".colorpicker-alpha"))return!1;this.currentSlider=e.extend({},a.alpha)}var r=i.offset();this.currentSlider.guide=i.find("i")[0].style,this.currentSlider.left=t.pageX-r.left,this.currentSlider.top=t.pageY-r.top,this.mousePointer={left:t.pageX,top:t.pageY},e(document).on({"mousemove.colorpicker":e.proxy(this.mousemove,this),"touchmove.colorpicker":e.proxy(this.mousemove,this),"mouseup.colorpicker":e.proxy(this.mouseup,this),"touchend.colorpicker":e.proxy(this.mouseup,this)}).trigger("mousemove")}return!1},mousemove:function(e){e.pageX||e.pageY||!e.originalEvent||(e.pageX=e.originalEvent.touches[0].pageX,e.pageY=e.originalEvent.touches[0].pageY),e.stopPropagation(),e.preventDefault();var t=Math.max(0,Math.min(this.currentSlider.maxLeft,this.currentSlider.left+((e.pageX||this.mousePointer.left)-this.mousePointer.left))),n=Math.max(0,Math.min(this.currentSlider.maxTop,this.currentSlider.top+((e.pageY||this.mousePointer.top)-this.mousePointer.top)));return this.currentSlider.guide.left=t+"px",this.currentSlider.guide.top=n+"px",this.currentSlider.callLeft&&this.color[this.currentSlider.callLeft].call(this.color,t/this.currentSlider.maxLeft),this.currentSlider.callTop&&this.color[this.currentSlider.callTop].call(this.color,n/this.currentSlider.maxTop),"setAlpha"===this.currentSlider.callTop&&!1===this.options.format&&(1!==this.color.value.a?(this.format="rgba",this.color.origFormat="rgba"):(this.format="hex",this.color.origFormat="hex")),this.update(!0),this.element.trigger({type:"changeColor",color:this.color}),!1},mouseup:function(t){return t.stopPropagation(),t.preventDefault(),e(document).off({"mousemove.colorpicker":this.mousemove,"touchmove.colorpicker":this.mousemove,"mouseup.colorpicker":this.mouseup,"touchend.colorpicker":this.mouseup}),!1},change:function(e){this.keyup(e)},keyup:function(e){38===e.keyCode?(this.color.value.a<1&&(this.color.value.a=Math.round(100*(this.color.value.a+.01))/100),this.update(!0)):40===e.keyCode?(this.color.value.a>0&&(this.color.value.a=Math.round(100*(this.color.value.a-.01))/100),this.update(!0)):(this.color=new t(this.input.val(),this.options.colorSelectors),this.color.origFormat&&!1===this.options.format&&(this.format=this.color.origFormat),!1!==this.getValue(!1)&&(this.updateData(),this.updateComponent(),this.updatePicker())),this.element.trigger({type:"changeColor",color:this.color,value:this.input.val()})}},e.colorpicker=i,e.fn.colorpicker=function(t){var n,a=arguments,r=this.each(function(){var r=e(this),s=r.data("colorpicker"),o="object"==typeof t?t:{};s||"string"==typeof t?"string"==typeof t&&(n=s[t].apply(s,Array.prototype.slice.call(a,1))):r.data("colorpicker",new i(this,o))});return"getValue"===t?n:r},e.fn.colorpicker.constructor=i}),function(e,t,n,i){"use strict";var a=function(t,n){this.widget="",this.$element=e(t),this.defaultTime=n.defaultTime,this.disableFocus=n.disableFocus,this.isOpen=n.isOpen,this.minuteStep=n.minuteStep,this.modalBackdrop=n.modalBackdrop,this.secondStep=n.secondStep,this.showInputs=n.showInputs,this.showMeridian=n.showMeridian,this.showSeconds=n.showSeconds,this.template=n.template,this.appendWidgetTo=n.appendWidgetTo,this.upArrowStyle=n.upArrowStyle,this.downArrowStyle=n.downArrowStyle,this.containerClass=n.containerClass,this._init()};a.prototype={constructor:a,_init:function(){var t=this;this.$element.parent().hasClass("input-append")||this.$element.parent().hasClass("input-prepend")?(this.$element.parent(".input-append, .input-prepend").find(".add-on").length?this.$element.parent(".input-append, .input-prepend").find(".add-on").on({"click.timepicker":e.proxy(this.showWidget,this)}):this.$element.closest(this.containerClass).find(".add-on").on({"click.timepicker":e.proxy(this.showWidget,this)}),this.$element.on({"focus.timepicker":e.proxy(this.highlightUnit,this),"click.timepicker":e.proxy(this.highlightUnit,this),"keydown.timepicker":e.proxy(this.elementKeydown,this),"blur.timepicker":e.proxy(this.blurElement,this)})):this.template?this.$element.on({"focus.timepicker":e.proxy(this.showWidget,this),"click.timepicker":e.proxy(this.showWidget,this),"blur.timepicker":e.proxy(this.blurElement,this)}):this.$element.on({"focus.timepicker":e.proxy(this.highlightUnit,this),"click.timepicker":e.proxy(this.highlightUnit,this),"keydown.timepicker":e.proxy(this.elementKeydown,this),"blur.timepicker":e.proxy(this.blurElement,this)}),!1!==this.template?this.$widget=e(this.getTemplate()).prependTo(this.$element.parents(this.appendWidgetTo)).on("click",e.proxy(this.widgetClick,this)):this.$widget=!1,this.showInputs&&!1!==this.$widget&&this.$widget.find("input").each(function(){e(this).on({"click.timepicker":function(){e(this).select()},"keydown.timepicker":e.proxy(t.widgetKeydown,t)})}),this.setDefaultTime(this.defaultTime)},blurElement:function(){this.highlightedUnit=void 0,this.updateFromElementVal()},decrementHour:function(){if(this.showMeridian)if(1===this.hour)this.hour=12;else{if(12===this.hour)return this.hour--,this.toggleMeridian();if(0===this.hour)return this.hour=11,this.toggleMeridian();this.hour--}else 0===this.hour?this.hour=23:this.hour--;this.update()},decrementMinute:function(e){var t;t=e?this.minute-e:this.minute-this.minuteStep,t<0?(this.decrementHour(),this.minute=t+60):this.minute=t,this.update()},decrementSecond:function(){var e=this.second-this.secondStep;e<0?(this.decrementMinute(!0),this.second=e+60):this.second=e,this.update()},elementKeydown:function(e){switch(e.keyCode){case 9:switch(this.updateFromElementVal(),this.highlightedUnit){case"hour":e.preventDefault(),this.highlightNextUnit();break;case"minute":(this.showMeridian||this.showSeconds)&&(e.preventDefault(),this.highlightNextUnit());break;case"second":this.showMeridian&&(e.preventDefault(),this.highlightNextUnit())}break;case 27:this.updateFromElementVal();break;case 37:e.preventDefault(),this.highlightPrevUnit(),this.updateFromElementVal();break;case 38:switch(e.preventDefault(),this.highlightedUnit){case"hour":this.incrementHour(),this.highlightHour();break;case"minute":this.incrementMinute(),this.highlightMinute();break;case"second":this.incrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian()}break;case 39:e.preventDefault(),this.updateFromElementVal(),this.highlightNextUnit();break;case 40:switch(e.preventDefault(),this.highlightedUnit){case"hour":this.decrementHour(),this.highlightHour();break;case"minute":this.decrementMinute(),this.highlightMinute();break;case"second":this.decrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian()}}},formatTime:function(e,t,n,i){return e=e<10?"0"+e:e,t=t<10?"0"+t:t,n=n<10?"0"+n:n,e+":"+t+(this.showSeconds?":"+n:"")+(this.showMeridian?" "+i:"")},getCursorPosition:function(){var e=this.$element.get(0);if("selectionStart"in e)return e.selectionStart;if(n.selection){e.focus();var t=n.selection.createRange(),i=n.selection.createRange().text.length;return t.moveStart("character",-e.value.length),t.text.length-i}},getTemplate:function(){var e,t,n,i,a,r;switch(this.showInputs?(t='<input type="text" name="hour" class="bootstrap-timepicker-hour form-control" maxlength="2"/>',n='<input type="text" name="minute" class="bootstrap-timepicker-minute form-control" maxlength="2"/>',i='<input type="text" name="second" class="bootstrap-timepicker-second form-control" maxlength="2"/>',a='<input type="text" name="meridian" class="bootstrap-timepicker-meridian form-control" maxlength="2"/>'):(t='<span class="bootstrap-timepicker-hour"></span>',n='<span class="bootstrap-timepicker-minute"></span>',i='<span class="bootstrap-timepicker-second"></span>',a='<span class="bootstrap-timepicker-meridian"></span>'),r='<table><tr><td><a href="#" data-action="incrementHour"><i class="'+this.upArrowStyle+'"></i></a></td><td class="separator">&nbsp;</td><td><a href="#" data-action="incrementMinute"><i class="'+this.upArrowStyle+'"></i></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="incrementSecond"><i class="'+this.upArrowStyle+'"></i></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td class="meridian-column"><a href="#" data-action="toggleMeridian"><i class="'+this.upArrowStyle+'"></i></a></td>':"")+"</tr><tr><td>"+t+'</td> <td class="separator">:</td><td>'+n+"</td> "+(this.showSeconds?'<td class="separator">:</td><td>'+i+"</td>":"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td>'+a+"</td>":"")+'</tr><tr><td><a href="#" data-action="decrementHour"><i class="'+this.downArrowStyle+'"></i></a></td><td class="separator"></td><td><a href="#" data-action="decrementMinute"><i class="'+this.downArrowStyle+'"></i></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="decrementSecond"><i class="'+this.downArrowStyle+'"></i></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td><a href="#" data-action="toggleMeridian"><i class="'+this.downArrowStyle+'"></i></a></td>':"")+"</tr></table>",this.template){case"modal":e='<div class="bootstrap-timepicker-widget modal hide fade in" data-backdrop="'+(this.modalBackdrop?"true":"false")+'"><div class="modal-header"><a href="#" class="close" data-dismiss="modal"></a><h3>Pick a Time</h3></div><div class="modal-content">'+r+'</div><div class="modal-footer"><a href="#" class="btn btn-primary" data-dismiss="modal">OK</a></div></div>';break;case"dropdown":e='<div class="bootstrap-timepicker-widget dropdown-menu">'+r+"</div>"}return e},getTime:function(){return this.formatTime(this.hour,this.minute,this.second,this.meridian)},hideWidget:function(){!1!==this.isOpen&&(this.showInputs&&this.updateFromWidgetInputs(),this.$element.trigger({type:"hide.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}}),"modal"===this.template&&this.$widget.modal?this.$widget.modal("hide"):this.$widget.removeClass("open"),e(n).off("mousedown.timepicker"),this.isOpen=!1)},highlightUnit:function(){this.position=this.getCursorPosition(),this.position>=0&&this.position<=2?this.highlightHour():this.position>=3&&this.position<=5?this.highlightMinute():this.position>=6&&this.position<=8?this.showSeconds?this.highlightSecond():this.highlightMeridian():this.position>=9&&this.position<=11&&this.highlightMeridian()},highlightNextUnit:function(){switch(this.highlightedUnit){case"hour":this.highlightMinute();break;case"minute":this.showSeconds?this.highlightSecond():this.showMeridian?this.highlightMeridian():this.highlightHour();break;case"second":this.showMeridian?this.highlightMeridian():this.highlightHour();break;case"meridian":this.highlightHour()}},highlightPrevUnit:function(){switch(this.highlightedUnit){case"hour":this.highlightMeridian();break;case"minute":this.highlightHour();break;case"second":this.highlightMinute();break;case"meridian":this.showSeconds?this.highlightSecond():this.highlightMinute()}},highlightHour:function(){var e=this.$element.get(0);this.highlightedUnit="hour",e.setSelectionRange&&setTimeout(function(){e.setSelectionRange(0,2)},0)},highlightMinute:function(){var e=this.$element.get(0);this.highlightedUnit="minute",e.setSelectionRange&&setTimeout(function(){e.setSelectionRange(3,5)},0)},highlightSecond:function(){var e=this.$element.get(0);this.highlightedUnit="second",e.setSelectionRange&&setTimeout(function(){e.setSelectionRange(6,8)},0)},highlightMeridian:function(){var e=this.$element.get(0);this.highlightedUnit="meridian",e.setSelectionRange&&(this.showSeconds?setTimeout(function(){e.setSelectionRange(9,11)},0):setTimeout(function(){e.setSelectionRange(6,8)},0))},incrementHour:function(){if(this.showMeridian){if(11===this.hour)return this.hour++,this.toggleMeridian();12===this.hour&&(this.hour=0)}if(23===this.hour)return void(this.hour=0);this.hour++,this.update()},incrementMinute:function(e){var t;t=e?this.minute+e:this.minute+this.minuteStep-this.minute%this.minuteStep,t>59?(this.incrementHour(),this.minute=t-60):this.minute=t,this.update()},incrementSecond:function(){var e=this.second+this.secondStep-this.second%this.secondStep;e>59?(this.incrementMinute(!0),this.second=e-60):this.second=e,this.update()},remove:function(){e("document").off(".timepicker"),this.$widget&&this.$widget.remove(),delete this.$element.data().timepicker},setDefaultTime:function(e){if(this.$element.val())this.updateFromElementVal();else if("current"===e){var t=new Date,n=t.getHours(),i=Math.floor(t.getMinutes()/this.minuteStep)*this.minuteStep,a=Math.floor(t.getSeconds()/this.secondStep)*this.secondStep,r="AM";this.showMeridian&&(0===n?n=12:n>=12?(n>12&&(n-=12),r="PM"):r="AM"),this.hour=n,this.minute=i,this.second=a,this.meridian=r,this.update()}else!1===e?(this.hour=0,this.minute=0,this.second=0,this.meridian="AM"):this.setTime(e)},setTime:function(e){var t,n;this.showMeridian?(t=e.split(" "),n=t[0].split(":"),this.meridian=t[1]):n=e.split(":"),this.hour=parseInt(n[0],10),this.minute=parseInt(n[1],10),this.second=parseInt(n[2],10),isNaN(this.hour)&&(this.hour=0),isNaN(this.minute)&&(this.minute=0),this.showMeridian?(this.hour>12?this.hour=12:this.hour<1&&(this.hour=12),"am"===this.meridian||"a"===this.meridian?this.meridian="AM":"pm"!==this.meridian&&"p"!==this.meridian||(this.meridian="PM"),"AM"!==this.meridian&&"PM"!==this.meridian&&(this.meridian="AM")):this.hour>=24?this.hour=23:this.hour<0&&(this.hour=0),this.minute<0?this.minute=0:this.minute>=60&&(this.minute=59),this.showSeconds&&(isNaN(this.second)?this.second=0:this.second<0?this.second=0:this.second>=60&&(this.second=59)),this.update()},showWidget:function(){if(!this.isOpen&&!this.$element.is(":disabled")){var t=this;e(n).on("mousedown.timepicker",function(n){0===e(n.target).closest(".bootstrap-timepicker-widget").length&&t.hideWidget()}),this.$element.trigger({type:"show.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}}),this.disableFocus&&this.$element.blur(),this.updateFromElementVal(),"modal"===this.template&&this.$widget.modal?this.$widget.modal("show").on("hidden",e.proxy(this.hideWidget,this)):!1===this.isOpen&&this.$widget.addClass("open"),this.isOpen=!0}},toggleMeridian:function(){this.meridian="AM"===this.meridian?"PM":"AM",this.update()},update:function(){this.$element.trigger({type:"changeTime.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}}),this.updateElement(),this.updateWidget()},updateElement:function(){this.$element.val(this.getTime()).change()},updateFromElementVal:function(){var e=this.$element.val();e&&this.setTime(e)},updateWidget:function(){if(!1!==this.$widget){var e=this.hour<10?"0"+this.hour:this.hour,t=this.minute<10?"0"+this.minute:this.minute,n=this.second<10?"0"+this.second:this.second;this.showInputs?(this.$widget.find("input.bootstrap-timepicker-hour").val(e),this.$widget.find("input.bootstrap-timepicker-minute").val(t),this.showSeconds&&this.$widget.find("input.bootstrap-timepicker-second").val(n),this.showMeridian&&this.$widget.find("input.bootstrap-timepicker-meridian").val(this.meridian)):(this.$widget.find("span.bootstrap-timepicker-hour").text(e),this.$widget.find("span.bootstrap-timepicker-minute").text(t),this.showSeconds&&this.$widget.find("span.bootstrap-timepicker-second").text(n),this.showMeridian&&this.$widget.find("span.bootstrap-timepicker-meridian").text(this.meridian))}},updateFromWidgetInputs:function(){if(!1!==this.$widget){var t=e("input.bootstrap-timepicker-hour",this.$widget).val()+":"+e("input.bootstrap-timepicker-minute",this.$widget).val()+(this.showSeconds?":"+e("input.bootstrap-timepicker-second",this.$widget).val():"")+(this.showMeridian?" "+e("input.bootstrap-timepicker-meridian",this.$widget).val():"");this.setTime(t)}},widgetClick:function(t){t.stopPropagation(),t.preventDefault();var n=e(t.target).closest("a").data("action");n&&this[n]()},widgetKeydown:function(t){var n=e(t.target).closest("input"),i=n.attr("name");switch(t.keyCode){case 9:if(this.showMeridian){if("meridian"===i)return this.hideWidget()}else if(this.showSeconds){if("second"===i)return this.hideWidget()}else if("minute"===i)return this.hideWidget();this.updateFromWidgetInputs();break;case 27:this.hideWidget();break;case 38:switch(t.preventDefault(),i){case"hour":this.incrementHour();break;case"minute":this.incrementMinute();break;case"second":this.incrementSecond();break;case"meridian":this.toggleMeridian()}break;case 40:switch(t.preventDefault(),i){case"hour":this.decrementHour();break;case"minute":this.decrementMinute();break;case"second":this.decrementSecond();break;case"meridian":this.toggleMeridian()}}}},e.fn.timepicker=function(t){var n=Array.apply(null,arguments);return n.shift(),this.each(function(){var i=e(this),r=i.data("timepicker"),s="object"==typeof t&&t;r||i.data("timepicker",r=new a(this,e.extend({},e.fn.timepicker.defaults,s,e(this).data()))),"string"==typeof t&&r[t].apply(r,n)})},e.fn.timepicker.defaults={defaultTime:"current",disableFocus:!1,isOpen:!1,minuteStep:15,modalBackdrop:!1,secondStep:15,showSeconds:!1,showInputs:!0,showMeridian:!0,template:"dropdown",appendWidgetTo:".bootstrap-timepicker",upArrowStyle:"glyphicon glyphicon-chevron-up",downArrowStyle:"glyphicon glyphicon-chevron-down",containerClass:"bootstrap-timepicker"},e.fn.timepicker.Constructor=a}(jQuery,window,document),function(e){e.fn.extend({slimScroll:function(n){var i={width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},a=e.extend(i,n);return this.each(function(){function i(t){if(c){var t=t||window.event,n=0;t.wheelDelta&&(n=-t.wheelDelta/120),t.detail&&(n=t.detail/3);var i=t.target||t.srcTarget||t.srcElement;e(i).closest("."+a.wrapperClass).is(w.parent())&&r(n,!0),t.preventDefault&&!b&&t.preventDefault(),b||(t.returnValue=!1)}}function r(e,t,n){b=!1;var i=e,r=w.outerHeight()-D.outerHeight();if(t&&(i=parseInt(D.css("top"))+e*parseInt(a.wheelStep)/100*D.outerHeight(),i=Math.min(Math.max(i,0),r),i=e>0?Math.ceil(i):Math.floor(i),D.css({top:i+"px"})),m=parseInt(D.css("top"))/(w.outerHeight()-D.outerHeight()),i=m*(w[0].scrollHeight-w.outerHeight()),n){i=e;var s=i/w[0].scrollHeight*w.outerHeight();s=Math.min(Math.max(s,0),r),D.css({top:s+"px"})}w.scrollTop(i),w.trigger("slimscrolling",~~i),o(),l()}function s(){p=Math.max(w.outerHeight()/w[0].scrollHeight*w.outerHeight(),v),D.css({height:p+"px"});var e=p==w.outerHeight()?"none":"block";D.css({display:e})}function o(){if(s(),clearTimeout(h),m==~~m){if(b=a.allowPageScroll,g!=m){var e=0==~~m?"top":"bottom";w.trigger("slimscroll",e)}}else b=!1;if(g=m,p>=w.outerHeight())return void(b=!0);D.stop(!0,!0).fadeIn("fast"),a.railVisible&&k.stop(!0,!0).fadeIn("fast")}function l(){a.alwaysVisible||(h=setTimeout(function(){a.disableFadeOut&&c||d||u||(D.fadeOut("slow"),k.fadeOut("slow"))},1e3))}var c,d,u,h,f,p,m,g,y="<div></div>",v=30,b=!1,w=e(this);if(w.parent().hasClass(a.wrapperClass)){var C=w.scrollTop();if(D=w.siblings("."+a.barClass),k=w.siblings("."+a.railClass),s(),e.isPlainObject(n)){if("height"in n&&"auto"==n.height){w.parent().css("height","auto"),w.css("height","auto");var x=w.parent().parent().height();w.parent().css("height",x),w.css("height",x)}else if("height"in n){var _=n.height;w.parent().css("height",_),w.css("height",_)}if("scrollTo"in n)C=parseInt(a.scrollTo);else if("scrollBy"in n)C+=parseInt(a.scrollBy);else if("destroy"in n)return D.remove(),k.remove(),void w.unwrap();r(C,!1,!0)}}else if(!(e.isPlainObject(n)&&"destroy"in n)){a.height="auto"==a.height?w.parent().height():a.height;var S=e(y).addClass(a.wrapperClass).css({position:"relative",overflow:"hidden",width:a.width,height:a.height});w.css({overflow:"hidden",width:a.width,height:a.height});var k=e(y).addClass(a.railClass).css({width:a.size,height:"100%",position:"absolute",top:0,display:a.alwaysVisible&&a.railVisible?"block":"none","border-radius":a.railBorderRadius,background:a.railColor,opacity:a.railOpacity,zIndex:90}),D=e(y).addClass(a.barClass).css({background:a.color,width:a.size,position:"absolute",top:0,opacity:a.opacity,display:a.alwaysVisible?"block":"none","border-radius":a.borderRadius,BorderRadius:a.borderRadius,MozBorderRadius:a.borderRadius,WebkitBorderRadius:a.borderRadius,zIndex:99}),T="right"==a.position?{right:a.distance}:{left:a.distance};k.css(T),D.css(T),w.wrap(S),w.parent().append(D),w.parent().append(k),a.railDraggable&&D.bind("mousedown",function(n){var i=e(document);return u=!0,t=parseFloat(D.css("top")),pageY=n.pageY,i.bind("mousemove.slimscroll",function(e){currTop=t+e.pageY-pageY,D.css("top",currTop),r(0,D.position().top,!1)}),i.bind("mouseup.slimscroll",function(e){u=!1,l(),i.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(e){return e.stopPropagation(),e.preventDefault(),!1}),k.hover(function(){o()},function(){l()}),D.hover(function(){d=!0},function(){d=!1}),w.hover(function(){c=!0,o(),l()},function(){c=!1,l()}),w.bind("touchstart",function(e,t){e.originalEvent.touches.length&&(f=e.originalEvent.touches[0].pageY)}),w.bind("touchmove",function(e){if(b||e.originalEvent.preventDefault(),e.originalEvent.touches.length){r((f-e.originalEvent.touches[0].pageY)/a.touchScrollStep,!0),f=e.originalEvent.touches[0].pageY}}),s(),"bottom"===a.start?(D.css({top:w.outerHeight()-D.outerHeight()}),r(0,!0)):"top"!==a.start&&(r(e(a.start).position().top,null,!0),a.alwaysVisible||D.hide()),function(e){window.addEventListener?(e.addEventListener("DOMMouseScroll",i,!1),e.addEventListener("mousewheel",i,!1)):document.attachEvent("onmousewheel",i)}(this)}}),this}}),e.fn.extend({slimscroll:e.fn.slimScroll})}(jQuery),function(e){function t(e,t,a){var r=e[0],s=/er/.test(a)?m:/bl/.test(a)?f:u,o=a==g?{checked:r[u],disabled:r[f],indeterminate:"true"==e.attr(m)||"false"==e.attr(p)}:r[s];if(/^(ch|di|in)/.test(a)&&!o)n(e,s);else if(/^(un|en|de)/.test(a)&&o)i(e,s);else if(a==g)for(s in o)o[s]?n(e,s,!0):i(e,s,!0);else t&&"toggle"!=a||(t||e[w]("ifClicked"),o?r[y]!==d&&i(e,s):n(e,s))}function n(t,n,a){var g=t[0],w=t.parent(),C=n==u,_=n==m,S=n==f,k=_?p:C?h:"enabled",D=r(t,k+s(g[y])),T=r(t,n+s(g[y]));if(!0!==g[n]){if(!a&&n==u&&g[y]==d&&g.name){var E=t.closest("form"),A='input[name="'+g.name+'"]',A=E.length?E.find(A):e(A);A.each(function(){this!==g&&e(this).data(l)&&i(e(this),n)})}_?(g[n]=!0,g[u]&&i(t,u,"force")):(a||(g[n]=!0),C&&g[m]&&i(t,m,!1)),o(t,C,n,a)}g[f]&&r(t,x,!0)&&w.find("."+c).css(x,"default"),w[v](T||r(t,n)||""),S?w.attr("aria-disabled","true"):w.attr("aria-checked",_?"mixed":"true"),w[b](D||r(t,k)||"")}function i(e,t,n){var i=e[0],a=e.parent(),l=t==u,d=t==m,g=t==f,w=d?p:l?h:"enabled",C=r(e,w+s(i[y])),_=r(e,t+s(i[y]));!1!==i[t]&&(!d&&n&&"force"!=n||(i[t]=!1),o(e,l,w,n)),!i[f]&&r(e,x,!0)&&a.find("."+c).css(x,"pointer"),a[b](_||r(e,t)||""),g?a.attr("aria-disabled","false"):a.attr("aria-checked","false"),a[v](C||r(e,w)||"")}function a(t,n){t.data(l)&&(t.parent().html(t.attr("style",t.data(l).s||"")),n&&t[w](n),t.off(".i").unwrap(),e(C+'[for="'+t[0].id+'"]').add(t.closest(C)).off(".i"))}function r(e,t,n){if(e.data(l))return e.data(l).o[t+(n?"":"Class")]}function s(e){return e.charAt(0).toUpperCase()+e.slice(1)}function o(e,t,n,i){i||(t&&e[w]("ifToggled"),e[w]("ifChanged")[w]("if"+s(n)))}var l="iCheck",c=l+"-helper",d="radio",u="checked",h="un"+u,f="disabled",p="determinate",m="in"+p,g="update",y="type",v="addClass",b="removeClass",w="trigger",C="label",x="cursor",_=/ipad|iphone|ipod|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent);e.fn[l]=function(r,s){var o='input[type="checkbox"], input[type="'+d+'"]',h=e(),p=function(t){t.each(function(){var t=e(this);h=t.is(o)?h.add(t):h.add(t.find(o))})};if(/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(r))return r=r.toLowerCase(),p(this),h.each(function(){var n=e(this);"destroy"==r?a(n,"ifDestroyed"):t(n,!0,r),e.isFunction(s)&&s()});if("object"!=typeof r&&r)return this;var x=e.extend({checkedClass:u,disabledClass:f,indeterminateClass:m,labelHover:!0,aria:!1},r),S=x.handle,k=x.hoverClass||"hover",D=x.focusClass||"focus",T=x.activeClass||"active",E=!!x.labelHover,A=x.labelHoverClass||"hover",N=0|(""+x.increaseArea).replace("%","");return"checkbox"!=S&&S!=d||(o='input[type="'+S+'"]'),-50>N&&(N=-50),p(this),h.each(function(){var r=e(this);a(r);var s=this,o=s.id,h=-N+"%",p=100+2*N+"%",p={position:"absolute",top:h,left:h,display:"block",width:p,height:p,margin:0,padding:0,background:"#fff",border:0,opacity:0},h=_?{position:"absolute",visibility:"hidden"}:N?p:{position:"absolute",opacity:0},m="checkbox"==s[y]?x.checkboxClass||"icheckbox":x.radioClass||"i"+d,S=e(C+'[for="'+o+'"]').add(r.closest(C)),M=!!x.aria,R=l+"-"+Math.random().toString(36).replace("0.",""),I='<div class="'+m+'" '+(M?'role="'+s[y]+'" ':"");S.length&&M&&S.each(function(){I+='aria-labelledby="',this.id?I+=this.id:(this.id=R,I+=R),I+='"'}),I=r.wrap(I+"/>")[w]("ifCreated").parent().append(x.insert),p=e('<ins class="'+c+'"/>').css(p).appendTo(I),r.data(l,{o:x,s:r.attr("style")}).css(h),x.inheritClass&&I[v](s.className||""),x.inheritID&&o&&I.attr("id",l+"-"+o),"static"==I.css("position")&&I.css("position","relative"),t(r,!0,g),S.length&&S.on("click.i mouseover.i mouseout.i touchbegin.i touchend.i",function(n){var i=n[y],a=e(this);if(!s[f]){if("click"==i){if(e(n.target).is("a"))return;t(r,!1,!0)}else E&&(/ut|nd/.test(i)?(I[b](k),a[b](A)):(I[v](k),a[v](A)));if(!_)return!1;n.stopPropagation()}}),r.on("click.i focus.i blur.i keyup.i keydown.i keypress.i",function(e){var t=e[y];return e=e.keyCode,"click"!=t&&("keydown"==t&&32==e?(s[y]==d&&s[u]||(s[u]?i(r,u):n(r,u)),!1):void("keyup"==t&&s[y]==d?!s[u]&&n(r,u):/us|ur/.test(t)&&I["blur"==t?b:v](D)))}),p.on("click mousedown mouseup mouseover mouseout touchbegin.i touchend.i",function(e){var n=e[y],i=/wn|up/.test(n)?T:k;if(!s[f]){if("click"==n?t(r,!1,!0):(/wn|er|in/.test(n)?I[v](i):I[b](i+" "+T),S.length&&E&&i==k&&S[/ut|nd/.test(n)?b:v](A)),!_)return!1;e.stopPropagation()}})})}}(window.jQuery||window.Zepto),function(){"use strict";function e(t,i){var a;if(i=i||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=i.touchBoundary||10,this.layer=t,this.tapDelay=i.tapDelay||200,this.tapTimeout=i.tapTimeout||700,!e.notNeeded(t)){for(var r=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],s=this,o=0,l=r.length;o<l;o++)s[r[o]]=function(e,t){return function(){return e.apply(t,arguments)}}(s[r[o]],s);n&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,n,i){var a=Node.prototype.removeEventListener;"click"===e?a.call(t,e,n.hijacked||n,i):a.call(t,e,n,i)},t.addEventListener=function(e,n,i){var a=Node.prototype.addEventListener;"click"===e?a.call(t,e,n.hijacked||(n.hijacked=function(e){e.propagationStopped||n(e)}),i):a.call(t,e,n,i)}),"function"==typeof t.onclick&&(a=t.onclick,t.addEventListener("click",function(e){a(e)},!1),t.onclick=null)}}var t=navigator.userAgent.indexOf("Windows Phone")>=0,n=navigator.userAgent.indexOf("Android")>0&&!t,i=/iP(ad|hone|od)/.test(navigator.userAgent)&&!t,a=i&&/OS 4_\d(_\d)?/.test(navigator.userAgent),r=i&&/OS [6-7]_\d/.test(navigator.userAgent),s=navigator.userAgent.indexOf("BB10")>0;e.prototype.needsClick=function(e){switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(i&&"file"===e.type||e.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(e.className)},e.prototype.needsFocus=function(e){switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!n;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},e.prototype.sendClick=function(e,t){var n,i;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),i=t.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(e),!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,e.dispatchEvent(n)},e.prototype.determineEventType=function(e){
return n&&"select"===e.tagName.toLowerCase()?"mousedown":"click"},e.prototype.focus=function(e){var t;i&&e.setSelectionRange&&0!==e.type.indexOf("date")&&"time"!==e.type&&"month"!==e.type?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},e.prototype.updateScrollParent=function(e){var t,n;if(!(t=e.fastClickScrollParent)||!t.contains(e)){n=e;do{if(n.scrollHeight>n.offsetHeight){t=n,e.fastClickScrollParent=n;break}n=n.parentElement}while(n)}t&&(t.fastClickLastScrollTop=t.scrollTop)},e.prototype.getTargetElementFromEventTarget=function(e){return e.nodeType===Node.TEXT_NODE?e.parentNode:e},e.prototype.onTouchStart=function(e){var t,n,r;if(e.targetTouches.length>1)return!0;if(t=this.getTargetElementFromEventTarget(e.target),n=e.targetTouches[0],i){if(r=window.getSelection(),r.rangeCount&&!r.isCollapsed)return!0;if(!a){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=n.pageX,this.touchStartY=n.pageY,e.timeStamp-this.lastClickTime<this.tapDelay&&e.preventDefault(),!0},e.prototype.touchHasMoved=function(e){var t=e.changedTouches[0],n=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>n||Math.abs(t.pageY-this.touchStartY)>n},e.prototype.onTouchMove=function(e){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))&&(this.trackingClick=!1,this.targetElement=null),!0)},e.prototype.findControl=function(e){return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},e.prototype.onTouchEnd=function(e){var t,s,o,l,c,d=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(e.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,s=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,r&&(c=e.changedTouches[0],d=document.elementFromPoint(c.pageX-window.pageXOffset,c.pageY-window.pageYOffset)||d,d.fastClickScrollParent=this.targetElement.fastClickScrollParent),"label"===(o=d.tagName.toLowerCase())){if(t=this.findControl(d)){if(this.focus(d),n)return!1;d=t}}else if(this.needsFocus(d))return e.timeStamp-s>100||i&&window.top!==window&&"input"===o?(this.targetElement=null,!1):(this.focus(d),this.sendClick(d,e),i&&"select"===o||(this.targetElement=null,e.preventDefault()),!1);return!(!i||a||!(l=d.fastClickScrollParent)||l.fastClickLastScrollTop===l.scrollTop)||(this.needsClick(d)||(e.preventDefault(),this.sendClick(d,e)),!1)},e.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},e.prototype.onMouse=function(e){return!this.targetElement||(!!e.forwardedTouchEvent||(!e.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1))))},e.prototype.onClick=function(e){var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===e.target.type&&0===e.detail||(t=this.onMouse(e),t||(this.targetElement=null),t)},e.prototype.destroy=function(){var e=this.layer;n&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},e.notNeeded=function(e){var t,i,a;if(void 0===window.ontouchstart)return!0;if(i=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!n)return!0;if(t=document.querySelector("meta[name=viewport]")){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(i>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(s&&(a=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),a[1]>=10&&a[2]>=3&&(t=document.querySelector("meta[name=viewport]")))){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===e.style.msTouchAction||"manipulation"===e.style.touchAction||(!!(+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]>=27&&(t=document.querySelector("meta[name=viewport]"))&&(-1!==t.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))||("none"===e.style.touchAction||"manipulation"===e.style.touchAction))},e.attach=function(t,n){return new e(t,n)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return e}):"undefined"!=typeof module&&module.exports?(module.exports=e.attach,module.exports.FastClick=e):window.FastClick=e}();var wysihtml5,Base,Handlebars;if(Object.defineProperty&&Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(Element.prototype,"textContent")&&!Object.getOwnPropertyDescriptor(Element.prototype,"textContent").get&&function(){var e=Object.getOwnPropertyDescriptor(Element.prototype,"innerText");Object.defineProperty(Element.prototype,"textContent",{get:function(){return e.get.call(this)},set:function(t){return e.set.call(this,t)}})}(),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),wysihtml5={version:"0.4.15",commands:{},dom:{},quirks:{},toolbar:{},lang:{},selection:{},views:{},INVISIBLE_SPACE:"\ufeff",EMPTY_FUNCTION:function(){},ELEMENT_NODE:1,TEXT_NODE:3,BACKSPACE_KEY:8,ENTER_KEY:13,ESCAPE_KEY:27,SPACE_KEY:32,DELETE_KEY:46},function(e,t){"function"==typeof define&&define.amd?define(e):t.rangy=e()}(function(){function e(e,t){var n=typeof e[t];return n==_||!(n!=x||!e[t])||"unknown"==n}function t(e,t){return!(typeof e[t]!=x||!e[t])}function n(e,t){return typeof e[t]!=S}function i(e){return function(t,n){for(var i=n.length;i--;)if(!e(t,n[i]))return!1;return!0}}function a(e){return e&&A(e,E)&&M(e,T)}function r(e){return t(e,"body")?e.body:e.getElementsByTagName("body")[0]}function s(n){t(window,"console")&&e(window.console,"log")&&window.console.log(n)}function o(e,t){t?window.alert(e):s(e)}function l(e){I.initialized=!0,I.supported=!1,o("Rangy is not supported on this page in your browser. Reason: "+e,I.config.alertOnFail)}function c(e){o("Rangy warning: "+e,I.config.alertOnWarn)}function d(e){return e.message||e.description||e+""}function u(){var t,n,i,o,c,u,h,p,m;if(!I.initialized){if(n=!1,i=!1,e(document,"createRange")&&(t=document.createRange(),A(t,D)&&M(t,k)&&(n=!0)),!(o=r(document))||"body"!=o.nodeName.toLowerCase())return void l("No body element found");if(o&&e(o,"createTextRange")&&(t=o.createTextRange(),a(t)&&(i=!0)),!n&&!i)return void l("Neither Range nor TextRange are available");I.initialized=!0,I.features={implementsDomRange:n,implementsTextRange:i};for(h in R)(c=R[h])instanceof f&&c.init(c,I);for(p=0,m=v.length;m>p;++p)try{v[p](I)}catch(e){u="Rangy init listener threw an exception. Continuing. Detail: "+d(e),s(u)}}}function h(e){e=e||window,u();for(var t=0,n=b.length;n>t;++t)b[t](e)}function f(e,t,n){this.name=e,this.dependencies=t,this.initialized=!1,this.supported=!1,this.initializer=n}function p(e,t,n,i){var a=new f(t,n,function(e){if(!e.initialized){e.initialized=!0;try{i(I,e),e.supported=!0}catch(e){var n="Module '"+t+"' failed to load: "+d(e);s(n)}}});R[t]=a}function m(){}function g(){}var y,v,b,w,C,x="object",_="function",S="undefined",k=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],D=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],T=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],E=["collapse","compareEndPoints","duplicate","moveToElementText","parentElement","select","setEndPoint","getBoundingClientRect"],A=i(e),N=i(t),M=i(n),R={},I={version:"1.3alpha.20140804",initialized:!1,supported:!0,util:{isHostMethod:e,isHostObject:t,isHostProperty:n,areHostMethods:A,areHostObjects:N,areHostProperties:M,isTextRange:a,getBody:r},features:{},modules:R,config:{alertOnFail:!0,alertOnWarn:!1,preferTextRange:!1,autoInitialize:typeof rangyAutoInitialize==S||rangyAutoInitialize}};return I.fail=l,I.warn=c,{}.hasOwnProperty?I.util.extend=function(e,t,n){var i,a,r;for(r in t)t.hasOwnProperty(r)&&(i=e[r],a=t[r],n&&null!==i&&"object"==typeof i&&null!==a&&"object"==typeof a&&I.util.extend(i,a,!0),e[r]=a);return t.hasOwnProperty("toString")&&(e.toString=t.toString),e}:l("hasOwnProperty not supported"),function(){var e,t,n=document.createElement("div");n.appendChild(document.createElement("span")),e=[].slice;try{1==e.call(n.childNodes,0)[0].nodeType&&(t=function(t){return e.call(t,0)})}catch(e){}t||(t=function(e){var t,n,i=[];for(t=0,n=e.length;n>t;++t)i[t]=e[t];return i}),I.util.toArray=t}(),e(document,"addEventListener")?y=function(e,t,n){e.addEventListener(t,n,!1)}:e(document,"attachEvent")?y=function(e,t,n){e.attachEvent("on"+t,n)}:l("Document does not have required addEventListener or attachEvent method"),I.util.addListener=y,v=[],I.init=u,I.addInitListener=function(e){I.initialized?e(I):v.push(e)},b=[],I.addShimListener=function(e){b.push(e)},I.shim=I.createMissingNativeApi=h,f.prototype={init:function(){var e,t,n,i,a=this.dependencies||[];for(e=0,t=a.length;t>e;++e){if(i=a[e],!((n=R[i])&&n instanceof f))throw Error("required module '"+i+"' not found");if(n.init(),!n.supported)throw Error("required module '"+i+"' not supported")}this.initializer(this)},fail:function(e){throw this.initialized=!0,this.supported=!1,Error("Module '"+this.name+"' failed to load: "+e)},warn:function(e){I.warn("Module "+this.name+": "+e)},deprecationNotice:function(e,t){I.warn("DEPRECATED: "+e+" in module "+this.name+"is deprecated. Please use "+t+" instead")},createError:function(e){return Error("Error in Rangy "+this.name+" module: "+e)}},I.createModule=function(e){var t,n,i;2==arguments.length?(t=arguments[1],n=[]):(t=arguments[2],n=arguments[1]),i=p(!1,e,n,t),I.initialized&&i.init()},I.createCoreModule=function(e,t,n){p(!0,e,t,n)},I.RangePrototype=m,I.rangePrototype=new m,I.selectionPrototype=new g,w=!1,C=function(){w||(w=!0,!I.initialized&&I.config.autoInitialize&&u())},typeof window==S?void l("No window found"):typeof document==S?void l("No document found"):(e(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",C,!1),y(window,"load",C),I.createCoreModule("DomUtil",[],function(e,t){function n(e){var t;return typeof e.namespaceURI==O||null===(t=e.namespaceURI)||"http://www.w3.org/1999/xhtml"==t}function i(e){var t=e.parentNode;return 1==t.nodeType?t:null}function a(e){for(var t=0;e=e.previousSibling;)++t;return t}function r(e){switch(e.nodeType){case 7:case 10:return 0;case 3:case 8:return e.length;default:return e.childNodes.length}}function s(e,t){var n,i=[];for(n=e;n;n=n.parentNode)i.push(n);for(n=t;n;n=n.parentNode)if(M(i,n))return n;return null}function o(e,t,n){for(var i=n?t:t.parentNode;i;){if(i===e)return!0;i=i.parentNode}return!1}function l(e,t){return o(e,t,!0)}function c(e,t,n){for(var i,a=n?e:e.parentNode;a;){if((i=a.parentNode)===t)return a;a=i}return null}function d(e){var t=e.nodeType;return 3==t||4==t||8==t}function u(e){if(!e)return!1;var t=e.nodeType;return 3==t||8==t}function h(e,t){var n=t.nextSibling,i=t.parentNode;return n?i.insertBefore(e,n):i.appendChild(e),e}function f(e,t,n){var i,r,s=e.cloneNode(!1);if(s.deleteData(0,t),e.deleteData(t,e.length-t),h(s,e),n)for(i=0;r=n[i++];)r.node==e&&r.offset>t?(r.node=s,r.offset-=t):r.node==e.parentNode&&r.offset>a(e)&&++r.offset;return s}function p(e){if(9==e.nodeType)return e;if(typeof e.ownerDocument!=O)return e.ownerDocument;if(typeof e.document!=O)return e.document;if(e.parentNode)return p(e.parentNode);throw t.createError("getDocument: no document found for node")}function m(e){var n=p(e);if(typeof n.defaultView!=O)return n.defaultView;if(typeof n.parentWindow!=O)return n.parentWindow;throw t.createError("Cannot get a window object for node")}function g(e){if(typeof e.contentDocument!=O)return e.contentDocument;if(typeof e.contentWindow!=O)return e.contentWindow.document;throw t.createError("getIframeDocument: No Document object found for iframe element")}function y(e){if(typeof e.contentWindow!=O)return e.contentWindow;if(typeof e.contentDocument!=O)return e.contentDocument.defaultView;throw t.createError("getIframeWindow: No Window object found for iframe element")}function v(e){return e&&P.isHostMethod(e,"setTimeout")&&P.isHostObject(e,"document")}function b(e,t,n){var i;if(e?P.isHostProperty(e,"nodeType")?i=1==e.nodeType&&"iframe"==e.tagName.toLowerCase()?g(e):p(e):v(e)&&(i=e.document):i=document,!i)throw t.createError(n+"(): Parameter must be a Window object or DOM node");return i}function w(e){for(var t;t=e.parentNode;)e=t;return e}function C(e,n,i,r){var o,l,d,u,h;if(e==i)return n===r?0:r>n?-1:1;if(o=c(i,e,!0))return n<=a(o)?-1:1;if(o=c(e,i,!0))return a(o)<r?-1:1;if(!(l=s(e,i)))throw Error("comparePoints error: nodes have no common ancestor");if(d=e===l?l:c(e,l,!0),u=i===l?l:c(i,l,!0),d===u)throw t.createError("comparePoints got to case 4 and childA and childB are the same!");for(h=l.firstChild;h;){if(h===d)return-1;if(h===u)return 1;h=h.nextSibling}}function x(e){try{return e.parentNode,!1}catch(e){return!0}}function _(e){if(!e)return"[No node]";if(R&&x(e))return"[Broken node]";if(d(e))return'"'+e.data+'"';if(1==e.nodeType){var t=e.id?' id="'+e.id+'"':"";return"<"+e.nodeName+t+">[index:"+a(e)+",length:"+e.childNodes.length+"]["+(e.innerHTML||"[innerHTML not supported]").slice(0,25)+"]"}return e.nodeName}function S(e){for(var t,n=p(e).createDocumentFragment();t=e.firstChild;)n.appendChild(t);return n}function k(e){this.root=e,this._next=e}function D(e){return new k(e)}function T(e,t){this.node=e,this.offset=t}function E(e){this.code=this[e],this.codeName=e,this.message="DOMException: "+this.codeName}var A,N,M,R,I,O="undefined",P=e.util;P.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||t.fail("document missing a Node creation method"),P.isHostMethod(document,"getElementsByTagName")||t.fail("document missing getElementsByTagName method"),A=document.createElement("div"),P.areHostMethods(A,["insertBefore","appendChild","cloneNode"]||!P.areHostObjects(A,["previousSibling","nextSibling","childNodes","parentNode"]))||t.fail("Incomplete Element implementation"),P.isHostProperty(A,"innerHTML")||t.fail("Element is missing innerHTML property"),N=document.createTextNode("test"),P.areHostMethods(N,["splitText","deleteData","insertData","appendData","cloneNode"]||!P.areHostObjects(A,["previousSibling","nextSibling","childNodes","parentNode"])||!P.areHostProperties(N,["data"]))||t.fail("Incomplete Text Node implementation"),M=function(e,t){for(var n=e.length;n--;)if(e[n]===t)return!0;return!1},R=!1,function(){var t,n=document.createElement("b");n.innerHTML="1",t=n.firstChild,n.innerHTML="<br>",R=x(t),e.features.crashyTextNodes=R}(),typeof window.getComputedStyle!=O?I=function(e,t){return m(e).getComputedStyle(e,null)[t]}:typeof document.documentElement.currentStyle!=O?I=function(e,t){return e.currentStyle[t]}:t.fail("No means of obtaining computed style properties found"),k.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var e,t,n=this._current=this._next;if(this._current)if(e=n.firstChild)this._next=e;else{for(t=null;n!==this.root&&!(t=n.nextSibling);)n=n.parentNode;this._next=t}return this._current},detach:function(){this._current=this._next=this.root=null}},T.prototype={equals:function(e){return!!e&&this.node===e.node&&this.offset==e.offset},inspect:function(){return"[DomPosition("+_(this.node)+":"+this.offset+")]"},toString:function(){return this.inspect()}},E.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24},E.prototype.toString=function(){return this.message},e.dom={arrayContains:M,isHtmlNamespace:n,parentElement:i,getNodeIndex:a,getNodeLength:r,getCommonAncestor:s,isAncestorOf:o,isOrIsAncestorOf:l,getClosestAncestorIn:c,isCharacterDataNode:d,isTextOrCommentNode:u,insertAfter:h,splitDataNode:f,getDocument:p,getWindow:m,getIframeWindow:y,getIframeDocument:g,getBody:P.getBody,isWindow:v,getContentDocument:b,getRootContainer:w,comparePoints:C,isBrokenNode:x,inspectNode:_,getComputedStyleProperty:I,fragmentFromNodeChildren:S,createIterator:D,DomPosition:T},e.DOMException=E}),I.createCoreModule("DomRange",["DomUtil"],function(e){function t(e,t){return 3!=e.nodeType&&(se(e,t.startContainer)||se(e,t.endContainer))}function n(e){return e.document||oe(e.startContainer)}function i(e){return new ne(e.parentNode,re(e))}function a(e){return new ne(e.parentNode,re(e)+1)}function r(e,t,n){var i=11==e.nodeType?e.firstChild:e;return ae(t)?n==t.length?ee.insertAfter(e,t):t.parentNode.insertBefore(e,0==n?t:ce(t,n)):n>=t.childNodes.length?t.appendChild(e):t.insertBefore(e,t.childNodes[n]),i}function s(e,t,i){if(S(e),S(t),n(t)!=n(e))throw new ie("WRONG_DOCUMENT_ERR");var a=le(e.startContainer,e.startOffset,t.endContainer,t.endOffset),r=le(e.endContainer,e.endOffset,t.startContainer,t.startOffset);return i?0>=a&&r>=0:0>a&&r>0}function o(e){var t,i,a,r;for(a=n(e.range).createDocumentFragment();i=e.next();){if(t=e.isPartiallySelectedSubtree(),i=i.cloneNode(!t),t&&(r=e.getSubtreeIterator(),i.appendChild(o(r)),r.detach()),10==i.nodeType)throw new ie("HIERARCHY_REQUEST_ERR");a.appendChild(i)}return a}function l(e,t,n){var i,a,r,s;for(n=n||{stop:!1};r=e.next();)if(e.isPartiallySelectedSubtree()){if(!1===t(r))return void(n.stop=!0);if(s=e.getSubtreeIterator(),l(s,t,n),s.detach(),n.stop)return}else for(i=ee.createIterator(r);a=i.next();)if(!1===t(a))return void(n.stop=!0)}function c(e){for(var t;e.next();)e.isPartiallySelectedSubtree()?(t=e.getSubtreeIterator(),c(t),t.detach()):e.remove()}function d(e){for(var t,i,a=n(e.range).createDocumentFragment();t=e.next();){if(e.isPartiallySelectedSubtree()?(t=t.cloneNode(!1),i=e.getSubtreeIterator(),t.appendChild(d(i)),i.detach()):e.remove(),10==t.nodeType)throw new ie("HIERARCHY_REQUEST_ERR");a.appendChild(t)}return a}function u(e,t,n){var i,a,r=!(!t||!t.length),s=!!n;return r&&(i=RegExp("^("+t.join("|")+")$")),a=[],l(new f(e,!1),function(t){var o,l;(!r||i.test(t.nodeType))&&(!s||n(t))&&(o=e.startContainer,t==o&&ae(o)&&e.startOffset==o.length||(l=e.endContainer,t==l&&ae(l)&&0==e.endOffset||a.push(t)))}),a}function h(e){return"["+(void 0===e.getName?"Range":e.getName())+"("+ee.inspectNode(e.startContainer)+":"+e.startOffset+", "+ee.inspectNode(e.endContainer)+":"+e.endOffset+")]"}function f(e,t){if(this.range=e,this.clonePartiallySelectedTextNodes=t,!e.collapsed){this.sc=e.startContainer,this.so=e.startOffset,this.ec=e.endContainer,this.eo=e.endOffset;var n=e.commonAncestorContainer;this.sc===this.ec&&ae(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==n||ae(this.sc)?de(this.sc,n,!0):this.sc.childNodes[this.so],this._last=this.ec!==n||ae(this.ec)?de(this.ec,n,!0):this.ec.childNodes[this.eo-1])}}function p(e){return function(t,n){for(var i,a=n?t:t.parentNode;a;){if(i=a.nodeType,he(e,i))return a;a=a.parentNode}return null}}function m(e,t){if(F(e,t))throw new ie("INVALID_NODE_TYPE_ERR")}function g(e,t){if(!he(t,e.nodeType))throw new ie("INVALID_NODE_TYPE_ERR")}function y(e,t){if(0>t||t>(ae(e)?e.length:e.childNodes.length))throw new ie("INDEX_SIZE_ERR")}function v(e,t){if(B(e,!0)!==B(t,!0))throw new ie("WRONG_DOCUMENT_ERR")}function b(e){if(j(e,!0))throw new ie("NO_MODIFICATION_ALLOWED_ERR")}function w(e,t){if(!e)throw new ie(t)}function C(e){return pe&&ee.isBrokenNode(e)||!he(P,e.nodeType)&&!B(e,!0)}function x(e,t){return t<=(ae(e)?e.length:e.childNodes.length)}function _(e){return!!e.startContainer&&!!e.endContainer&&!C(e.startContainer)&&!C(e.endContainer)&&x(e.startContainer,e.startOffset)&&x(e.endContainer,e.endOffset)}function S(e){if(!_(e))throw Error("Range error: Range is no longer valid after DOM mutation ("+e.inspect()+")")}function k(e,t){var n,i,a,r,s;S(e),n=e.startContainer,i=e.startOffset,a=e.endContainer,r=e.endOffset,s=n===a,ae(a)&&r>0&&r<a.length&&ce(a,r,t),ae(n)&&i>0&&i<n.length&&(n=ce(n,i,t),s?(r-=i,a=n):a==n.parentNode&&r>=re(n)&&r++,i=0),e.setStartAndEnd(n,i,a,r)}function D(e){S(e);var t=e.commonAncestorContainer.parentNode.cloneNode(!1);return t.appendChild(e.cloneContents()),t.innerHTML}function T(e){e.START_TO_START=q,e.START_TO_END=z,e.END_TO_END=G,e.END_TO_START=K,e.NODE_BEFORE=X,e.NODE_AFTER=J,e.NODE_BEFORE_AND_AFTER=Z,e.NODE_INSIDE=Q}function E(e){T(e),T(e.prototype)}function A(e,t){return function(){var n,i,r,s,o,c,d;return S(this),n=this.startContainer,i=this.startOffset,r=this.commonAncestorContainer,s=new f(this,!0),n!==r&&(o=de(n,r,!0),c=a(o),n=c.node,i=c.offset),l(s,b),s.reset(),d=e(s),s.detach(),t(this,n,i,n,i),d}}function N(n,r){function s(e,t){return function(n){g(n,O),g(fe(n),P);var r=(e?i:a)(n);(t?o:l)(this,r.node,r.offset)}}function o(e,t,n){var i=e.endContainer,a=e.endOffset;(t!==e.startContainer||n!==e.startOffset)&&((fe(t)!=fe(i)||1==le(t,n,i,a))&&(i=t,a=n),r(e,t,n,i,a))}function l(e,t,n){var i=e.startContainer,a=e.startOffset;(t!==e.endContainer||n!==e.endOffset)&&((fe(t)!=fe(i)||-1==le(t,n,i,a))&&(i=t,a=n),r(e,i,a,t,n))}var u=function(){};u.prototype=e.rangePrototype,n.prototype=new u,te.extend(n.prototype,{setStart:function(e,t){m(e,!0),y(e,t),o(this,e,t)},setEnd:function(e,t){m(e,!0),y(e,t),l(this,e,t)},setStartAndEnd:function(){var e=arguments,t=e[0],n=e[1],i=t,a=n;switch(e.length){case 3:a=e[2];break;case 4:i=e[2],a=e[3]}r(this,t,n,i,a)},setBoundary:function(e,t,n){this["set"+(n?"Start":"End")](e,t)},setStartBefore:s(!0,!0),setStartAfter:s(!1,!0),setEndBefore:s(!0,!1),setEndAfter:s(!1,!1),collapse:function(e){S(this),e?r(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):r(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(e){m(e,!0),r(this,e,0,e,ue(e))},selectNode:function(e){m(e,!1),g(e,O);var t=i(e),n=a(e);r(this,t.node,t.offset,n.node,n.offset)},extractContents:A(d,r),deleteContents:A(c,r),canSurroundContents:function(){var e,n;return S(this),b(this.startContainer),b(this.endContainer),e=new f(this,!0),n=e._first&&t(e._first,this)||e._last&&t(e._last,this),e.detach(),!n},splitBoundaries:function(){k(this)},splitBoundariesPreservingPositions:function(e){k(this,e)},normalizeBoundaries:function(){var e,t,n,i,a,s,o,l,c;S(this),e=this.startContainer,t=this.startOffset,n=this.endContainer,i=this.endOffset,a=function(e){var t=e.nextSibling;t&&t.nodeType==e.nodeType&&(n=e,i=e.length,e.appendData(t.data),t.parentNode.removeChild(t))},s=function(a){var r,s,o=a.previousSibling;o&&o.nodeType==a.nodeType&&(e=a,r=a.length,t=o.length,a.insertData(0,o.data),o.parentNode.removeChild(o),e==n?(i+=t,n=e):n==a.parentNode&&(s=re(a),i==s?(n=a,i=r):i>s&&i--))},o=!0,ae(n)?n.length==i&&a(n):(i>0&&(l=n.childNodes[i-1])&&ae(l)&&a(l),o=!this.collapsed),o?ae(e)?0==t&&s(e):t<e.childNodes.length&&(c=e.childNodes[t])&&ae(c)&&s(c):(e=n,t=i),r(this,e,t,n,i)},collapseToPoint:function(e,t){m(e,!0),y(e,t),this.setStartAndEnd(e,t)}}),E(n)}function M(e){e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset,e.commonAncestorContainer=e.collapsed?e.startContainer:ee.getCommonAncestor(e.startContainer,e.endContainer)}function R(e,t,n,i,a){e.startContainer=t,e.startOffset=n,e.endContainer=i,e.endOffset=a,e.document=ee.getDocument(t),M(e)}function I(e){this.startContainer=e,this.startOffset=0,this.endContainer=e,this.endOffset=0,this.document=e,M(this)}var O,P,L,H,$,B,j,F,Y,U,W,V,q,z,G,K,X,J,Z,Q,ee=e.dom,te=e.util,ne=ee.DomPosition,ie=e.DOMException,ae=ee.isCharacterDataNode,re=ee.getNodeIndex,se=ee.isOrIsAncestorOf,oe=ee.getDocument,le=ee.comparePoints,ce=ee.splitDataNode,de=ee.getClosestAncestorIn,ue=ee.getNodeLength,he=ee.arrayContains,fe=ee.getRootContainer,pe=e.features.crashyTextNodes;f.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var e=this._current=this._next;return e&&(this._next=e!==this._last?e.nextSibling:null,ae(e)&&this.clonePartiallySelectedTextNodes&&(e===this.ec&&(e=e.cloneNode(!0)).deleteData(this.eo,e.length-this.eo),this._current===this.sc&&(e=e.cloneNode(!0)).deleteData(0,this.so))),e},remove:function(){var e,t,n=this._current;!ae(n)||n!==this.sc&&n!==this.ec?n.parentNode&&n.parentNode.removeChild(n):(e=n===this.sc?this.so:0,t=n===this.ec?this.eo:n.length,e!=t&&n.deleteData(e,t-e))},isPartiallySelectedSubtree:function(){return t(this._current,this.range)},getSubtreeIterator:function(){var e,t,i,a,r,s;return this.isSingleCharacterDataNode?(e=this.range.cloneRange(),e.collapse(!1)):(e=new I(n(this.range)),t=this._current,i=t,a=0,r=t,s=ue(t),se(t,this.sc)&&(i=this.sc,a=this.so),se(t,this.ec)&&(r=this.ec,s=this.eo),R(e,i,a,r,s)),new f(e,this.clonePartiallySelectedTextNodes)},detach:function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}},O=[1,3,4,5,7,8,10],P=[2,9,11],L=[5,6,10,12],H=[1,3,4,5,7,8,10,11],$=[1,3,4,5,7,8],B=p([9,11]),j=p(L),F=p([6,10,12]),Y=document.createElement("style"),U=!1;try{Y.innerHTML="<b>x</b>",U=3==Y.firstChild.nodeType}catch(e){}e.features.htmlParsingConforms=U,W=U?function(e){var t,n=this.startContainer,i=oe(n);if(!n)throw new ie("INVALID_STATE_ERR");return t=null,1==n.nodeType?t=n:ae(n)&&(t=ee.parentElement(n)),t=null===t||"HTML"==t.nodeName&&ee.isHtmlNamespace(oe(t).documentElement)&&ee.isHtmlNamespace(t)?i.createElement("body"):t.cloneNode(!1),t.innerHTML=e,ee.fragmentFromNodeChildren(t)}:function(e){var t=n(this),i=t.createElement("body");return i.innerHTML=e,ee.fragmentFromNodeChildren(i)},V=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],q=0,z=1,G=2,K=3,X=0,J=1,Z=2,Q=3,te.extend(e.rangePrototype,{compareBoundaryPoints:function(e,t){var n,i,a,r,s,o;return S(this),v(this.startContainer,t.startContainer),s=e==K||e==q?"start":"end",o=e==z||e==q?"start":"end",n=this[s+"Container"],i=this[s+"Offset"],a=t[o+"Container"],r=t[o+"Offset"],le(n,i,a,r)},insertNode:function(e){if(S(this),g(e,H),b(this.startContainer),se(e,this.startContainer))throw new ie("HIERARCHY_REQUEST_ERR");var t=r(e,this.startContainer,this.startOffset);this.setStartBefore(t)},cloneContents:function(){var e,t,i;return S(this),this.collapsed?n(this).createDocumentFragment():this.startContainer===this.endContainer&&ae(this.startContainer)?(e=this.startContainer.cloneNode(!0),e.data=e.data.slice(this.startOffset,this.endOffset),t=n(this).createDocumentFragment(),t.appendChild(e),t):(i=new f(this,!0),e=o(i),i.detach(),e)},canSurroundContents:function(){var e,n;return S(this),b(this.startContainer),b(this.endContainer),e=new f(this,!0),n=e._first&&t(e._first,this)||e._last&&t(e._last,this),e.detach(),!n},surroundContents:function(e){if(g(e,$),!this.canSurroundContents())throw new ie("INVALID_STATE_ERR");var t=this.extractContents();if(e.hasChildNodes())for(;e.lastChild;)e.removeChild(e.lastChild);r(e,this.startContainer,this.startOffset),e.appendChild(t),this.selectNode(e)},cloneRange:function(){var e,t,i;for(S(this),e=new I(n(this)),t=V.length;t--;)i=V[t],e[i]=this[i];return e},toString:function(){var e,t,n;return S(this),e=this.startContainer,e===this.endContainer&&ae(e)?3==e.nodeType||4==e.nodeType?e.data.slice(this.startOffset,this.endOffset):"":(t=[],n=new f(this,!0),l(n,function(e){(3==e.nodeType||4==e.nodeType)&&t.push(e.data)}),n.detach(),t.join(""))},compareNode:function(e){var t,n,i,a;if(S(this),t=e.parentNode,n=re(e),!t)throw new ie("NOT_FOUND_ERR");return i=this.comparePoint(t,n),a=this.comparePoint(t,n+1),0>i?a>0?Z:X:a>0?J:Q},comparePoint:function(e,t){return S(this),w(e,"HIERARCHY_REQUEST_ERR"),v(e,this.startContainer),le(e,t,this.startContainer,this.startOffset)<0?-1:le(e,t,this.endContainer,this.endOffset)>0?1:0},createContextualFragment:W,toHtml:function(){return D(this)},intersectsNode:function(e,t){var i,a,r,s;return S(this),w(e,"NOT_FOUND_ERR"),oe(e)===n(this)&&(i=e.parentNode,a=re(e),w(i,"NOT_FOUND_ERR"),r=le(i,a,this.endContainer,this.endOffset),s=le(i,a+1,this.startContainer,this.startOffset),t?0>=r&&s>=0:0>r&&s>0)},isPointInRange:function(e,t){return S(this),w(e,"HIERARCHY_REQUEST_ERR"),v(e,this.startContainer),le(e,t,this.startContainer,this.startOffset)>=0&&le(e,t,this.endContainer,this.endOffset)<=0},intersectsRange:function(e){return s(this,e,!1)},intersectsOrTouchesRange:function(e){return s(this,e,!0)},intersection:function(e){var t,n,i;return this.intersectsRange(e)?(t=le(this.startContainer,this.startOffset,e.startContainer,e.startOffset),n=le(this.endContainer,this.endOffset,e.endContainer,e.endOffset),i=this.cloneRange(),-1==t&&i.setStart(e.startContainer,e.startOffset),1==n&&i.setEnd(e.endContainer,e.endOffset),i):null},union:function(e){if(this.intersectsOrTouchesRange(e)){var t=this.cloneRange();return-1==le(e.startContainer,e.startOffset,this.startContainer,this.startOffset)&&t.setStart(e.startContainer,e.startOffset),1==le(e.endContainer,e.endOffset,this.endContainer,this.endOffset)&&t.setEnd(e.endContainer,e.endOffset),t}throw new ie("Ranges do not intersect")},containsNode:function(e,t){return t?this.intersectsNode(e,!1):this.compareNode(e)==Q},containsNodeContents:function(e){return this.comparePoint(e,0)>=0&&this.comparePoint(e,ue(e))<=0},containsRange:function(e){var t=this.intersection(e);return null!==t&&e.equals(t)},containsNodeText:function(e){var t,n,i=this.cloneRange();return i.selectNode(e),t=i.getNodes([3]),t.length>0?(i.setStart(t[0],0),n=t.pop(),i.setEnd(n,n.length),this.containsRange(i)):this.containsNodeContents(e)},getNodes:function(e,t){return S(this),u(this,e,t)},getDocument:function(){return n(this)},collapseBefore:function(e){this.setEndBefore(e),this.collapse(!1)},collapseAfter:function(e){this.setStartAfter(e),this.collapse(!0)},getBookmark:function(t){var i,a,r,s=n(this),o=e.createRange(s);return t=t||ee.getBody(s),o.selectNodeContents(t),i=this.intersection(o),a=0,r=0,i&&(o.setEnd(i.startContainer,i.startOffset),a=(""+o).length,r=a+(""+i).length),{start:a,end:r,containerNode:t}},moveToBookmark:function(e){var t,n,i,a,r,s,o,l=e.containerNode,c=0;for(this.setStart(l,0),this.collapse(!0),t=[l],i=!1,a=!1;!a&&(n=t.pop());)if(3==n.nodeType)r=c+n.length,!i&&e.start>=c&&e.start<=r&&(this.setStart(n,e.start-c),i=!0),i&&e.end>=c&&e.end<=r&&(this.setEnd(n,e.end-c),a=!0),c=r;else for(o=n.childNodes,s=o.length;s--;)t.push(o[s])},getName:function(){return"DomRange"},equals:function(e){return I.rangesEqual(this,e)},isValid:function(){return _(this)},inspect:function(){return h(this)},detach:function(){}}),N(I,R),te.extend(I,{rangeProperties:V,RangeIterator:f,copyComparisonConstants:E,createPrototypeRange:N,inspect:h,toHtml:D,getRangeDocument:n,rangesEqual:function(e,t){return e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset}}),e.DomRange=I}),I.createCoreModule("WrappedRange",["DomRange"],function(e,t){var n,i,a,r,s,o,l,c,d=e.dom,u=e.util,h=d.DomPosition,f=e.DomRange,p=d.getBody,m=d.getContentDocument,g=d.isCharacterDataNode;e.features.implementsDomRange&&function(){function i(e){
for(var t,n=v.length;n--;)t=v[n],e[t]=e.nativeRange[t];e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset}function a(e,t,n,i,a){var r=e.startContainer!==t||e.startOffset!=n,s=e.endContainer!==i||e.endOffset!=a,o=!e.equals(e.nativeRange);(r||s||o)&&(e.setEnd(i,a),e.setStart(t,n))}var r,s,o,l,c,h,g,y,v=f.rangeProperties;n=function(e){if(!e)throw t.createError("WrappedRange: Range must be specified");this.nativeRange=e,i(this)},f.createPrototypeRange(n,a),r=n.prototype,r.selectNode=function(e){this.nativeRange.selectNode(e),i(this)},r.cloneContents=function(){return this.nativeRange.cloneContents()},r.surroundContents=function(e){this.nativeRange.surroundContents(e),i(this)},r.collapse=function(e){this.nativeRange.collapse(e),i(this)},r.cloneRange=function(){return new n(this.nativeRange.cloneRange())},r.refresh=function(){i(this)},r.toString=function(){return""+this.nativeRange},o=document.createTextNode("test"),p(document).appendChild(o),l=document.createRange(),l.setStart(o,0),l.setEnd(o,0);try{l.setStart(o,1),r.setStart=function(e,t){this.nativeRange.setStart(e,t),i(this)},r.setEnd=function(e,t){this.nativeRange.setEnd(e,t),i(this)},s=function(e){return function(t){this.nativeRange[e](t),i(this)}}}catch(e){r.setStart=function(e,t){try{this.nativeRange.setStart(e,t)}catch(n){this.nativeRange.setEnd(e,t),this.nativeRange.setStart(e,t)}i(this)},r.setEnd=function(e,t){try{this.nativeRange.setEnd(e,t)}catch(n){this.nativeRange.setStart(e,t),this.nativeRange.setEnd(e,t)}i(this)},s=function(e,t){return function(n){try{this.nativeRange[e](n)}catch(i){this.nativeRange[t](n),this.nativeRange[e](n)}i(this)}}}r.setStartBefore=s("setStartBefore","setEndBefore"),r.setStartAfter=s("setStartAfter","setEndAfter"),r.setEndBefore=s("setEndBefore","setStartBefore"),r.setEndAfter=s("setEndAfter","setStartAfter"),r.selectNodeContents=function(e){this.setStartAndEnd(e,0,d.getNodeLength(e))},l.selectNodeContents(o),l.setEnd(o,3),c=document.createRange(),c.selectNodeContents(o),c.setEnd(o,4),c.setStart(o,2),r.compareBoundaryPoints=-1==l.compareBoundaryPoints(l.START_TO_END,c)&&1==l.compareBoundaryPoints(l.END_TO_START,c)?function(e,t){return t=t.nativeRange||t,e==t.START_TO_END?e=t.END_TO_START:e==t.END_TO_START&&(e=t.START_TO_END),this.nativeRange.compareBoundaryPoints(e,t)}:function(e,t){return this.nativeRange.compareBoundaryPoints(e,t.nativeRange||t)},h=document.createElement("div"),h.innerHTML="123",g=h.firstChild,y=p(document),y.appendChild(h),l.setStart(g,1),l.setEnd(g,2),l.deleteContents(),"13"==g.data&&(r.deleteContents=function(){this.nativeRange.deleteContents(),i(this)},r.extractContents=function(){var e=this.nativeRange.extractContents();return i(this),e}),y.removeChild(h),y=null,u.isHostMethod(l,"createContextualFragment")&&(r.createContextualFragment=function(e){return this.nativeRange.createContextualFragment(e)}),p(document).removeChild(o),r.getName=function(){return"WrappedRange"},e.WrappedRange=n,e.createNativeRange=function(e){return e=m(e,t,"createNativeRange"),e.createRange()}}(),e.features.implementsTextRange&&(a=function(e){var t,n,i,a=e.parentElement(),r=e.duplicate();return r.collapse(!0),t=r.parentElement(),r=e.duplicate(),r.collapse(!1),n=r.parentElement(),i=t==n?t:d.getCommonAncestor(t,n),i==a?i:d.getCommonAncestor(a,i)},r=function(e){return 0==e.compareEndPoints("StartToEnd",e)},s=function(e,t,n,i,a){var r,s,o,l,c,u,f,p,m,y,v,b,w,C,x,_,S=e.duplicate();if(S.collapse(n),r=S.parentElement(),d.isOrIsAncestorOf(t,r)||(r=t),!r.canHaveHTML)return s=new h(r.parentNode,d.getNodeIndex(r)),{boundaryPosition:s,nodeInfo:{nodeIndex:s.offset,containerElement:s.node}};for(o=d.getDocument(r).createElement("span"),o.parentNode&&o.parentNode.removeChild(o),c=n?"StartToStart":"StartToEnd",y=a&&a.containerElement==r?a.nodeIndex:0,v=r.childNodes.length,b=v,w=b;w==v?r.appendChild(o):r.insertBefore(o,r.childNodes[w]),S.moveToElementText(o),0!=(l=S.compareEndPoints(c,e))&&y!=b;){if(-1==l){if(b==y+1)break;y=w}else b=b==y+1?y:w;w=Math.floor((y+b)/2),r.removeChild(o)}if(m=o.nextSibling,-1==l&&m&&g(m)){if(S.setEndPoint(n?"EndToStart":"EndToEnd",e),/[\r\n]/.test(m.data))for(x=S.duplicate(),_=x.text.replace(/\r\n/g,"\r").length,C=x.moveStart("character",_);-1==(l=x.compareEndPoints("StartToEnd",x));)C++,x.moveStart("character",1);else C=S.text.length;p=new h(m,C)}else u=(i||!n)&&o.previousSibling,f=(i||n)&&o.nextSibling,p=f&&g(f)?new h(f,0):u&&g(u)?new h(u,u.data.length):new h(r,d.getNodeIndex(o));return o.parentNode.removeChild(o),{boundaryPosition:p,nodeInfo:{nodeIndex:w,containerElement:r}}},o=function(e,t){var n,i,a,r,s=e.offset,o=d.getDocument(e.node),l=p(o).createTextRange(),c=g(e.node);return c?(n=e.node,i=n.parentNode):(r=e.node.childNodes,n=s<r.length?r[s]:null,i=e.node),a=o.createElement("span"),a.innerHTML="&#feff;",n?i.insertBefore(a,n):i.appendChild(a),l.moveToElementText(a),l.collapse(!t),i.removeChild(a),c&&l[t?"moveStart":"moveEnd"]("character",s),l},i=function(e){this.textRange=e,this.refresh()},i.prototype=new f(document),i.prototype.refresh=function(){var e,t,n,i=a(this.textRange);r(this.textRange)?t=e=s(this.textRange,i,!0,!0).boundaryPosition:(n=s(this.textRange,i,!0,!1),e=n.boundaryPosition,t=s(this.textRange,i,!1,!1,n.nodeInfo).boundaryPosition),this.setStart(e.node,e.offset),this.setEnd(t.node,t.offset)},i.prototype.getName=function(){return"WrappedTextRange"},f.copyComparisonConstants(i),l=function(e){var t,n,i;return e.collapsed?o(new h(e.startContainer,e.startOffset),!0):(t=o(new h(e.startContainer,e.startOffset),!0),n=o(new h(e.endContainer,e.endOffset),!1),i=p(f.getRangeDocument(e)).createTextRange(),i.setEndPoint("StartToStart",t),i.setEndPoint("EndToEnd",n),i)},i.rangeToTextRange=l,i.prototype.toTextRange=function(){return l(this)},e.WrappedTextRange=i,(!e.features.implementsDomRange||e.config.preferTextRange)&&(c=function(){return this}(),void 0===c.Range&&(c.Range=i),e.createNativeRange=function(e){return e=m(e,t,"createNativeRange"),p(e).createTextRange()},e.WrappedRange=i)),e.createRange=function(n){return n=m(n,t,"createRange"),new e.WrappedRange(e.createNativeRange(n))},e.createRangyRange=function(e){return e=m(e,t,"createRangyRange"),new f(e)},e.createIframeRange=function(n){return t.deprecationNotice("createIframeRange()","createRange(iframeEl)"),e.createRange(n)},e.createIframeRangyRange=function(n){return t.deprecationNotice("createIframeRangyRange()","createRangyRange(iframeEl)"),e.createRangyRange(n)},e.addShimListener(function(t){var n=t.document;void 0===n.createRange&&(n.createRange=function(){return e.createRange(n)}),n=t=null})}),I.createCoreModule("WrappedSelection",["DomRange","WrappedRange"],function(e,t){function n(e){return"string"==typeof e?/^backward(s)?$/i.test(e):!!e}function i(e,n){if(e){if(D.isWindow(e))return e;if(e instanceof y)return e.win;var i=D.getContentDocument(e,t,n);return D.getWindow(i)}return window}function a(e){return i(e,"getWinSelection").getSelection()}function r(e){return i(e,"getDocSelection").document.selection}function s(e){var t=!1;return e.anchorNode&&(t=1==D.comparePoints(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)),t}function o(e,t,n){var i=n?"end":"start",a=n?"start":"end";e.anchorNode=t[i+"Container"],e.anchorOffset=t[i+"Offset"],e.focusNode=t[a+"Container"],e.focusOffset=t[a+"Offset"]}function l(e){var t=e.nativeSelection;e.anchorNode=t.anchorNode,e.anchorOffset=t.anchorOffset,e.focusNode=t.focusNode,e.focusOffset=t.focusOffset}function c(e){e.anchorNode=e.focusNode=null,e.anchorOffset=e.focusOffset=0,e.rangeCount=0,e.isCollapsed=!0,e._ranges.length=0}function d(t){var n;return t instanceof A?(n=e.createNativeRange(t.getDocument()),n.setEnd(t.endContainer,t.endOffset),n.setStart(t.startContainer,t.startOffset)):t instanceof N?n=t.nativeRange:P.implementsDomRange&&t instanceof D.getWindow(t.startContainer).Range&&(n=t),n}function u(e){if(!e.length||1!=e[0].nodeType)return!1;for(var t=1,n=e.length;n>t;++t)if(!D.isAncestorOf(e[0],e[t]))return!1;return!0}function h(e){var n=e.getNodes();if(!u(n))throw t.createError("getSingleElementFromRange: range "+e.inspect()+" did not consist of a single element");return n[0]}function f(e){return!!e&&void 0!==e.text}function p(e,t){var n=new N(t);e._ranges=[n],o(e,n,!1),e.rangeCount=1,e.isCollapsed=n.collapsed}function m(t){var n,i,a,r;if(t._ranges.length=0,"None"==t.docSelection.type)c(t);else if(n=t.docSelection.createRange(),f(n))p(t,n);else{for(t.rangeCount=n.length,a=H(n.item(0)),r=0;r<t.rangeCount;++r)i=e.createRange(a),i.selectNode(n.item(r)),t._ranges.push(i);t.isCollapsed=1==t.rangeCount&&t._ranges[0].collapsed,o(t,t._ranges[t.rangeCount-1],!1)}}function g(e,n){var i,a,r=e.docSelection.createRange(),s=h(n),o=H(r.item(0)),l=$(o).createControlRange();for(i=0,a=r.length;a>i;++i)l.add(r.item(i));try{l.add(s)}catch(e){throw t.createError("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}l.select(),m(e)}function y(e,t,n){this.nativeSelection=e,this.docSelection=t,this._ranges=[],this.win=n,this.refresh()}function v(e){e.win=e.anchorNode=e.focusNode=e._ranges=null,e.rangeCount=e.anchorOffset=e.focusOffset=0,e.detached=!0}function b(e,t){for(var n,i,a=te.length;a--;)if(n=te[a],i=n.selection,"deleteAll"==t)v(i);else if(n.win==e)return"delete"==t?(te.splice(a,1),!0):i;return"deleteAll"==t&&(te.length=0),null}function w(e,n){var i,a,r,s=H(n[0].startContainer),o=$(s).createControlRange();for(i=0,r=n.length;r>i;++i){a=h(n[i]);try{o.add(a)}catch(e){throw t.createError("setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)")}}o.select(),m(e)}function C(e,t){if(e.win.document!=H(t))throw new M("WRONG_DOCUMENT_ERR")}function x(t){return function(n,i){var a;this.rangeCount?(a=this.getRangeAt(0),a["set"+(t?"Start":"End")](n,i)):(a=e.createRange(this.win.document),a.setStartAndEnd(n,i)),this.setSingleRange(a,this.isBackward())}}function _(e){var t,n,i=[],a=new R(e.anchorNode,e.anchorOffset),r=new R(e.focusNode,e.focusOffset),s="function"==typeof e.getName?e.getName():"Selection";if(void 0!==e.rangeCount)for(t=0,n=e.rangeCount;n>t;++t)i[t]=A.inspect(e.getRangeAt(t));return"["+s+"(Ranges: "+i.join(", ")+")(anchor: "+a.inspect()+", focus: "+r.inspect()+"]"}var S,k,D,T,E,A,N,M,R,I,O,P,L,H,$,B,j,F,Y,U,W,V,q,z,G,K,X,J,Z,Q,ee,te,ne,ie,ae,re,se,oe;if(e.config.checkSelectionRanges=!0,S="boolean",k="number",D=e.dom,T=e.util,E=T.isHostMethod,A=e.DomRange,N=e.WrappedRange,M=e.DOMException,R=D.DomPosition,P=e.features,L="Control",H=D.getDocument,$=D.getBody,B=A.rangesEqual,j=E(window,"getSelection"),F=T.isHostObject(document,"selection"),P.implementsWinGetSelection=j,P.implementsDocSelection=F,Y=F&&(!j||e.config.preferTextRange),Y?(I=r,e.isSelectionValid=function(e){var t=i(e,"isSelectionValid").document,n=t.selection;return"None"!=n.type||H(n.createRange().parentElement())==t}):j?(I=a,e.isSelectionValid=function(){return!0}):t.fail("Neither document.selection or window.getSelection() detected."),e.getNativeSelection=I,U=I(),W=e.createNativeRange(document),V=$(document),q=T.areHostProperties(U,["anchorNode","focusNode","anchorOffset","focusOffset"]),P.selectionHasAnchorAndFocus=q,z=E(U,"extend"),P.selectionHasExtend=z,G=typeof U.rangeCount==k,P.selectionHasRangeCount=G,K=!1,X=!0,J=z?function(t,n){var i=A.getRangeDocument(n),a=e.createRange(i);a.collapseToPoint(n.endContainer,n.endOffset),t.addRange(d(a)),t.extend(n.startContainer,n.startOffset)}:null,T.areHostMethods(U,["addRange","getRangeAt","removeAllRanges"])&&typeof U.rangeCount==k&&P.implementsDomRange&&function(){var t,n,i,a,r,o,l,c,d,u,h,f=window.getSelection();if(f){for(t=f.rangeCount,n=t>1,i=[],a=s(f),r=0;t>r;++r)i[r]=f.getRangeAt(r);for(o=$(document),l=o.appendChild(document.createElement("div")),l.contentEditable="false",c=l.appendChild(document.createTextNode("")),d=document.createRange(),d.setStart(c,1),d.collapse(!0),f.addRange(d),X=1==f.rangeCount,f.removeAllRanges(),n||(u=window.navigator.appVersion.match(/Chrome\/(.*?) /),u&&parseInt(u[1])>=36?K=!1:(h=d.cloneRange(),d.setStart(c,0),h.setEnd(c,3),h.setStart(c,2),f.addRange(d),f.addRange(h),K=2==f.rangeCount)),o.removeChild(l),f.removeAllRanges(),r=0;t>r;++r)0==r&&a?J?J(f,i[r]):(e.warn("Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend"),f.addRange(i[r])):f.addRange(i[r])}}(),P.selectionSupportsMultipleRanges=K,P.collapsedNonEditableSelectionsSupported=X,Z=!1,V&&E(V,"createControlRange")&&(Q=V.createControlRange(),T.areHostProperties(Q,["item","add"])&&(Z=!0)),P.implementsControlRange=Z,O=q?function(e){return e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset}:function(e){return!!e.rangeCount&&e.getRangeAt(e.rangeCount-1).collapsed},E(U,"getRangeAt")?ee=function(e,t){try{return e.getRangeAt(t)}catch(e){return null}}:q&&(ee=function(t){var n=H(t.anchorNode),i=e.createRange(n);return i.setStartAndEnd(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),i.collapsed!==this.isCollapsed&&i.setStartAndEnd(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset),i}),y.prototype=e.selectionPrototype,te=[],ne=function(e){var t,n,a;return e&&e instanceof y?(e.refresh(),e):(e=i(e,"getNativeSelection"),t=b(e),n=I(e),a=F?r(e):null,t?(t.nativeSelection=n,t.docSelection=a,t.refresh()):(t=new y(n,a,e),te.push({win:e,selection:t})),t)},e.getSelection=ne,e.getIframeSelection=function(n){return t.deprecationNotice("getIframeSelection()","getSelection(iframeEl)"),e.getSelection(D.getIframeWindow(n))},ie=y.prototype,!Y&&q&&T.areHostMethods(U,["removeAllRanges","addRange"]))ie.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),c(this)},ae=function(e,t){J(e.nativeSelection,t),e.refresh()},ie.addRange=G?function(t,i){var a,r;Z&&F&&this.docSelection.type==L?g(this,t):n(i)&&z?ae(this,t):(K?a=this.rangeCount:(this.removeAllRanges(),a=0),this.nativeSelection.addRange(d(t).cloneRange()),this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==a+1?(e.config.checkSelectionRanges&&(r=ee(this.nativeSelection,this.rangeCount-1))&&!B(r,t)&&(t=new N(r)),this._ranges[this.rangeCount-1]=t,o(this,t,oe(this.nativeSelection)),this.isCollapsed=O(this)):this.refresh())}:function(e,t){n(t)&&z?ae(this,e):(this.nativeSelection.addRange(d(e)),this.refresh())},ie.setRanges=function(e){if(Z&&F&&e.length>1)w(this,e);else{this.removeAllRanges();for(var t=0,n=e.length;n>t;++t)this.addRange(e[t])}};else{if(!(E(U,"empty")&&E(W,"select")&&Z&&Y))return t.fail("No means of selecting a Range or TextRange was found"),!1;ie.removeAllRanges=function(){var e,t,n;try{this.docSelection.empty(),"None"!=this.docSelection.type&&(this.anchorNode?e=H(this.anchorNode):this.docSelection.type==L&&(t=this.docSelection.createRange(),t.length&&(e=H(t.item(0)))),e&&(n=$(e).createTextRange(),n.select(),this.docSelection.empty()))}catch(e){}c(this)},ie.addRange=function(t){this.docSelection.type==L?g(this,t):(e.WrappedTextRange.rangeToTextRange(t).select(),this._ranges[0]=t,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,o(this,t,!1))},ie.setRanges=function(e){this.removeAllRanges();var t=e.length;t>1?w(this,e):t&&this.addRange(e[0])}}if(ie.getRangeAt=function(e){if(0>e||e>=this.rangeCount)throw new M("INDEX_SIZE_ERR");return this._ranges[e].cloneRange()},Y)re=function(t){var n;e.isSelectionValid(t.win)?n=t.docSelection.createRange():(n=$(t.win.document).createTextRange(),n.collapse(!0)),t.docSelection.type==L?m(t):f(n)?p(t,n):c(t)};else if(E(U,"getRangeAt")&&typeof U.rangeCount==k)re=function(t){if(Z&&F&&t.docSelection.type==L)m(t);else if(t._ranges.length=t.rangeCount=t.nativeSelection.rangeCount,t.rangeCount){for(var n=0,i=t.rangeCount;i>n;++n)t._ranges[n]=new e.WrappedRange(t.nativeSelection.getRangeAt(n));o(t,t._ranges[t.rangeCount-1],oe(t.nativeSelection)),t.isCollapsed=O(t)}else c(t)};else{if(!q||typeof U.isCollapsed!=S||typeof W.collapsed!=S||!P.implementsDomRange)return t.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;re=function(e){var t,n=e.nativeSelection;n.anchorNode?(t=ee(n,0),e._ranges=[t],e.rangeCount=1,l(e),e.isCollapsed=O(e)):c(e)}}ie.refresh=function(e){var t,n=e?this._ranges.slice(0):null,i=this.anchorNode,a=this.anchorOffset;if(re(this),e){if((t=n.length)!=this._ranges.length)return!0;if(this.anchorNode!=i||this.anchorOffset!=a)return!0;for(;t--;)if(!B(n[t],this._ranges[t]))return!0;return!1}},se=function(e,t){var n,i,a=e.getAllRanges();for(e.removeAllRanges(),n=0,i=a.length;i>n;++n)B(t,a[n])||e.addRange(a[n]);e.rangeCount||c(e)},ie.removeRange=Z&&F?function(e){var t,n,i,a,r,s,o,l;if(this.docSelection.type==L){for(t=this.docSelection.createRange(),n=h(e),i=H(t.item(0)),a=$(i).createControlRange(),s=!1,o=0,l=t.length;l>o;++o)r=t.item(o),r!==n||s?a.add(t.item(o)):s=!0;a.select(),m(this)}else se(this,e)}:function(e){se(this,e)},!Y&&q&&P.implementsDomRange?(oe=s,ie.isBackward=function(){return oe(this)}):oe=ie.isBackward=function(){return!1},ie.isBackwards=ie.isBackward,ie.toString=function(){var e,t,n=[];for(e=0,t=this.rangeCount;t>e;++e)n[e]=""+this._ranges[e];return n.join("")},ie.collapse=function(t,n){C(this,t);var i=e.createRange(t);i.collapseToPoint(t,n),this.setSingleRange(i),this.isCollapsed=!0},ie.collapseToStart=function(){if(!this.rangeCount)throw new M("INVALID_STATE_ERR");var e=this._ranges[0];this.collapse(e.startContainer,e.startOffset)},ie.collapseToEnd=function(){if(!this.rangeCount)throw new M("INVALID_STATE_ERR");var e=this._ranges[this.rangeCount-1];this.collapse(e.endContainer,e.endOffset)},ie.selectAllChildren=function(t){C(this,t);var n=e.createRange(t);n.selectNodeContents(t),this.setSingleRange(n)},ie.deleteFromDocument=function(){var e,t,n,i,a;if(Z&&F&&this.docSelection.type==L){for(e=this.docSelection.createRange();e.length;)t=e.item(0),e.remove(t),t.parentNode.removeChild(t);this.refresh()}else if(this.rangeCount&&(n=this.getAllRanges(),n.length)){for(this.removeAllRanges(),i=0,a=n.length;a>i;++i)n[i].deleteContents();this.addRange(n[a-1])}},ie.eachRange=function(e,t){for(var n=0,i=this._ranges.length;i>n;++n)if(e(this.getRangeAt(n)))return t},ie.getAllRanges=function(){var e=[];return this.eachRange(function(t){e.push(t)}),e},ie.setSingleRange=function(e,t){this.removeAllRanges(),this.addRange(e,t)},ie.callMethodOnEachRange=function(e,t){var n=[];return this.eachRange(function(i){n.push(i[e].apply(i,t))}),n},ie.setStart=x(!0),ie.setEnd=x(!1),e.rangePrototype.select=function(e){ne(this.getDocument()).setSingleRange(this,e)},ie.changeEachRange=function(e){var t=[],n=this.isBackward();this.eachRange(function(n){e(n),t.push(n)}),this.removeAllRanges(),n&&1==t.length?this.addRange(t[0],"backward"):this.setRanges(t)},ie.containsNode=function(e,t){return this.eachRange(function(n){return n.containsNode(e,t)},!0)||!1},ie.getBookmark=function(e){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange("getBookmark",[e])}},ie.moveToBookmark=function(t){var n,i,a,r=[];for(n=0;i=t.rangeBookmarks[n++];)a=e.createRange(this.win),a.moveToBookmark(i),r.push(a);t.backward?this.setSingleRange(r[0],"backward"):this.setRanges(r)},ie.toHtml=function(){var e=[];return this.eachRange(function(t){e.push(A.toHtml(t))}),e.join("")},P.implementsTextRange&&(ie.getNativeTextRange=function(){var n,i;if(n=this.docSelection){if(i=n.createRange(),f(i))return i;throw t.createError("getNativeTextRange: selection is a control selection")}if(this.rangeCount>0)return e.WrappedTextRange.rangeToTextRange(this.getRangeAt(0));throw t.createError("getNativeTextRange: selection contains no range")}),ie.getName=function(){return"WrappedSelection"},ie.inspect=function(){return _(this)},ie.detach=function(){b(this.win,"delete"),v(this)},y.detachAll=function(){b(null,"deleteAll")},y.inspect=_,y.isDirectionBackward=n,e.Selection=y,e.selectionPrototype=ie,e.addShimListener(function(e){void 0===e.getSelection&&(e.getSelection=function(){return ne(e)}),e=null})}),I)},this),function(e,t){"function"==typeof define&&define.amd?define(["rangy"],e):e(t.rangy)}(function(e){e.createModule("SaveRestore",["WrappedRange"],function(e,t){function n(e,t){return(t||document).getElementById(e)}function i(e,t){var n,i="selectionBoundary_"+ +new Date+"_"+(""+Math.random()).slice(2),a=p.getDocument(e.startContainer),r=e.cloneRange();return r.collapse(t),n=a.createElement("span"),n.id=i,n.style.lineHeight="0",n.style.display="none",n.className="rangySelectionBoundary",n.appendChild(a.createTextNode(m)),r.insertNode(n),n}function a(e,i,a,r){var s=n(a,e);s?(i[r?"setStartBefore":"setEndBefore"](s),s.parentNode.removeChild(s)):t.warn("Marker element has been removed. Cannot restore selection.")}function r(e,t){return t.compareBoundaryPoints(e.START_TO_START,e)}function s(t,n){var a,r,s=e.DomRange.getRangeDocument(t),o=""+t;return t.collapsed?(r=i(t,!1),{document:s,markerId:r.id,collapsed:!0}):(r=i(t,!1),a=i(t,!0),{document:s,startMarkerId:a.id,endMarkerId:r.id,collapsed:!1,backward:n,toString:function(){return"original text: '"+o+"', new text: '"+t+"'"}})}function o(i,r){var s,o,l,c=i.document;return void 0===r&&(r=!0),s=e.createRange(c),i.collapsed?(o=n(i.markerId,c),o?(o.style.display="inline",l=o.previousSibling,l&&3==l.nodeType?(o.parentNode.removeChild(o),s.collapseToPoint(l,l.length)):(s.collapseBefore(o),o.parentNode.removeChild(o))):t.warn("Marker element has been removed. Cannot restore selection.")):(a(c,s,i.startMarkerId,!0),a(c,s,i.endMarkerId,!1)),r&&s.normalizeBoundaries(),s}function l(t,i){var a,o,l,c,d=[];for(t=t.slice(0),t.sort(r),l=0,c=t.length;c>l;++l)d[l]=s(t[l],i);for(l=c-1;l>=0;--l)a=t[l],o=e.DomRange.getRangeDocument(a),a.collapsed?a.collapseAfter(n(d[l].markerId,o)):(a.setEndBefore(n(d[l].endMarkerId,o)),a.setStartAfter(n(d[l].startMarkerId,o)));return d}function c(n){var i,a,r,s;return e.isSelectionValid(n)?(i=e.getSelection(n),a=i.getAllRanges(),r=1==a.length&&i.isBackward(),s=l(a,r),r?i.setSingleRange(a[0],"backward"):i.setRanges(a),{win:n,rangeInfos:s,restored:!1}):(t.warn("Cannot save selection. This usually happens when the selection is collapsed and the selection document has lost focus."),null)}function d(e){var t,n=[],i=e.length;for(t=i-1;t>=0;t--)n[t]=o(e[t],!0);return n}function u(t,n){var i,a,r,s;t.restored||(i=t.rangeInfos,a=e.getSelection(t.win),r=d(i),s=i.length,1==s&&n&&e.features.selectionHasExtend&&i[0].backward?(a.removeAllRanges(),a.addRange(r[0],!0)):a.setRanges(r),t.restored=!0)}function h(e,t){var i=n(t,e);i&&i.parentNode.removeChild(i)}function f(e){var t,n,i,a=e.rangeInfos;for(t=0,n=a.length;n>t;++t)i=a[t],i.collapsed?h(e.doc,i.markerId):(h(e.doc,i.startMarkerId),h(e.doc,i.endMarkerId))}var p=e.dom,m="\ufeff";e.util.extend(e,{saveRange:s,restoreRange:o,saveRanges:l,restoreRanges:d,saveSelection:c,restoreSelection:u,removeMarkerElement:h,removeMarkers:f})})},this),Base=function(){},Base.extend=function(e,t){var n,i,a,r=Base.prototype.extend;return Base._prototyping=!0,n=new this,r.call(n,e),n.base=function(){},delete Base._prototyping,i=n.constructor,a=n.constructor=function(){if(!Base._prototyping)if(this._constructing||this.constructor==a)this._constructing=!0,i.apply(this,arguments),delete this._constructing;else if(null!=arguments[0])return(arguments[0].extend||r).call(arguments[0],n)},a.ancestor=this,a.extend=this.extend,a.forEach=this.forEach,a.implement=this.implement,a.prototype=n,a.toString=this.toString,a.valueOf=function(e){return"object"==e?a:i.valueOf()},r.call(a,t),"function"==typeof a.init&&a.init(),a},Base.prototype={extend:function(e,t){var n,i,a,r,s,o,l;if(arguments.length>1)n=this[e],!n||"function"!=typeof t||n.valueOf&&n.valueOf()==t.valueOf()||!/\bbase\b/.test(t)||(i=t.valueOf(),t=function(){var e,t=this.base||Base.prototype.base;return this.base=n,e=i.apply(this,arguments),this.base=t,e},t.valueOf=function(e){return"object"==e?t:i},t.toString=Base.toString),this[e]=t;else if(e){for(a=Base.prototype.extend,Base._prototyping||"function"==typeof this||(a=this.extend||a),r={toSource:null},s=["constructor","toString","valueOf"],o=Base._prototyping?0:1;l=s[o++];)e[l]!=r[l]&&a.call(this,l,e[l]);for(l in e)r[l]||a.call(this,l,e[l])}return this}},Base=Base.extend({constructor:function(){this.extend(arguments[0])}},{ancestor:Object,version:"1.1",forEach:function(e,t,n){for(var i in e)void 0===this.prototype[i]&&t.call(n,e[i],i,e)},implement:function(){for(var e=0;e<arguments.length;e++)"function"==typeof arguments[e]?arguments[e](this.prototype):this.prototype.extend(arguments[e]);return this},toString:function(){return this.valueOf()+""}}),wysihtml5.browser=function(){function e(e){return+(/ipad|iphone|ipod/.test(e)&&e.match(/ os (\d+).+? like mac os x/)||[void 0,0])[1]}function t(e){return+(e.match(/android (\d+)/)||[void 0,0])[1]}function n(e,t){var n,i=-1;return"Microsoft Internet Explorer"==navigator.appName?n=RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"):"Netscape"==navigator.appName&&(n=RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})")),n&&null!=n.exec(navigator.userAgent)&&(i=parseFloat(RegExp.$1)),-1!==i&&(!e||(t?"<"===t?i>e:">"===t?e>i:"<="===t?i>=e:">="===t?e>=i:void 0:e===i))}var i=navigator.userAgent,a=document.createElement("div"),r=-1!==i.indexOf("Gecko")&&-1===i.indexOf("KHTML"),s=-1!==i.indexOf("AppleWebKit/"),o=-1!==i.indexOf("Chrome/"),l=-1!==i.indexOf("Opera/");return{USER_AGENT:i,supported:function(){var n=this.USER_AGENT.toLowerCase(),i="contentEditable"in a,r=document.execCommand&&document.queryCommandSupported&&document.queryCommandState,s=document.querySelector&&document.querySelectorAll,o=this.isIos()&&e(n)<5||this.isAndroid()&&t(n)<4||-1!==n.indexOf("opera mobi")||-1!==n.indexOf("hpwos/");return i&&r&&s&&!o},isTouchDevice:function(){return this.supportsEvent("touchmove")},isIos:function(){return/ipad|iphone|ipod/i.test(this.USER_AGENT)},isAndroid:function(){return-1!==this.USER_AGENT.indexOf("Android")},supportsSandboxedIframes:function(){return n()},throwsMixedContentWarningWhenIframeSrcIsEmpty:function(){return!("querySelector"in document)},displaysCaretInEmptyContentEditableCorrectly:function(){return n()},hasCurrentStyleProperty:function(){return"currentStyle"in a},hasHistoryIssue:function(){return r&&"Mac"===navigator.platform.substr(0,3)},insertsLineBreaksOnReturn:function(){return r},supportsPlaceholderAttributeOn:function(e){return"placeholder"in e},supportsEvent:function(e){return"on"+e in a||function(){return a.setAttribute("on"+e,"return;"),"function"==typeof a["on"+e]}()},supportsEventsInIframeCorrectly:function(){return!l},supportsHTML5Tags:function(e){var t=e.createElement("div"),n="<article>foo</article>";return t.innerHTML=n,t.innerHTML.toLowerCase()===n},supportsCommand:function(){var e={formatBlock:n(10,"<="),insertUnorderedList:n(),insertOrderedList:n()},t={insertHTML:r};return function(n,i){if(!e[i]){try{return n.queryCommandSupported(i)}catch(e){}try{return n.queryCommandEnabled(i)}catch(e){return!!t[i]}}return!1}}(),doesAutoLinkingInContentEditable:function(){return n()},canDisableAutoLinking:function(){return this.supportsCommand(document,"AutoUrlDetect")},clearsContentEditableCorrectly:function(){return r||l||s},supportsGetAttributeCorrectly:function(){return"1"!=document.createElement("td").getAttribute("rowspan")},canSelectImagesInContentEditable:function(){return r||n()||l},autoScrollsToCaret:function(){return!s},autoClosesUnclosedTags:function(){var e,t,n=a.cloneNode(!1);return n.innerHTML="<p><div></div>",t=n.innerHTML.toLowerCase(),e="<p></p><div></div>"===t||"<p><div></div></p>"===t,this.autoClosesUnclosedTags=function(){return e},e},supportsNativeGetElementsByClassName:function(){return-1!==(document.getElementsByClassName+"").indexOf("[native code]")},supportsSelectionModify:function(){return"getSelection"in window&&"modify"in window.getSelection()},needsSpaceAfterLineBreak:function(){return l},supportsSpeechApiOn:function(e){return(i.match(/Chrome\/(\d+)/)||[void 0,0])[1]>=11&&("onwebkitspeechchange"in e||"speech"in e)},crashesWhenDefineProperty:function(e){return n(9)&&("XMLHttpRequest"===e||"XDomainRequest"===e)},doesAsyncFocus:function(){return n()},hasProblemsSettingCaretAfterImg:function(){return n()},hasUndoInContextMenu:function(){return r||o||l},hasInsertNodeIssue:function(){return l},hasIframeFocusIssue:function(){return n()},createsNestedInvalidMarkupAfterPaste:function(){return s},supportsMutationEvents:function(){return"MutationEvent"in window},supportsModenPaste:function(){return!("clipboardData"in window)}}}(),wysihtml5.lang.array=function(e){return{contains:function(t){if(Array.isArray(t)){for(var n=t.length;n--;)if(-1!==wysihtml5.lang.array(e).indexOf(t[n]))return!0;return!1}return-1!==wysihtml5.lang.array(e).indexOf(t)},indexOf:function(t){if(e.indexOf)return e.indexOf(t);for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1},without:function(t){t=wysihtml5.lang.array(t);for(var n=[],i=0,a=e.length;a>i;i++)t.contains(e[i])||n.push(e[i]);return n},get:function(){for(var t=0,n=e.length,i=[];n>t;t++)i.push(e[t]);return i},map:function(t,n){if(Array.prototype.map)return e.map(t,n);for(var i=e.length>>>0,a=Array(i),r=0;i>r;r++)a[r]=t.call(n,e[r],r,e);return a},unique:function(){for(var t=[],n=e.length,i=0;n>i;)wysihtml5.lang.array(t).contains(e[i])||t.push(e[i]),i++;return t}}},wysihtml5.lang.Dispatcher=Base.extend({on:function(e,t){return this.events=this.events||{},this.events[e]=this.events[e]||[],this.events[e].push(t),this},off:function(e,t){this.events=this.events||{};var n,i,a=0;if(e){for(n=this.events[e]||[],i=[];a<n.length;a++)n[a]!==t&&t&&i.push(n[a]);this.events[e]=i}else this.events={};return this},fire:function(e,t){this.events=this.events||{};for(var n=this.events[e]||[],i=0;i<n.length;i++)n[i].call(this,t);return this},observe:function(){return this.on.apply(this,arguments)},stopObserving:function(){return this.off.apply(this,arguments)}}),wysihtml5.lang.object=function(e){return{merge:function(t){for(var n in t)e[n]=t[n];return this},get:function(){return e},clone:function(t){var n,i={};if(null===e||!wysihtml5.lang.object(e).isPlainObject())return e;for(n in e)e.hasOwnProperty(n)&&(i[n]=t?wysihtml5.lang.object(e[n]).clone(t):e[n]);return i},isArray:function(){return"[object Array]"===Object.prototype.toString.call(e)},isFunction:function(){return"[object Function]"===Object.prototype.toString.call(e)},isPlainObject:function(){return"[object Object]"===Object.prototype.toString.call(e)}}},function(){var e=/^\s+/,t=/\s+$/,n=/[&<>\t"]/g,i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","\t":"&nbsp; "};wysihtml5.lang.string=function(a){return a+="",{trim:function(){return a.replace(e,"").replace(t,"")},interpolate:function(e){for(var t in e)a=this.replace("#{"+t+"}").by(e[t]);return a},replace:function(e){return{by:function(t){return a.split(e).join(t)}}},escapeHTML:function(e,t){var r=a.replace(n,function(e){return i[e]});return e&&(r=r.replace(/(?:\r\n|\r|\n)/g,"<br />")),t&&(r=r.replace(/  /gi,"&nbsp; ")),r}}}}(),function(e){function t(e,t){return r(e,t)?e:(e===e.ownerDocument.documentElement&&(e=e.ownerDocument.body),s(e,t))}function n(e){return e.replace(l,function(e,t){var n,i,a=(t.match(c)||[])[1]||"",r=u[a];return t=t.replace(c,""),t.split(r).length>t.split(a).length&&(t+=a,a=""),n=t,i=t,t.length>d&&(i=i.substr(0,d)+"..."),"www."===n.substr(0,4)&&(n="http://"+n),'<a href="'+n+'">'+i+"</a>"+a})}function i(e){var t=e._wysihtml5_tempElement;return t||(t=e._wysihtml5_tempElement=e.createElement("div")),t}function a(t){var a=t.parentNode,r=e.lang.string(t.data).escapeHTML(),s=i(a.ownerDocument);for(s.innerHTML="<span></span>"+n(r),s.removeChild(s.firstChild);s.firstChild;)a.insertBefore(s.firstChild,t);a.removeChild(t)}function r(t,n){for(var i;t.parentNode;){if(t=t.parentNode,i=t.nodeName,t.className&&e.lang.array(t.className.split(" ")).contains(n))return!0;if(o.contains(i))return!0;if("body"===i)return!1}return!1}function s(t,n){
if(!(o.contains(t.nodeName)||t.className&&e.lang.array(t.className.split(" ")).contains(n))){if(t.nodeType===e.TEXT_NODE&&t.data.match(l))return void a(t);for(var i=e.lang.array(t.childNodes).get(),r=i.length,c=0;r>c;c++)s(i[c],n);return t}}var o=e.lang.array(["CODE","PRE","A","SCRIPT","HEAD","TITLE","STYLE"]),l=/((https?:\/\/|www\.)[^\s<]{3,})/gi,c=/([^\w\/\-](,?))$/i,d=100,u={")":"(","]":"[","}":"{"};e.dom.autoLink=t,e.dom.autoLink.URL_REG_EXP=l}(wysihtml5),function(e){var t=e.dom;t.addClass=function(e,n){var i=e.classList;return i?i.add(n):void(t.hasClass(e,n)||(e.className+=" "+n))},t.removeClass=function(e,t){var n=e.classList;return n?n.remove(t):void(e.className=e.className.replace(RegExp("(^|\\s+)"+t+"(\\s+|$)")," "))},t.hasClass=function(e,t){var n,i=e.classList;return i?i.contains(t):(n=e.className,n.length>0&&(n==t||RegExp("(^|\\s)"+t+"(\\s|$)").test(n)))}}(wysihtml5),wysihtml5.dom.contains=function(){var e=document.documentElement;return e.contains?function(e,t){return t.nodeType!==wysihtml5.ELEMENT_NODE&&(t=t.parentNode),e!==t&&e.contains(t)}:e.compareDocumentPosition?function(e,t){return!!(16&e.compareDocumentPosition(t))}:void 0}(),wysihtml5.dom.convertToList=function(){function e(e,t){var n=e.createElement("li");return t.appendChild(n),n}function t(e,t){return e.createElement(t)}function n(n,i,a){if("UL"===n.nodeName||"OL"===n.nodeName||"MENU"===n.nodeName)return n;var r,s,o,l,c,d,u,h,f,p=n.ownerDocument,m=t(p,i),g=n.querySelectorAll("br"),y=g.length;for(f=0;y>f;f++)for(l=g[f];(c=l.parentNode)&&c!==n&&c.lastChild===l;){if("block"===wysihtml5.dom.getStyle("display").from(c)){c.removeChild(l);break}wysihtml5.dom.insert(l).after(l.parentNode)}for(r=wysihtml5.lang.array(n.childNodes).get(),s=r.length,f=0;s>f;f++)h=h||e(p,m),o=r[f],d="block"===wysihtml5.dom.getStyle("display").from(o),u="BR"===o.nodeName,!d||a&&wysihtml5.dom.hasClass(o,a)?u?h=h.firstChild?null:h:h.appendChild(o):(h=h.firstChild?e(p,m):h,h.appendChild(o),h=null);return 0===r.length&&e(p,m),n.parentNode.replaceChild(m,n),m}return n}(),wysihtml5.dom.copyAttributes=function(e){return{from:function(t){return{to:function(n){for(var i,a=0,r=e.length;r>a;a++)i=e[a],void 0!==t[i]&&""!==t[i]&&(n[i]=t[i]);return{andTo:arguments.callee}}}}}},function(e){var t=["-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing"],n=function(t){return!!i(t)&&parseInt(e.getStyle("width").from(t),10)<t.offsetWidth},i=function(n){for(var i=0,a=t.length;a>i;i++)if("border-box"===e.getStyle(t[i]).from(n))return t[i]};e.copyStyles=function(i){return{from:function(a){n(a)&&(i=wysihtml5.lang.array(i).without(t));for(var r,s="",o=i.length,l=0;o>l;l++)r=i[l],s+=r+":"+e.getStyle(r).from(a)+";";return{to:function(t){return e.setStyles(s).on(t),{andTo:arguments.callee}}}}}}}(wysihtml5.dom),function(e){e.dom.delegate=function(t,n,i,a){return e.dom.observe(t,i,function(i){for(var r=i.target,s=e.lang.array(t.querySelectorAll(n));r&&r!==t;){if(s.contains(r)){a.call(r,i);break}r=r.parentNode}})}}(wysihtml5),function(e){e.dom.domNode=function(t){var n=[e.ELEMENT_NODE,e.TEXT_NODE],i=function(t){return t.nodeType===e.TEXT_NODE&&/^\s*$/g.test(t.data)};return{prev:function(a){var r=t.previousSibling,s=a&&a.nodeTypes?a.nodeTypes:n;return r?!e.lang.array(s).contains(r.nodeType)||a&&a.ignoreBlankTexts&&i(r)?e.dom.domNode(r).prev(a):r:null},next:function(a){var r=t.nextSibling,s=a&&a.nodeTypes?a.nodeTypes:n;return r?!e.lang.array(s).contains(r.nodeType)||a&&a.ignoreBlankTexts&&i(r)?e.dom.domNode(r).next(a):r:null}}}}(wysihtml5),wysihtml5.dom.getAsDom=function(){var e=function(e,t){var n=t.createElement("div");n.style.display="none",t.body.appendChild(n);try{n.innerHTML=e}catch(e){}return t.body.removeChild(n),n},t=function(e){if(!e._wysihtml5_supportsHTML5Tags){for(var t=0,i=n.length;i>t;t++)e.createElement(n[t]);e._wysihtml5_supportsHTML5Tags=!0}},n=["abbr","article","aside","audio","bdi","canvas","command","datalist","details","figcaption","figure","footer","header","hgroup","keygen","mark","meter","nav","output","progress","rp","rt","ruby","svg","section","source","summary","time","track","video","wbr"];return function(n,i){i=i||document;var a;return"object"==typeof n&&n.nodeType?(a=i.createElement("div"),a.appendChild(n)):wysihtml5.browser.supportsHTML5Tags(i)?(a=i.createElement("div"),a.innerHTML=n):(t(i),a=e(n,i)),a}}(),wysihtml5.dom.getParentElement=function(){function e(e,t){return!t||!t.length||("string"==typeof t?e===t:wysihtml5.lang.array(t).contains(e))}function t(e){return e.nodeType===wysihtml5.ELEMENT_NODE}function n(e,t,n){var i=(e.className||"").match(n)||[];return t?i[i.length-1]===t:!!i.length}function i(e,t,n){var i=(e.getAttribute("style")||"").match(n)||[];return t?i[i.length-1]===t:!!i.length}return function(a,r,s,o){var l=r.cssStyle||r.styleRegExp,c=r.className||r.classRegExp;for(s=s||50;s--&&a&&"BODY"!==a.nodeName&&(!o||a!==o);){if(t(a)&&e(a.nodeName,r.nodeName)&&(!l||i(a,r.cssStyle,r.styleRegExp))&&(!c||n(a,r.className,r.classRegExp)))return a;a=a.parentNode}return null}}(),wysihtml5.dom.getStyle=function(){function e(e){return e.replace(n,function(e){return e.charAt(1).toUpperCase()})}var t={float:"styleFloat"in document.createElement("div").style?"styleFloat":"cssFloat"},n=/\-[a-z]/g;return function(n){return{from:function(i){var a,r,s,o,l,c,d,u,h;if(i.nodeType===wysihtml5.ELEMENT_NODE){if(a=i.ownerDocument,r=t[n]||e(n),s=i.style,o=i.currentStyle,l=s[r])return l;if(o)try{return o[r]}catch(e){}return c=a.defaultView||a.parentWindow,d=("height"===n||"width"===n)&&"TEXTAREA"===i.nodeName,c.getComputedStyle?(d&&(u=s.overflow,s.overflow="hidden"),h=c.getComputedStyle(i,null).getPropertyValue(n),d&&(s.overflow=u||""),h):void 0}}}}}(),wysihtml5.dom.getTextNodes=function(e,t){var n=[];for(e=e.firstChild;e;e=e.nextSibling)3==e.nodeType?t&&/^\s*$/.test(e.innerText||e.textContent)||n.push(e):n=n.concat(wysihtml5.dom.getTextNodes(e,t));return n},wysihtml5.dom.hasElementWithTagName=function(){function e(e){return e._wysihtml5_identifier||(e._wysihtml5_identifier=n++)}var t={},n=1;return function(n,i){var a=e(n)+":"+i,r=t[a];return r||(r=t[a]=n.getElementsByTagName(i)),r.length>0}}(),function(e){function t(e){return e._wysihtml5_identifier||(e._wysihtml5_identifier=i++)}var n={},i=1;e.dom.hasElementWithClassName=function(i,a){if(!e.browser.supportsNativeGetElementsByClassName())return!!i.querySelector("."+a);var r=t(i)+":"+a,s=n[r];return s||(s=n[r]=i.getElementsByClassName(a)),s.length>0}}(wysihtml5),wysihtml5.dom.insert=function(e){return{after:function(t){t.parentNode.insertBefore(e,t.nextSibling)},before:function(t){t.parentNode.insertBefore(e,t)},into:function(t){t.appendChild(e)}}},wysihtml5.dom.insertCSS=function(e){return e=e.join("\n"),{into:function(t){var n,i,a=t.createElement("style");return a.type="text/css",a.styleSheet?a.styleSheet.cssText=e:a.appendChild(t.createTextNode(e)),n=t.querySelector("head link"),n?void n.parentNode.insertBefore(a,n):void((i=t.querySelector("head"))&&i.appendChild(a))}}},function(e){e.dom.lineBreaks=function(t){function n(e){return"BR"===e.nodeName}function i(t){return!!n(t)||"block"===e.dom.getStyle("display").from(t)}return{add:function(){var n=t.ownerDocument,a=e.dom.domNode(t).next({ignoreBlankTexts:!0}),r=e.dom.domNode(t).prev({ignoreBlankTexts:!0});a&&!i(a)&&e.dom.insert(n.createElement("br")).after(t),r&&!i(r)&&e.dom.insert(n.createElement("br")).before(t)},remove:function(){var i=e.dom.domNode(t).next({ignoreBlankTexts:!0}),a=e.dom.domNode(t).prev({ignoreBlankTexts:!0});i&&n(i)&&i.parentNode.removeChild(i),a&&n(a)&&a.parentNode.removeChild(a)}}}}(wysihtml5),wysihtml5.dom.observe=function(e,t,n){t="string"==typeof t?[t]:t;for(var i,a,r=0,s=t.length;s>r;r++)a=t[r],e.addEventListener?e.addEventListener(a,n,!1):(i=function(t){"target"in t||(t.target=t.srcElement),t.preventDefault=t.preventDefault||function(){this.returnValue=!1},t.stopPropagation=t.stopPropagation||function(){this.cancelBubble=!0},n.call(e,t)},e.attachEvent("on"+a,i));return{stop:function(){for(var a,r=0,s=t.length;s>r;r++)a=t[r],e.removeEventListener?e.removeEventListener(a,n,!1):e.detachEvent("on"+a,i)}}},wysihtml5.dom.parse=function(e,t){function n(e,t,i,a){var r,s,o,l=e.nodeType,c=e.childNodes,d=c.length,u=p[l],h=0;if(a&&1===l&&wysihtml5.dom.hasClass(e,a))return e;if(!(s=u&&u(e,i))){if(!1===s){for(r=e.ownerDocument.createDocumentFragment(),h=d;h--;)c[h]&&(o=n(c[h],t,i,a))&&(c[h]===o&&h--,r.insertBefore(o,r.firstChild));return"block"===wysihtml5.dom.getStyle("display").from(e)&&r.appendChild(e.ownerDocument.createElement("br")),wysihtml5.lang.array(["div","pre","p","table","td","th","ul","ol","li","dd","dl","footer","header","section","h1","h2","h3","h4","h5","h6"]).contains(e.nodeName.toLowerCase())&&e.parentNode.lastChild!==e&&(e.nextSibling&&3===e.nextSibling.nodeType&&/^\s/.test(e.nextSibling.nodeValue)||r.appendChild(e.ownerDocument.createTextNode(" "))),r.normalize&&r.normalize(),r}return null}for(h=0;d>h;h++)c[h]&&(o=n(c[h],t,i,a))&&(c[h]===o&&h--,s.appendChild(o));if(t&&s.nodeName.toLowerCase()===m&&(!s.childNodes.length||/^\s*$/gi.test(s.innerHTML)&&(i||"_wysihtml5-temp-placeholder"!==e.className&&"rangySelectionBoundary"!==e.className)||!s.attributes.length)){for(r=s.ownerDocument.createDocumentFragment();s.firstChild;)r.appendChild(s.firstChild);return r.normalize&&r.normalize(),r}return s.normalize&&s.normalize(),s}function i(e,t){var n,i,a,r;for(n in t)if(t.hasOwnProperty(n))for(wysihtml5.lang.object(t[n]).isFunction()?i=t[n]:"string"==typeof t[n]&&S[t[n]]&&(i=S[t[n]]),a=e.querySelectorAll(n),r=a.length;r--;)i(a[r])}function a(e,t){var n,i,a,s=v.tags,l=e.nodeName.toLowerCase(),c=e.scopeName;if(e._wysihtml5)return null;if(e._wysihtml5=1,"wysihtml5-temp"===e.className)return null;if(c&&"HTML"!=c&&(l=c+":"+l),"outerHTML"in e&&(wysihtml5.browser.autoClosesUnclosedTags()||"P"!==e.nodeName||"</p>"===e.outerHTML.slice(-4).toLowerCase()||(l="div")),l in s){if(!(n=s[l])||n.remove)return null;if(n.unwrap)return!1;n="string"==typeof n?{rename_tag:n}:n}else{if(!e.firstChild)return null;n={rename_tag:m}}if(n.one_of_type&&!r(e,v,n.one_of_type,t)){if(!n.remove_action)return null;if("unwrap"===n.remove_action)return!1;if("rename"!==n.remove_action)return null;a=n.remove_action_rename_to||m}return i=e.ownerDocument.createElement(a||n.rename_tag||l),u(e,i,n,t),o(e,i,n),e=null,i.normalize&&i.normalize(),i}function r(e,t,n,i){var a,r;if("SPAN"===e.nodeName&&!i&&("_wysihtml5-temp-placeholder"===e.className||"rangySelectionBoundary"===e.className))return!0;for(r in n)if(n.hasOwnProperty(r)&&t.type_definitions&&t.type_definitions[r]&&(a=t.type_definitions[r],s(e,a)))return!0;return!1}function s(e,t){var n,i,a,r,s,o,l,c,d=e.getAttribute("class"),u=e.getAttribute("style");if(t.methods)for(o in t.methods)if(t.methods.hasOwnProperty(o)&&_[o]&&_[o](e))return!0;if(d&&t.classes)for(d=d.replace(/^\s+/g,"").replace(/\s+$/g,"").split(g),n=d.length,l=0;n>l;l++)if(t.classes[d[l]])return!0;if(u&&t.styles){u=u.split(";");for(i in t.styles)if(t.styles.hasOwnProperty(i))for(c=u.length;c--;)if(s=u[c].split(":"),s[0].replace(/\s/g,"").toLowerCase()===i&&(!0===t.styles[i]||1===t.styles[i]||wysihtml5.lang.array(t.styles[i]).contains(s[1].replace(/\s/g,"").toLowerCase())))return!0}if(t.attrs)for(a in t.attrs)if(t.attrs.hasOwnProperty(a)&&"string"==typeof(r=wysihtml5.dom.getAttribute(e,a))&&r.search(t.attrs[a])>-1)return!0;return!1}function o(e,t,n){var i,a;if(n&&n.keep_styles)for(i in n.keep_styles)if(n.keep_styles.hasOwnProperty(i)){if(a="float"===i?e.style.styleFloat||e.style.cssFloat:e.style[i],n.keep_styles[i]instanceof RegExp&&!n.keep_styles[i].test(a))continue;"float"===i?t.style[e.style.styleFloat?"styleFloat":"cssFloat"]=a:e.style[i]&&(t.style[i]=a)}}function l(e,t){var n,i=[];for(n in t)t.hasOwnProperty(n)&&0===n.indexOf(e)&&i.push(n);return i}function c(e,t,n,i){var a,r=w[n];return!(!r||!(t||"alt"===e&&"IMG"==i)||"string"!=typeof(a=r(t)))&&a}function d(e,t){var n,i,a,r,s,o=wysihtml5.lang.object(v.attributes||{}).clone(),d=wysihtml5.lang.object(o).merge(wysihtml5.lang.object(t||{}).clone()).get(),u={},h=wysihtml5.dom.getAttributes(e);for(n in d)if(/\*$/.test(n))for(a=l(n.slice(0,-1),h),r=0,s=a.length;s>r;r++)!1!==(i=c(a[r],h[a[r]],d[n],e.nodeName))&&(u[a[r]]=i);else!1!==(i=c(n,h[n],d[n],e.nodeName))&&(u[n]=i);return u}function u(e,t,n,i){var a,r,s,o,l,c={},u=n.set_class,h=n.add_class,f=n.add_style,p=n.set_attributes,m=v.classes,y=0,b=[],w=[],_=[],S=[];if(p&&(c=wysihtml5.lang.object(p).clone()),c=wysihtml5.lang.object(c).merge(d(e,n.check_attributes)).get(),u&&b.push(u),h)for(o in h)(l=x[h[o]])&&"string"==typeof(s=l(wysihtml5.dom.getAttribute(e,o)))&&b.push(s);if(f)for(o in f)(l=C[f[o]])&&(newStyle=l(wysihtml5.dom.getAttribute(e,o)),"string"==typeof newStyle&&w.push(newStyle));if("string"==typeof m&&"any"===m&&e.getAttribute("class"))if(v.classes_blacklist){for(S=e.getAttribute("class"),S&&(b=b.concat(S.split(g))),a=b.length;a>y;y++)r=b[y],v.classes_blacklist[r]||_.push(r);_.length&&(c.class=wysihtml5.lang.array(_).unique().join(" "))}else c.class=e.getAttribute("class");else{for(i||(m["_wysihtml5-temp-placeholder"]=1,m._rangySelectionBoundary=1,m["wysiwyg-tmp-selected-cell"]=1),S=e.getAttribute("class"),S&&(b=b.concat(S.split(g))),a=b.length;a>y;y++)r=b[y],m[r]&&_.push(r);_.length&&(c.class=wysihtml5.lang.array(_).unique().join(" "))}c.class&&i&&(c.class=c.class.replace("wysiwyg-tmp-selected-cell",""),/^\s*$/g.test(c.class)&&delete c.class),w.length&&(c.style=wysihtml5.lang.array(w).unique().join(" "));for(o in c)try{t.setAttribute(o,c[o])}catch(e){}c.src&&(void 0!==c.width&&t.setAttribute("width",c.width),void 0!==c.height&&t.setAttribute("height",c.height))}function h(e){var t,n=e.nextSibling;return n&&n.nodeType===wysihtml5.TEXT_NODE?void(n.data=e.data.replace(b,"")+n.data.replace(b,"")):(t=e.data.replace(b,""),e.ownerDocument.createTextNode(t))}function f(e){return v.comments?e.ownerDocument.createComment(e.nodeValue):void 0}var p={1:a,3:h,8:f},m="span",g=/\s+/,y={tags:{},classes:{}},v={},b=/\uFEFF/g,w={url:function(){var e=/^https?:\/\//i;return function(t){return t&&t.match(e)?t.replace(e,function(e){return e.toLowerCase()}):null}}(),src:function(){var e=/^(\/|https?:\/\/)/i;return function(t){return t&&t.match(e)?t.replace(e,function(e){return e.toLowerCase()}):null}}(),href:function(){var e=/^(#|\/|https?:\/\/|mailto:)/i;return function(t){return t&&t.match(e)?t.replace(e,function(e){return e.toLowerCase()}):null}}(),alt:function(){var e=/[^ a-z0-9_\-]/gi;return function(t){return t?t.replace(e,""):""}}(),numbers:function(){var e=/\D/g;return function(t){return(t=(t||"").replace(e,""))||null}}(),any:function(){return function(e){return e}}()},C={align_text:function(){var e={left:"text-align: left;",right:"text-align: right;",center:"text-align: center;"};return function(t){return e[(t+"").toLowerCase()]}}()},x={align_img:function(){var e={left:"wysiwyg-float-left",right:"wysiwyg-float-right"};return function(t){return e[(t+"").toLowerCase()]}}(),align_text:function(){var e={left:"wysiwyg-text-align-left",right:"wysiwyg-text-align-right",center:"wysiwyg-text-align-center",justify:"wysiwyg-text-align-justify"};return function(t){return e[(t+"").toLowerCase()]}}(),clear_br:function(){var e={left:"wysiwyg-clear-left",right:"wysiwyg-clear-right",both:"wysiwyg-clear-both",all:"wysiwyg-clear-both"};return function(t){return e[(t+"").toLowerCase()]}}(),size_font:function(){var e={1:"wysiwyg-font-size-xx-small",2:"wysiwyg-font-size-small",3:"wysiwyg-font-size-medium",4:"wysiwyg-font-size-large",5:"wysiwyg-font-size-x-large",6:"wysiwyg-font-size-xx-large",7:"wysiwyg-font-size-xx-large","-":"wysiwyg-font-size-smaller","+":"wysiwyg-font-size-larger"};return function(t){return e[(t+"").charAt(0)]}}()},_={has_visible_contet:function(){var e,t=["img","video","picture","br","script","noscript","style","table","iframe","object","embed","audio","svg","input","button","select","textarea","canvas"];return function(n){if((e=(n.innerText||n.textContent).replace(/\s/g,""))&&e.length>0)return!0;for(var i=t.length;i--;)if(n.querySelector(t[i]))return!0;return!!(n.offsetWidth&&n.offsetWidth>0&&n.offsetHeight&&n.offsetHeight>0)}}()},S={unwrap:function(e){wysihtml5.dom.unwrap(e)},remove:function(e){e.parentNode.removeChild(e)}};return function(e,t){var a,r,s,o,l,c,d,u,h;for(wysihtml5.lang.object(v).merge(y).merge(t.rules).get(),a=t.context||e.ownerDocument||document,r=a.createDocumentFragment(),s="string"==typeof e,o=!1,!0===t.clearInternals&&(o=!0),l=s?wysihtml5.dom.getAsDom(e,a):e,v.selectors&&i(l,v.selectors);l.firstChild;)d=l.firstChild,c=n(d,t.cleanUp,o,t.uneditableClass),c&&r.appendChild(c),d!==c&&l.removeChild(d);if(t.unjoinNbsps)for(u=wysihtml5.dom.getTextNodes(r),h=u.length;h--;)u[h].nodeValue=u[h].nodeValue.replace(/([\S\u00A0])\u00A0/gi,"$1 ");return l.innerHTML="",l.appendChild(r),s?wysihtml5.quirks.getCorrectInnerHTML(l):l}(e,t)},wysihtml5.dom.removeEmptyTextNodes=function(e){for(var t,n=wysihtml5.lang.array(e.childNodes).get(),i=n.length,a=0;i>a;a++)t=n[a],t.nodeType===wysihtml5.TEXT_NODE&&""===t.data&&t.parentNode.removeChild(t)},wysihtml5.dom.renameElement=function(e,t){for(var n,i=e.ownerDocument.createElement(t);n=e.firstChild;)i.appendChild(n);return wysihtml5.dom.copyAttributes(["align","className"]).from(e).to(i),e.parentNode.replaceChild(i,e),i},wysihtml5.dom.replaceWithChildNodes=function(e){if(e.parentNode){if(!e.firstChild)return void e.parentNode.removeChild(e);for(var t=e.ownerDocument.createDocumentFragment();e.firstChild;)t.appendChild(e.firstChild);e.parentNode.replaceChild(t,e),e=t=null}},function(e){function t(t){return"block"===e.getStyle("display").from(t)}function n(e){return"BR"===e.nodeName}function i(e){var t=e.ownerDocument.createElement("br");e.appendChild(t)}function a(e,a){if(e.nodeName.match(/^(MENU|UL|OL)$/)){var r,s,o,l,c,d,u=e.ownerDocument,h=u.createDocumentFragment(),f=wysihtml5.dom.domNode(e).prev({ignoreBlankTexts:!0});if(a)for(!f||t(f)||n(f)||i(h);d=e.firstElementChild||e.firstChild;){for(s=d.lastChild;r=d.firstChild;)o=r===s,l=o&&!t(r)&&!n(r),h.appendChild(r),l&&i(h);d.parentNode.removeChild(d)}else for(;d=e.firstElementChild||e.firstChild;){if(d.querySelector&&d.querySelector("div, p, ul, ol, menu, blockquote, h1, h2, h3, h4, h5, h6"))for(;r=d.firstChild;)h.appendChild(r);else{for(c=u.createElement("p");r=d.firstChild;)c.appendChild(r);h.appendChild(c)}d.parentNode.removeChild(d)}e.parentNode.replaceChild(h,e)}}e.resolveList=a}(wysihtml5.dom),function(e){var t=document,n=["parent","top","opener","frameElement","frames","localStorage","globalStorage","sessionStorage","indexedDB"],i=["open","close","openDialog","showModalDialog","alert","confirm","prompt","openDatabase","postMessage","XMLHttpRequest","XDomainRequest"],a=["referrer","write","open","close"];e.dom.Sandbox=Base.extend({constructor:function(t,n){this.callback=t||e.EMPTY_FUNCTION,this.config=e.lang.object({}).merge(n).get(),this.editableArea=this._createIframe()},insertInto:function(e){"string"==typeof e&&(e=t.getElementById(e)),e.appendChild(this.editableArea)},getIframe:function(){return this.editableArea},getWindow:function(){this._readyError()},getDocument:function(){this._readyError()},destroy:function(){var e=this.getIframe();e.parentNode.removeChild(e)},_readyError:function(){throw Error("wysihtml5.Sandbox: Sandbox iframe isn't loaded yet")},_createIframe:function(){var n=this,i=t.createElement("iframe");return i.className="wysihtml5-sandbox",e.dom.setAttributes({security:"restricted",allowtransparency:"true",frameborder:0,width:0,height:0,marginwidth:0,marginheight:0}).on(i),e.browser.throwsMixedContentWarningWhenIframeSrcIsEmpty()&&(i.src="javascript:'<html></html>'"),i.onload=function(){i.onreadystatechange=i.onload=null,n._onLoadIframe(i)},i.onreadystatechange=function(){/loaded|complete/.test(i.readyState)&&(i.onreadystatechange=i.onload=null,n._onLoadIframe(i))},i},_onLoadIframe:function(r){var s,o,l,c,d,u,h;if(e.dom.contains(t.documentElement,r)){if(s=this,o=r.contentWindow,l=r.contentWindow.document,c=t.characterSet||t.charset||"utf-8",d=this._getHtml({charset:c,stylesheets:this.config.stylesheets}),l.open("text/html","replace"),l.write(d),l.close(),this.getWindow=function(){return r.contentWindow},this.getDocument=function(){return r.contentWindow.document},o.onerror=function(e,t,n){throw Error("wysihtml5.Sandbox: "+e,t,n)},!e.browser.supportsSandboxedIframes()){for(u=0,h=n.length;h>u;u++)this._unset(o,n[u]);for(u=0,h=i.length;h>u;u++)this._unset(o,i[u],e.EMPTY_FUNCTION);for(u=0,h=a.length;h>u;u++)this._unset(l,a[u]);this._unset(l,"cookie","",!0)}this.loaded=!0,setTimeout(function(){s.callback(s)},0)}},_getHtml:function(t){var n,i=t.stylesheets,a="",r=0;if(i="string"==typeof i?[i]:i)for(n=i.length;n>r;r++)a+='<link rel="stylesheet" href="'+i[r]+'">';return t.stylesheets=a,e.lang.string('<!DOCTYPE html><html><head><meta charset="#{charset}">#{stylesheets}</head><body></body></html>').interpolate(t)},_unset:function(t,n,i,a){try{t[n]=i}catch(e){}try{t.__defineGetter__(n,function(){return i})}catch(e){}if(a)try{t.__defineSetter__(n,function(){})}catch(e){}if(!e.browser.crashesWhenDefineProperty(n))try{var r={get:function(){return i}};a&&(r.set=function(){}),Object.defineProperty(t,n,r)}catch(e){}}})}(wysihtml5),function(e){var t=document;e.dom.ContentEditableArea=Base.extend({getContentEditable:function(){return this.element},getWindow:function(){return this.element.ownerDocument.defaultView},getDocument:function(){return this.element.ownerDocument},constructor:function(t,n,i){this.callback=t||e.EMPTY_FUNCTION,this.config=e.lang.object({}).merge(n).get(),this.element=i?this._bindElement(i):this._createElement()},_createElement:function(){var e=t.createElement("div");return e.className="wysihtml5-sandbox",this._loadElement(e),e},_bindElement:function(e){return e.className=e.className&&""!=e.className?e.className+" wysihtml5-sandbox":"wysihtml5-sandbox",this._loadElement(e,!0),e},_loadElement:function(e,t){var n,i=this;t||(n=this._getHtml(),e.innerHTML=n),this.getWindow=function(){return e.ownerDocument.defaultView},this.getDocument=function(){return e.ownerDocument},this.loaded=!0,setTimeout(function(){i.callback(i)},0)},_getHtml:function(){return""}})}(wysihtml5),function(){var e={className:"class"};wysihtml5.dom.setAttributes=function(t){return{on:function(n){for(var i in t)n.setAttribute(e[i]||i,t[i])}}}}(),wysihtml5.dom.setStyles=function(e){return{on:function(t){var n,i=t.style;if("string"==typeof e)return void(i.cssText+=";"+e);for(n in e)"float"===n?(i.cssFloat=e[n],i.styleFloat=e[n]):i[n]=e[n]}}},function(e){e.simulatePlaceholder=function(t,n,i){var a="placeholder",r=function(){var t=n.element.offsetWidth>0&&n.element.offsetHeight>0;n.hasPlaceholderSet()&&(n.clear(),n.element.focus(),t&&setTimeout(function(){var e=n.selection.getSelection();e.focusNode&&e.anchorNode||n.selection.selectNode(n.element.firstChild||n.element)},0)),n.placeholderSet=!1,e.removeClass(n.element,a)},s=function(){n.isEmpty()&&(n.placeholderSet=!0,n.setValue(i),e.addClass(n.element,a))};t.on("set_placeholder",s).on("unset_placeholder",r).on("focus:composer",r).on("paste:composer",r).on("blur:composer",s),s()}}(wysihtml5.dom),function(e){var t=document.documentElement;"textContent"in t?(e.setTextContent=function(e,t){e.textContent=t},e.getTextContent=function(e){return e.textContent}):"innerText"in t?(e.setTextContent=function(e,t){e.innerText=t},e.getTextContent=function(e){return e.innerText}):(e.setTextContent=function(e,t){e.nodeValue=t},e.getTextContent=function(e){return e.nodeValue})}(wysihtml5.dom),wysihtml5.dom.getAttribute=function(e,t){var n,i,a,r=!wysihtml5.browser.supportsGetAttributeCorrectly();return t=t.toLowerCase(),n=e.nodeName,"IMG"==n&&"src"==t&&!0===wysihtml5.dom.isLoadedImage(e)?e.src:r&&"outerHTML"in e?(i=e.outerHTML.toLowerCase(),a=-1!=i.indexOf(" "+t+"="),a?e.getAttribute(t):null):e.getAttribute(t)},wysihtml5.dom.getAttributes=function(e){var t,n=!wysihtml5.browser.supportsGetAttributeCorrectly(),i=e.nodeName,a=[];for(t in e.attributes)(e.attributes.hasOwnProperty&&e.attributes.hasOwnProperty(t)||!e.attributes.hasOwnProperty&&Object.prototype.hasOwnProperty.call(e.attributes,t))&&e.attributes[t].specified&&("IMG"==i&&"src"==e.attributes[t].name.toLowerCase()&&!0===wysihtml5.dom.isLoadedImage(e)?a.src=e.src:wysihtml5.lang.array(["rowspan","colspan"]).contains(e.attributes[t].name.toLowerCase())&&n?1!==e.attributes[t].value&&(a[e.attributes[t].name]=e.attributes[t].value):a[e.attributes[t].name]=e.attributes[t].value);return a},wysihtml5.dom.isLoadedImage=function(e){try{return e.complete&&!e.mozMatchesSelector(":-moz-broken")}catch(t){if(e.complete&&"complete"===e.readyState)return!0}},function(e){function t(e,t){var n,i,a,r,s=[];for(i=0,a=e.length;a>i;i++)if(n=e[i].querySelectorAll(t))for(r=n.length;r--;s.unshift(n[r]));return s}function n(e){e.parentNode.removeChild(e)}function i(e,t){e.parentNode.insertBefore(t,e.nextSibling)}function a(e,t){for(var n=e.nextSibling;1!=n.nodeType;)if(n=n.nextSibling,!t||t==n.tagName.toLowerCase())return n;return null}var r=e.dom,s=function(e){this.el=e,this.isColspan=!1,this.isRowspan=!1,this.firstCol=!0,this.lastCol=!0,this.firstRow=!0,this.lastRow=!0,this.isReal=!0,this.spanCollection=[],this.modified=!1},o=function(e,t){e?(this.cell=e,this.table=r.getParentElement(e,{nodeName:["TABLE"]})):t&&(this.table=t,this.cell=this.table.querySelectorAll("th, td")[0])};o.prototype={addSpannedCellToMap:function(e,t,n,i,a,r){var o,l,c=[],d=n+(r?parseInt(r,10)-1:0),u=i+(a?parseInt(a,10)-1:0);for(o=n;d>=o;o++)for(void 0===t[o]&&(t[o]=[]),l=i;u>=l;l++)t[o][l]=new s(e),t[o][l].isColspan=a&&parseInt(a,10)>1,t[o][l].isRowspan=r&&parseInt(r,10)>1,t[o][l].firstCol=l==i,t[o][l].lastCol=l==u,t[o][l].firstRow=o==n,t[o][l].lastRow=o==d,t[o][l].isReal=l==i&&o==n,t[o][l].spanCollection=c,c.push(t[o][l])},setCellAsModified:function(e){if(e.modified=!0,e.spanCollection.length>0)for(var t=0,n=e.spanCollection.length;n>t;t++)e.spanCollection[t].modified=!0},setTableMap:function(){var e,t,n,i,a,o,l,c,d=[],u=this.getTableRows();for(e=0;e<u.length;e++)for(t=u[e],n=this.getRowCells(t),o=0,void 0===d[e]&&(d[e]=[]),i=0;i<n.length;i++){for(a=n[i];void 0!==d[e][o];)o++;l=r.getAttribute(a,"colspan"),c=r.getAttribute(a,"rowspan"),l||c?(this.addSpannedCellToMap(a,d,e,o,l,c),o+=l?parseInt(l,10):1):(d[e][o]=new s(a),o++)}return this.map=d,d},getRowCells:function(n){var i=this.table.querySelectorAll("table"),a=i?t(i,"th, td"):[],r=n.querySelectorAll("th, td");return a.length>0?e.lang.array(r).without(a):r},getTableRows:function(){var n=this.table.querySelectorAll("table"),i=n?t(n,"tr"):[],a=this.table.querySelectorAll("tr");return i.length>0?e.lang.array(a).without(i):a},getMapIndex:function(e){var t,n,i=this.map.length,a=this.map&&this.map[0]?this.map[0].length:0;for(t=0;i>t;t++)for(n=0;a>n;n++)if(this.map[t][n].el===e)return{row:t,col:n};return!1},getElementAtIndex:function(e){return this.setTableMap(),this.map[e.row]&&this.map[e.row][e.col]&&this.map[e.row][e.col].el?this.map[e.row][e.col].el:null},getMapElsTo:function(e){var t,n,i,a,r,s,o=[];if(this.setTableMap(),this.idx_start=this.getMapIndex(this.cell),this.idx_end=this.getMapIndex(e),(this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&this.idx_start.col>this.idx_end.col)&&(t=this.idx_start,this.idx_start=this.idx_end,this.idx_end=t),this.idx_start.col>this.idx_end.col&&(n=this.idx_start.col,this.idx_start.col=this.idx_end.col,this.idx_end.col=n),null!=this.idx_start&&null!=this.idx_end)for(i=this.idx_start.row,a=this.idx_end.row;a>=i;i++)for(r=this.idx_start.col,s=this.idx_end.col;s>=r;r++)o.push(this.map[i][r].el);return o},orderSelectionEnds:function(e){var t,n;return this.setTableMap(),this.idx_start=this.getMapIndex(this.cell),this.idx_end=this.getMapIndex(e),(this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&this.idx_start.col>this.idx_end.col)&&(t=this.idx_start,this.idx_start=this.idx_end,this.idx_end=t),this.idx_start.col>this.idx_end.col&&(n=this.idx_start.col,this.idx_start.col=this.idx_end.col,this.idx_end.col=n),{start:this.map[this.idx_start.row][this.idx_start.col].el,end:this.map[this.idx_end.row][this.idx_end.col].el}},createCells:function(e,t,n){var i,a,r,s=this.table.ownerDocument,o=s.createDocumentFragment();for(a=0;t>a;a++){if(i=s.createElement(e),n)for(r in n)n.hasOwnProperty(r)&&i.setAttribute(r,n[r]);i.appendChild(document.createTextNode("")),o.appendChild(i)}return o},correctColIndexForUnreals:function(e,t){var n,i=this.map[t],a=-1;for(n=0,e;e>n;n++)i[n].isReal&&a++;return a},getLastNewCellOnRow:function(e,t){var n,i,a,r,s=this.getRowCells(e);for(a=0,r=s.length;r>a;a++)if(n=s[a],!1===(i=this.getMapIndex(n))||void 0!==t&&i.row!=t)return n;return null},removeEmptyTable:function(){var e=this.table.querySelectorAll("td, th");return(!e||0==e.length)&&(n(this.table),!0)},splitRowToCells:function(e){var t,n,a;e.isColspan&&(t=parseInt(r.getAttribute(e.el,"colspan")||1,10),n=e.el.tagName.toLowerCase(),t>1&&(a=this.createCells(n,t-1),i(e.el,a)),e.el.removeAttribute("colspan"))},getRealRowEl:function(e,t){var n,i,a=null,s=null;for(t=t||this.idx,n=0,i=this.map[t.row].length;i>n;n++)if(s=this.map[t.row][n],s.isReal&&(a=r.getParentElement(s.el,{nodeName:["TR"]})))return a;return null===a&&e&&(a=r.getParentElement(this.map[t.row][t.col].el,{nodeName:["TR"]})||null),a},injectRowAt:function(e,t,n,a,s){var o,l,c=this.getRealRowEl(!1,{row:e,col:t}),d=this.createCells(a,n);c?(o=this.correctColIndexForUnreals(t,e),o>=0?i(this.getRowCells(c)[o],d):c.insertBefore(d,c.firstChild)):(l=this.table.ownerDocument.createElement("tr"),l.appendChild(d),i(r.getParentElement(s.el,{nodeName:["TR"]}),l))},canMerge:function(e){var t,n,i,a,r,s;for(this.to=e,this.setTableMap(),this.idx_start=this.getMapIndex(this.cell),this.idx_end=this.getMapIndex(this.to),(this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&this.idx_start.col>this.idx_end.col)&&(t=this.idx_start,this.idx_start=this.idx_end,this.idx_end=t),this.idx_start.col>this.idx_end.col&&(n=this.idx_start.col,this.idx_start.col=this.idx_end.col,this.idx_end.col=n),i=this.idx_start.row,a=this.idx_end.row;a>=i;i++)for(r=this.idx_start.col,s=this.idx_end.col;s>=r;r++)if(this.map[i][r].isColspan||this.map[i][r].isRowspan)return!1;return!0},decreaseCellSpan:function(e,t){var n=parseInt(r.getAttribute(e.el,t),10)-1;n>=1?e.el.setAttribute(t,n):(e.el.removeAttribute(t),"colspan"==t&&(e.isColspan=!1),"rowspan"==t&&(e.isRowspan=!1),e.firstCol=!0,e.lastCol=!0,e.firstRow=!0,e.lastRow=!0,e.isReal=!0)},removeSurplusLines:function(){var e,t,i,a,s,o,l,c;if(this.setTableMap(),this.map){for(i=0,a=this.map.length;a>i;i++){for(e=this.map[i],l=!0,s=0,o=e.length;o>s;s++)if(t=e[s],!(r.getAttribute(t.el,"rowspan")&&parseInt(r.getAttribute(t.el,"rowspan"),10)>1&&!0!==t.firstRow)){l=!1;break}if(l)for(s=0;o>s;s++)this.decreaseCellSpan(e[s],"rowspan")}for(c=this.getTableRows(),i=0,a=c.length;a>i;i++)e=c[i],0==e.childNodes.length&&/^\s*$/.test(e.textContent||e.innerText)&&n(e)}},fillMissingCells:function(){var e,t,n,a=0,r=0,o=null;if(this.setTableMap(),this.map){for(a=this.map.length,e=0;a>e;e++)this.map[e].length>r&&(r=this.map[e].length);for(t=0;a>t;t++)for(n=0;r>n;n++)this.map[t]&&!this.map[t][n]&&n>0&&(this.map[t][n]=new s(this.createCells("td",1)),(o=this.map[t][n-1])&&o.el&&o.el.parent&&i(this.map[t][n-1].el,this.map[t][n].el))}},rectify:function(){return!this.removeEmptyTable()&&(this.removeSurplusLines(),this.fillMissingCells(),!0)},unmerge:function(){var e,t,n,i,a,s;if(this.rectify()&&(this.setTableMap(),this.idx=this.getMapIndex(this.cell),this.idx)){if(e=this.map[this.idx.row][this.idx.col],t=r.getAttribute(e.el,"colspan")?parseInt(r.getAttribute(e.el,"colspan"),10):1,n=e.el.tagName.toLowerCase(),e.isRowspan){if((i=parseInt(r.getAttribute(e.el,"rowspan"),10))>1)for(a=1,s=i-1;s>=a;a++)this.injectRowAt(this.idx.row+a,this.idx.col,t,n,e);e.el.removeAttribute("rowspan")}
this.splitRowToCells(e)}},merge:function(e){var t,i,a,r,s,o;if(this.rectify())if(this.canMerge(e)){for(t=this.idx_end.row-this.idx_start.row+1,i=this.idx_end.col-this.idx_start.col+1,a=this.idx_start.row,r=this.idx_end.row;r>=a;a++)for(s=this.idx_start.col,o=this.idx_end.col;o>=s;s++)a==this.idx_start.row&&s==this.idx_start.col?(t>1&&this.map[a][s].el.setAttribute("rowspan",t),i>1&&this.map[a][s].el.setAttribute("colspan",i)):(/^\s*<br\/?>\s*$/.test(this.map[a][s].el.innerHTML.toLowerCase())||(this.map[this.idx_start.row][this.idx_start.col].el.innerHTML+=" "+this.map[a][s].el.innerHTML),n(this.map[a][s].el));this.rectify()}else window.console},collapseCellToNextRow:function(e){var t,n,a,s=this.getMapIndex(e.el),o=s.row+1,l={row:o,col:s.col};o<this.map.length&&null!==(t=this.getRealRowEl(!1,l))&&(n=this.correctColIndexForUnreals(l.col,l.row),n>=0?i(this.getRowCells(t)[n],e.el):(a=this.getLastNewCellOnRow(t,o),null!==a?i(a,e.el):t.insertBefore(e.el,t.firstChild)),parseInt(r.getAttribute(e.el,"rowspan"),10)>2?e.el.setAttribute("rowspan",parseInt(r.getAttribute(e.el,"rowspan"),10)-1):e.el.removeAttribute("rowspan"))},removeRowCell:function(e){e.isReal?e.isRowspan?this.collapseCellToNextRow(e):n(e.el):parseInt(r.getAttribute(e.el,"rowspan"),10)>2?e.el.setAttribute("rowspan",parseInt(r.getAttribute(e.el,"rowspan"),10)-1):e.el.removeAttribute("rowspan")},getRowElementsByCell:function(){var e,t,n,i=[];if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),!1!==this.idx)for(e=this.map[this.idx.row],t=0,n=e.length;n>t;t++)e[t].isReal&&i.push(e[t].el);return i},getColumnElementsByCell:function(){var e,t,n=[];if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),!1!==this.idx)for(e=0,t=this.map.length;t>e;e++)this.map[e][this.idx.col]&&this.map[e][this.idx.col].isReal&&n.push(this.map[e][this.idx.col].el);return n},removeRow:function(){var e,t,i,a=r.getParentElement(this.cell,{nodeName:["TR"]});if(a){if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),!1!==this.idx)for(e=this.map[this.idx.row],t=0,i=e.length;i>t;t++)e[t].modified||(this.setCellAsModified(e[t]),this.removeRowCell(e[t]));n(a)}},removeColCell:function(e){e.isColspan?parseInt(r.getAttribute(e.el,"colspan"),10)>2?e.el.setAttribute("colspan",parseInt(r.getAttribute(e.el,"colspan"),10)-1):e.el.removeAttribute("colspan"):e.isReal&&n(e.el)},removeColumn:function(){if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),!1!==this.idx)for(var e=0,t=this.map.length;t>e;e++)this.map[e][this.idx.col].modified||(this.setCellAsModified(this.map[e][this.idx.col]),this.removeColCell(this.map[e][this.idx.col]))},remove:function(e){if(this.rectify()){switch(e){case"row":this.removeRow();break;case"column":this.removeColumn()}this.rectify()}},addRow:function(e){var t,n,a,s,o,l=this.table.ownerDocument;if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),"below"==e&&r.getAttribute(this.cell,"rowspan")&&(this.idx.row=this.idx.row+parseInt(r.getAttribute(this.cell,"rowspan"),10)-1),!1!==this.idx){for(t=this.map[this.idx.row],n=l.createElement("tr"),a=0,s=t.length;s>a;a++)t[a].modified||(this.setCellAsModified(t[a]),this.addRowCell(t[a],n,e));switch(e){case"below":i(this.getRealRowEl(!0),n);break;case"above":(o=r.getParentElement(this.map[this.idx.row][this.idx.col].el,{nodeName:["TR"]}))&&o.parentNode.insertBefore(n,o)}}},addRowCell:function(e,t,n){var i=e.isColspan?{colspan:r.getAttribute(e.el,"colspan")}:null;e.isReal?"above"!=n&&e.isRowspan?e.el.setAttribute("rowspan",parseInt(r.getAttribute(e.el,"rowspan"),10)+1):t.appendChild(this.createCells("td",1,i)):"above"!=n&&e.isRowspan&&e.lastRow?t.appendChild(this.createCells("td",1,i)):c.isRowspan&&e.el.attr("rowspan",parseInt(r.getAttribute(e.el,"rowspan"),10)+1)},add:function(e){this.rectify()&&(("below"==e||"above"==e)&&this.addRow(e),("before"==e||"after"==e)&&this.addColumn(e))},addColCell:function(e,t,n){var a,s=e.el.tagName.toLowerCase();switch(n){case"before":a=!e.isColspan||e.firstCol;break;case"after":a=!e.isColspan||e.lastCol||e.isColspan&&c.el==this.cell}if(a){switch(n){case"before":e.el.parentNode.insertBefore(this.createCells(s,1),e.el);break;case"after":i(e.el,this.createCells(s,1))}e.isRowspan&&this.handleCellAddWithRowspan(e,t+1,n)}else e.el.setAttribute("colspan",parseInt(r.getAttribute(e.el,"colspan"),10)+1)},addColumn:function(e){var t,n,i,a;if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),"after"==e&&r.getAttribute(this.cell,"colspan")&&(this.idx.col=this.idx.col+parseInt(r.getAttribute(this.cell,"colspan"),10)-1),!1!==this.idx)for(i=0,a=this.map.length;a>i;i++)t=this.map[i],t[this.idx.col]&&(n=t[this.idx.col],n.modified||(this.setCellAsModified(n),this.addColCell(n,i,e)))},handleCellAddWithRowspan:function(e,t,n){var s,o,l,c,d=parseInt(r.getAttribute(this.cell,"rowspan"),10)-1,u=r.getParentElement(e.el,{nodeName:["TR"]}),h=e.el.tagName.toLowerCase(),f=this.table.ownerDocument;for(c=0;d>c;c++)if(s=this.correctColIndexForUnreals(this.idx.col,t+c),u=a(u,"tr"))if(s>0)switch(n){case"before":o=this.getRowCells(u),s>0&&this.map[t+c][this.idx.col].el!=o[s]&&s==o.length-1?i(o[s],this.createCells(h,1)):o[s].parentNode.insertBefore(this.createCells(h,1),o[s]);break;case"after":i(this.getRowCells(u)[s],this.createCells(h,1))}else u.insertBefore(this.createCells(h,1),u.firstChild);else l=f.createElement("tr"),l.appendChild(this.createCells(h,1)),this.table.appendChild(l)}},r.table={getCellsBetween:function(e,t){return new o(e).getMapElsTo(t)},addCells:function(e,t){new o(e).add(t)},removeCells:function(e,t){new o(e).remove(t)},mergeCellsBetween:function(e,t){new o(e).merge(t)},unmergeCell:function(e){new o(e).unmerge()},orderSelectionEnds:function(e,t){return new o(e).orderSelectionEnds(t)},indexOf:function(e){var t=new o(e);return t.setTableMap(),t.getMapIndex(e)},findCell:function(e,t){return new o(null,e).getElementAtIndex(t)},findRowByCell:function(e){return new o(e).getRowElementsByCell()},findColumnByCell:function(e){return new o(e).getColumnElementsByCell()},canMerge:function(e,t){return new o(e).canMerge(t)}}}(wysihtml5),wysihtml5.dom.query=function(e,t){var n,i,a,r,s=[];for(e.nodeType&&(e=[e]),i=0,a=e.length;a>i;i++)if(n=e[i].querySelectorAll(t))for(r=n.length;r--;s.unshift(n[r]));return s},wysihtml5.dom.compareDocumentPosition=function(){return document.documentElement.compareDocumentPosition?function(e,t){return e.compareDocumentPosition(t)}:function(e,t){var n,i,a,r,s,o,l,c,d;if(n=9===e.nodeType?e:e.ownerDocument,i=9===t.nodeType?t:t.ownerDocument,e===t)return 0;if(e===t.ownerDocument)return 20;if(e.ownerDocument===t)return 10;if(n!==i)return 1;if(2===e.nodeType&&e.childNodes&&-1!==wysihtml5.lang.array(e.childNodes).indexOf(t))return 20;if(2===t.nodeType&&t.childNodes&&-1!==wysihtml5.lang.array(t.childNodes).indexOf(e))return 10;for(a=e,r=[],s=null;a;){if(a==t)return 10;r.push(a),a=a.parentNode}for(a=t,s=null;a;){if(a==e)return 20;if(-1!==(o=wysihtml5.lang.array(r).indexOf(a)))return l=r[o],c=wysihtml5.lang.array(l.childNodes).indexOf(r[o-1]),d=wysihtml5.lang.array(l.childNodes).indexOf(s),c>d?2:4;s=a,a=a.parentNode}return 1}}(),wysihtml5.dom.unwrap=function(e){if(e.parentNode){for(;e.lastChild;)wysihtml5.dom.insert(e.lastChild).after(e);e.parentNode.removeChild(e)}},wysihtml5.dom.getPastedHtml=function(e){var t;return e.clipboardData&&(wysihtml5.lang.array(e.clipboardData.types).contains("text/html")?t=e.clipboardData.getData("text/html"):wysihtml5.lang.array(e.clipboardData.types).contains("text/plain")&&(t=wysihtml5.lang.string(e.clipboardData.getData("text/plain")).escapeHTML(!0,!0))),t},wysihtml5.dom.getPastedHtmlWithDiv=function(e,t){var n=e.selection.getBookmark(),i=e.element.ownerDocument,a=i.createElement("DIV");i.body.appendChild(a),a.style.width="1px",a.style.height="1px",a.style.overflow="hidden",a.setAttribute("contenteditable","true"),a.focus(),setTimeout(function(){e.selection.setBookmark(n),t(a.innerHTML),a.parentNode.removeChild(a)},0)},wysihtml5.quirks.cleanPastedHTML=function(){var e=function(e){var t=wysihtml5.lang.string(e).trim(),n=t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");return RegExp("^((?!^"+n+"$).)*$","i")},t=function(t,n){var i,a,r=wysihtml5.lang.object(t).clone(!0);for(i in r.tags)if(r.tags.hasOwnProperty(i)&&r.tags[i].keep_styles)for(a in r.tags[i].keep_styles)r.tags[i].keep_styles.hasOwnProperty(a)&&n[a]&&(r.tags[i].keep_styles[a]=e(n[a]));return r},n=function(e,t){var n,i,a;if(!e)return null;for(i=0,a=e.length;a>i;i++)if(e[i].condition||(n=e[i].set),e[i].condition&&e[i].condition.test(t))return e[i].set;return n};return function(e,i){var a={color:wysihtml5.dom.getStyle("color").from(i.referenceNode),fontSize:wysihtml5.dom.getStyle("font-size").from(i.referenceNode)},r=t(n(i.rules,e)||{},a);return wysihtml5.dom.parse(e,{rules:r,cleanUp:!0,context:i.referenceNode.ownerDocument,uneditableClass:i.uneditableClass,clearInternals:!0,unjoinNbsps:!0})}}(),wysihtml5.quirks.ensureProperClearing=function(){var e=function(){var e=this;setTimeout(function(){var t=e.innerHTML.toLowerCase();("<p>&nbsp;</p>"==t||"<p>&nbsp;</p><p>&nbsp;</p>"==t)&&(e.innerHTML="")},0)};return function(t){wysihtml5.dom.observe(t.element,["cut","keydown"],e)}}(),function(e){e.quirks.getCorrectInnerHTML=function(t){var n,i,a,r,s,o=t.innerHTML;if(-1===o.indexOf("%7E"))return o;for(n=t.querySelectorAll("[href*='~'], [src*='~']"),s=0,r=n.length;r>s;s++)i=n[s].href||n[s].src,a=e.lang.string(i).replace("~").by("%7E"),o=e.lang.string(o).replace(a).by(i);return o}}(wysihtml5),function(e){var t="wysihtml5-quirks-redraw";e.quirks.redraw=function(n){e.dom.addClass(n,t),e.dom.removeClass(n,t);try{var i=n.ownerDocument;i.execCommand("italic",!1,null),i.execCommand("italic",!1,null)}catch(e){}}}(wysihtml5),wysihtml5.quirks.tableCellsSelection=function(e,t){function n(n){d.start=n,d.end=n,d.cells=[n],d.table=c.getParentElement(d.start,{nodeName:["TABLE"]}),d.table&&(i(),c.addClass(n,u),h=c.observe(e,"mousemove",r),f=c.observe(e,"mouseup",s),t.fire("tableselectstart").fire("tableselectstart:composer"))}function i(){var t,n;if(e&&(t=e.querySelectorAll("."+u),t.length>0))for(n=0;n<t.length;n++)c.removeClass(t[n],u)}function a(e){for(var t=0;t<e.length;t++)c.addClass(e[t],u)}function r(e){var n,r=null,s=c.getParentElement(e.target,{nodeName:["TD","TH"]});s&&d.table&&d.start&&(r=c.getParentElement(s,{nodeName:["TABLE"]}))&&r===d.table&&(i(),n=d.end,d.end=s,d.cells=c.table.getCellsBetween(d.start,s),d.cells.length>1&&t.composer.selection.deselect(),a(d.cells),d.end!==n&&t.fire("tableselectchange").fire("tableselectchange:composer"))}function s(){h.stop(),f.stop(),t.fire("tableselect").fire("tableselect:composer"),setTimeout(function(){o()},0)}function o(){var n=c.observe(e.ownerDocument,"click",function(e){n.stop(),c.getParentElement(e.target,{nodeName:["TABLE"]})!=d.table&&(i(),d.table=null,d.start=null,d.end=null,t.fire("tableunselect").fire("tableunselect:composer"))})}function l(e,n){d.start=e,d.end=n,d.table=c.getParentElement(d.start,{nodeName:["TABLE"]}),selectedCells=c.table.getCellsBetween(d.start,d.end),a(selectedCells),o(),t.fire("tableselect").fire("tableselect:composer")}var c=wysihtml5.dom,d={table:null,start:null,end:null,cells:null,select:l},u="wysiwyg-tmp-selected-cell",h=null,f=null;return function(){return c.observe(e,"mousedown",function(e){var t=wysihtml5.dom.getParentElement(e.target,{nodeName:["TD","TH"]});t&&n(t)}),d}()},function(e){var t=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([\d\.]+)\s*\)/i,n=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/i,i=/^#([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])/i,a=/^#([0-9a-f])([0-9a-f])([0-9a-f])/i,r=function(e){return RegExp("(^|\\s|;)"+e+"\\s*:\\s*[^;$]+","gi")};e.quirks.styleParser={parseColor:function(s,o){var l,c,d,u=r(o),h=s.match(u),f=10;if(h){for(d=h.length;d--;)h[d]=e.lang.string(h[d].split(":")[1]).trim();if(l=h[h.length-1],t.test(l))c=l.match(t);else if(n.test(l))c=l.match(n);else if(i.test(l))c=l.match(i),f=16;else if(a.test(l))return c=l.match(a),c.shift(),c.push(1),e.lang.array(c).map(function(e,t){return 3>t?16*parseInt(e,16)+parseInt(e,16):parseFloat(e)});if(c)return c.shift(),c[3]||c.push(1),e.lang.array(c).map(function(e,t){return 3>t?parseInt(e,f):parseFloat(e)})}return!1},unparseColor:function(e,t){if(t){if("hex"==t)return e[0].toString(16).toUpperCase()+e[1].toString(16).toUpperCase()+e[2].toString(16).toUpperCase();if("hash"==t)return"#"+e[0].toString(16).toUpperCase()+e[1].toString(16).toUpperCase()+e[2].toString(16).toUpperCase();if("rgb"==t)return"rgb("+e[0]+","+e[1]+","+e[2]+")";if("rgba"==t)return"rgba("+e[0]+","+e[1]+","+e[2]+","+e[3]+")";if("csv"==t)return e[0]+","+e[1]+","+e[2]+","+e[3]}return e[3]&&1!==e[3]?"rgba("+e[0]+","+e[1]+","+e[2]+","+e[3]+")":"rgb("+e[0]+","+e[1]+","+e[2]+")"},parseFontSize:function(t){var n=t.match(r("font-size"));return!!n&&e.lang.string(n[n.length-1].split(":")[1]).trim()}}}(wysihtml5),function(e){function t(e){var t=0;if(e.parentNode)do{t+=e.offsetTop||0,e=e.offsetParent}while(e);return t}function n(e,t){for(var n=0;t!==e;)if(n++,!(t=t.parentNode))throw Error("not a descendant of ancestor!");return n}function i(e){if(!e.canSurroundContents())for(var t=e.commonAncestorContainer,i=n(t,e.startContainer),a=n(t,e.endContainer);!e.canSurroundContents();)i>a?(e.setStartBefore(e.startContainer),i=n(t,e.startContainer)):(e.setEndAfter(e.endContainer),a=n(t,e.endContainer))}var a=e.dom;e.Selection=Base.extend({constructor:function(e,t,n){window.rangy.init(),this.editor=e,this.composer=e.composer,this.doc=this.composer.doc,this.contain=t,this.unselectableClass=n||!1},getBookmark:function(){var e=this.getRange();return e&&i(e),e&&e.cloneRange()},setBookmark:function(e){e&&this.setSelection(e)},setBefore:function(e){var t=rangy.createRange(this.doc);return t.setStartBefore(e),t.setEndBefore(e),this.setSelection(t)},setAfter:function(e){var t=rangy.createRange(this.doc);return t.setStartAfter(e),t.setEndAfter(e),this.setSelection(t)},selectNode:function(t,n){var i=rangy.createRange(this.doc),r=t.nodeType===e.ELEMENT_NODE,s="canHaveHTML"in t?t.canHaveHTML:"IMG"!==t.nodeName,o=r?t.innerHTML:t.data,l=""===o||o===e.INVISIBLE_SPACE,c=a.getStyle("display").from(t),d="block"===c||"list-item"===c;if(l&&r&&s&&!n)try{t.innerHTML=e.INVISIBLE_SPACE}catch(e){}s?i.selectNodeContents(t):i.selectNode(t),s&&l&&r?i.collapse(d):s&&l&&(i.setStartAfter(t),i.setEndAfter(t)),this.setSelection(i)},getSelectedNode:function(e){var t,n;return e&&this.doc.selection&&"Control"===this.doc.selection.type&&(n=this.doc.selection.createRange())&&n.length?n.item(0):(t=this.getSelection(this.doc),t.focusNode===t.anchorNode?t.focusNode:(n=this.getRange(this.doc),n?n.commonAncestorContainer:this.doc.body))},fixSelBorders:function(){var e=this.getRange();i(e),this.setSelection(e)},getSelectedOwnNodes:function(){var e,t,n=this.getOwnRanges(),i=[];for(e=0,t=n.length;t>e;e++)i.push(n[e].commonAncestorContainer||this.doc.body);return i},findNodesInSelection:function(t){var n,i,a,r=this.getOwnRanges(),s=[];for(i=0,a=r.length;a>i;i++)n=r[i].getNodes([1],function(n){return e.lang.array(t).contains(n.nodeName)}),s=s.concat(n);return s},containsUneditable:function(){var e,t,n=this.getOwnUneditables(),i=this.getSelection();for(e=0,t=n.length;t>e;e++)if(i.containsNode(n[e]))return!0;return!1},deleteContents:function(){var e,t=this.getOwnRanges();for(e=t.length;e--;)t[e].deleteContents();this.setSelection(t[0])},getPreviousNode:function(t,n){var i,a,r;return t||(i=this.getSelection(),t=i.anchorNode),t!==this.contain&&((a=t.previousSibling)!==this.contain&&(a&&3!==a.nodeType&&1!==a.nodeType?a=this.getPreviousNode(a,n):a&&3===a.nodeType&&/^\s*$/.test(a.textContent)?a=this.getPreviousNode(a,n):n&&a&&1===a.nodeType&&!e.lang.array(["BR","HR","IMG"]).contains(a.nodeName)&&/^[\s]*$/.test(a.innerHTML)?a=this.getPreviousNode(a,n):a||t===this.contain||(r=t.parentNode)!==this.contain&&(a=this.getPreviousNode(r,n)),a!==this.contain&&a))},getSelectionParentsByTag:function(){var t,n,i,a=this.getSelectedOwnNodes(),r=[];for(n=0,i=a.length;i>n;n++)(t=a[n].nodeName&&"LI"===a[n].nodeName?a[n]:e.dom.getParentElement(a[n],{nodeName:["LI"]},!1,this.contain))&&r.push(t);return r.length?r:null},getRangeToNodeEnd:function(){if(this.isCollapsed()){var e=this.getRange(),t=e.startContainer,n=e.startOffset,i=rangy.createRange(this.doc);return i.selectNodeContents(t),i.setStart(t,n),i}},caretIsLastInSelection:function(){return/^\s*$/.test((rangy.createRange(this.doc),this.getSelection(),this.getRangeToNodeEnd().cloneContents()).textContent)},caretIsFirstInSelection:function(){var t=rangy.createRange(this.doc),n=this.getSelection(),i=this.getRange(),a=i.startContainer;return a.nodeType===e.TEXT_NODE?this.isCollapsed()&&a.nodeType===e.TEXT_NODE&&/^\s*$/.test(a.data.substr(0,i.startOffset)):(t.selectNodeContents(this.getRange().commonAncestorContainer),t.collapse(!0),this.isCollapsed()&&(t.startContainer===n.anchorNode||t.endContainer===n.anchorNode)&&t.startOffset===n.anchorOffset)},caretIsInTheBeginnig:function(t){var n=this.getSelection(),i=n.anchorNode,a=n.anchorOffset;return t?0===a&&(i.nodeName&&i.nodeName===t.toUpperCase()||e.dom.getParentElement(i.parentNode,{nodeName:t},1)):0===a&&!this.getPreviousNode(i,!0)},caretIsBeforeUneditable:function(){var e,t,n,i,a=this.getSelection(),r=a.anchorNode;if(0===a.anchorOffset&&(e=this.getPreviousNode(r,!0)))for(t=this.getOwnUneditables(),n=0,i=t.length;i>n;n++)if(e===t[n])return t[n];return!1},executeAndRestoreRangy:function(e){var t=this.doc.defaultView||this.doc.parentWindow,n=rangy.saveSelection(t);if(n)try{e()}catch(e){setTimeout(function(){throw e},0)}else e();rangy.restoreSelection(n)},executeAndRestore:function(t,n){var i,r,s,o,l,c,d,u,h,f=this.doc.body,p=n&&f.scrollTop,m=n&&f.scrollLeft,g="_wysihtml5-temp-placeholder",y='<span class="'+g+'">'+e.INVISIBLE_SPACE+"</span>",v=this.getRange(!0);if(!v)return void t(f,f);v.collapsed||(d=v.cloneRange(),c=d.createContextualFragment(y),d.collapse(!1),d.insertNode(c),d.detach()),l=v.createContextualFragment(y),v.insertNode(l),c&&(i=this.contain.querySelectorAll("."+g),v.setStartBefore(i[0]),v.setEndAfter(i[i.length-1])),this.setSelection(v);try{t(v.startContainer,v.endContainer)}catch(e){setTimeout(function(){throw e},0)}if((i=this.contain.querySelectorAll("."+g))&&i.length)for(u=rangy.createRange(this.doc),s=i[0].nextSibling,i.length>1&&(o=i[i.length-1].previousSibling),o&&s?(u.setStartBefore(s),u.setEndAfter(o)):(r=this.doc.createTextNode(e.INVISIBLE_SPACE),a.insert(r).after(i[0]),u.setStartBefore(r),u.setEndAfter(r)),this.setSelection(u),h=i.length;h--;)i[h].parentNode.removeChild(i[h]);else this.contain.focus();n&&(f.scrollTop=p,f.scrollLeft=m);try{i.parentNode.removeChild(i)}catch(e){}},set:function(e,t){var n=rangy.createRange(this.doc);n.setStart(e,t||0),this.setSelection(n)},insertHTML:function(e){var t,n=(rangy.createRange(this.doc),this.doc.createElement("DIV")),i=this.doc.createDocumentFragment();for(n.innerHTML=e,t=n.lastChild;n.firstChild;)i.appendChild(n.firstChild);this.insertNode(i),t&&this.setAfter(t)},insertNode:function(e){var t=this.getRange();t&&t.insertNode(e)},surround:function(e){var t,n,i=this.getOwnRanges(),a=[];if(0==i.length)return a;for(n=i.length;n--;){t=this.doc.createElement(e.nodeName),a.push(t),e.className&&(t.className=e.className),e.cssStyle&&t.setAttribute("style",e.cssStyle);try{i[n].surroundContents(t),this.selectNode(t)}catch(e){t.appendChild(i[n].extractContents()),i[n].insertNode(t)}}return a},deblockAndSurround:function(t){var n,i,a,r=this.doc.createElement("div"),s=rangy.createRange(this.doc);if(r.className=t.className,this.composer.commands.exec("formatBlock",t.nodeName,t.className),n=this.contain.querySelectorAll("."+t.className),n[0])for(n[0].parentNode.insertBefore(r,n[0]),s.setStartBefore(n[0]),s.setEndAfter(n[n.length-1]),i=s.extractContents();i.firstChild;)if(a=i.firstChild,1==a.nodeType&&e.dom.hasClass(a,t.className)){for(;a.firstChild;)r.appendChild(a.firstChild);"BR"!==a.nodeName&&r.appendChild(this.doc.createElement("br")),i.removeChild(a)}else r.appendChild(a);else r=null;return r},scrollIntoView:function(){var n,i=this.doc,a=i.documentElement.scrollHeight>i.documentElement.offsetHeight,r=i._wysihtml5ScrollIntoViewElement=i._wysihtml5ScrollIntoViewElement||function(){var t=i.createElement("span");return t.innerHTML=e.INVISIBLE_SPACE,t}();a&&(this.insertNode(r),n=t(r),r.parentNode.removeChild(r),n>=i.body.scrollTop+i.documentElement.offsetHeight-5&&(i.body.scrollTop=n))},selectLine:function(){e.browser.supportsSelectionModify()?this._selectLine_W3C():this.doc.selection&&this._selectLine_MSIE()},_selectLine_W3C:function(){var e=this.doc.defaultView,t=e.getSelection();t.modify("move","left","lineboundary"),t.modify("extend","right","lineboundary")},_selectLine_MSIE:function(){var e,t,n,i,a,r=this.doc.selection.createRange(),s=r.boundingTop,o=this.doc.body.scrollWidth;if(r.moveToPoint){for(0===s&&(n=this.doc.createElement("span"),this.insertNode(n),s=n.offsetTop,n.parentNode.removeChild(n)),s+=1,i=-10;o>i;i+=2)try{r.moveToPoint(i,s);break}catch(e){}for(e=s,t=this.doc.selection.createRange(),a=o;a>=0;a--)try{t.moveToPoint(a,e);break}catch(e){}r.setEndPoint("EndToEnd",t),r.select()}},getText:function(){var e=this.getSelection();return e?""+e:""},getNodes:function(e,t){var n=this.getRange();return n?n.getNodes([e],t):[]},fixRangeOverflow:function(e){var t,n;this.contain&&this.contain.firstChild&&e&&(t=e.compareNode(this.contain),2!==t?(1===t&&e.setStartBefore(this.contain.firstChild),0===t&&e.setEndAfter(this.contain.lastChild),3===t&&(e.setStartBefore(this.contain.firstChild),e.setEndAfter(this.contain.lastChild))):this._detectInlineRangeProblems(e)&&(n=e.endContainer.previousElementSibling)&&e.setEnd(n,this._endOffsetForNode(n)))},_endOffsetForNode:function(e){var t=document.createRange();return t.selectNodeContents(e),t.endOffset},_detectInlineRangeProblems:function(e){var t=a.compareDocumentPosition(e.startContainer,e.endContainer);return 0==e.endOffset&&4&t},getRange:function(e){var t=this.getSelection(),n=t&&t.rangeCount&&t.getRangeAt(0);return!0!==e&&this.fixRangeOverflow(n),n},getOwnUneditables:function(){var t=a.query(this.contain,"."+this.unselectableClass),n=a.query(t,"."+this.unselectableClass);return e.lang.array(t).without(n)},getOwnRanges:function(){var e,t,n,i,a,r,s,o=[],l=this.getRange();if(l&&o.push(l),this.unselectableClass&&this.contain&&l&&(t=this.getOwnUneditables(),t.length>0))for(i=0,a=t.length;a>i;i++)for(e=[],r=0,s=o.length;s>r;r++){if(o[r])switch(o[r].compareNode(t[i])){case 2:break;case 3:n=o[r].cloneRange(),n.setEndBefore(t[i]),e.push(n),n=o[r].cloneRange(),n.setStartAfter(t[i]),e.push(n);break;default:e.push(o[r])}o=e}return o},getSelection:function(){return rangy.getSelection(this.doc.defaultView||this.doc.parentWindow)},setSelection:function(e){var t=this.doc.defaultView||this.doc.parentWindow;return rangy.getSelection(t).setSingleRange(e)},createRange:function(){return rangy.createRange(this.doc)},isCollapsed:function(){return this.getSelection().isCollapsed},getHtml:function(){return this.getSelection().toHtml()},isEndToEndInNode:function(t){var n=this.getRange(),i=n.commonAncestorContainer,a=n.startContainer,r=n.endContainer;if(i.nodeType===e.TEXT_NODE&&(i=i.parentNode),a.nodeType===e.TEXT_NODE&&!/^\s*$/.test(a.data.substr(n.startOffset)))return!1;if(r.nodeType===e.TEXT_NODE&&!/^\s*$/.test(r.data.substr(n.endOffset)))return!1;for(;a&&a!==i;){if(a.nodeType!==e.TEXT_NODE&&!e.dom.contains(i,a))return!1;if(e.dom.domNode(a).prev({ignoreBlankTexts:!0}))return!1;a=a.parentNode}for(;r&&r!==i;){if(r.nodeType!==e.TEXT_NODE&&!e.dom.contains(i,r))return!1;if(e.dom.domNode(r).next({ignoreBlankTexts:!0}))return!1;r=r.parentNode}return!!e.lang.array(t).contains(i.nodeName)&&i},deselect:function(){var e=this.getSelection();e&&e.removeAllRanges()}})}(wysihtml5),function(e,t){function n(e,t,n){if(!e.className)return!1;var i=e.className.match(n)||[];return i[i.length-1]===t}function i(e,t){return!(!e.getAttribute||!e.getAttribute("style"))&&(e.getAttribute("style").match(t),!!e.getAttribute("style").match(t))}function a(e,t,n){e.getAttribute("style")?(o(e,n),e.getAttribute("style")&&!/^\s*$/.test(e.getAttribute("style"))?e.setAttribute("style",t+";"+e.getAttribute("style")):e.setAttribute("style",t)):e.setAttribute("style",t)}function r(e,t,n){e.className?(s(e,n),e.className+=" "+t):e.className=t}function s(e,t){e.className&&(e.className=e.className.replace(t,""))}function o(e,t){var n,i,a=[];if(e.getAttribute("style")){for(n=e.getAttribute("style").split(";"),i=n.length;i--;)n[i].match(t)||/^\s*$/.test(n[i])||a.push(n[i]);a.length?e.setAttribute("style",a.join(";")):e.removeAttribute("style")}}function l(e,t){var n,i,a,r=[],s=t.split(";"),o=e.getAttribute("style");if(o){for(o=o.replace(/\s/gi,"").toLowerCase(),r.push(RegExp("(^|\\s|;)"+t.replace(/\s/gi,"").replace(/([\(\)])/gi,"\\$1").toLowerCase().replace(";",";?").replace(/rgb\\\((\d+),(\d+),(\d+)\\\)/gi,"\\s?rgb\\($1,\\s?$2,\\s?$3\\)"),"gi")),n=s.length;n-- >0;)/^\s*$/.test(s[n])||r.push(RegExp("(^|\\s|;)"+s[n].replace(/\s/gi,"").replace(/([\(\)])/gi,"\\$1").toLowerCase().replace(";",";?").replace(/rgb\\\((\d+),(\d+),(\d+)\\\)/gi,"\\s?rgb\\($1,\\s?$2,\\s?$3\\)"),"gi"));for(i=0,a=r.length;a>i;i++)if(o.match(r[i]))return r[i]}return!1}function c(n,i,a,r){return a?l(n,a):r?e.dom.hasClass(n,r):t.dom.arrayContains(i,n.tagName.toLowerCase())}function d(e,t,n,i){for(var a=e.length;a--;)if(!c(e[a],t,n,i))return!1;return!!e.length}function u(e,t,n){var i=l(e,t);return i?(o(e,i),"remove"):(a(e,t,n),"change")}function h(e,t){return e.className.replace(w," ")==t.className.replace(w," ")}function f(e){for(var t=e.parentNode;e.firstChild;)t.insertBefore(e.firstChild,e);t.removeChild(e)}function p(e,t){if(e.attributes.length!=t.attributes.length)return!1;for(var n,i,a,r=0,s=e.attributes.length;s>r;++r)if(n=e.attributes[r],"class"!=(a=n.name)){if(i=t.attributes.getNamedItem(a),n.specified!=i.specified)return!1;if(n.specified&&n.nodeValue!==i.nodeValue)return!1}return!0}function m(e,n){return t.dom.isCharacterDataNode(e)?0==n?!!e.previousSibling:n!=e.length||!!e.nextSibling:n>0&&n<e.childNodes.length}function g(e,n,i,a){var r,s;if(t.dom.isCharacterDataNode(n)&&(0==i?(i=t.dom.getNodeIndex(n),n=n.parentNode):i==n.length?(i=t.dom.getNodeIndex(n)+1,n=n.parentNode):r=t.dom.splitDataNode(n,i)),!(r||a&&n===a)){for(r=n.cloneNode(!1),r.id&&r.removeAttribute("id");s=n.childNodes[i];)r.appendChild(s);t.dom.insertAfter(r,n)}return n==e?r:g(e,r.parentNode,t.dom.getNodeIndex(r),a)}function y(t){this.isElementMerge=t.nodeType==e.ELEMENT_NODE,this.firstTextNode=this.isElementMerge?t.lastChild:t,this.textNodes=[this.firstTextNode]}function v(e,t,n,i,a,r,s){this.tagNames=e||[b],this.cssClass=t||!1!==t&&"",this.similarClassRegExp=n,this.cssStyle=a||"",this.similarStyleRegExp=r,this.normalize=i,this.applyToAnyTagName=!1,this.container=s}var b="span",w=/\s+/g;y.prototype={doMerge:function(){var e,t,n,i,a,r=[];for(i=0,a=this.textNodes.length;a>i;++i)e=this.textNodes[i],t=e.parentNode,r[i]=e.data,i&&(t.removeChild(e),t.hasChildNodes()||t.parentNode.removeChild(t));return this.firstTextNode.data=n=r.join(""),n},getLength:function(){for(var e=this.textNodes.length,t=0;e--;)t+=this.textNodes[e].length;return t},toString:function(){var e,t,n=[];for(e=0,t=this.textNodes.length;t>e;++e)n[e]="'"+this.textNodes[e].data+"'";return"[Merge("+n.join(",")+")]"}},v.prototype={getAncestorWithClass:function(i){for(var a;i;){if(a=this.cssClass?n(i,this.cssClass,this.similarClassRegExp):""===this.cssStyle,i.nodeType==e.ELEMENT_NODE&&"false"!=i.getAttribute("contenteditable")&&t.dom.arrayContains(this.tagNames,i.tagName.toLowerCase())&&a)return i;i=i.parentNode}return!1},getAncestorWithStyle:function(n){for(var a;n;){if(a=!!this.cssStyle&&i(n,this.similarStyleRegExp),n.nodeType==e.ELEMENT_NODE&&"false"!=n.getAttribute("contenteditable")&&t.dom.arrayContains(this.tagNames,n.tagName.toLowerCase())&&a)return n;n=n.parentNode}return!1},getMatchingAncestor:function(e){var t=this.getAncestorWithClass(e),n=!1;return t?this.cssStyle&&(n="class"):(t=this.getAncestorWithStyle(e))&&(n="style"),{element:t,type:n}},postApply:function(e,t){var n,i,a,r,s,o,l=e[0],c=e[e.length-1],d=[],u=l,h=c,f=0,p=c.length;for(r=0,s=e.length;s>r;++r)i=e[r],a=null,i&&i.parentNode&&(a=this.getAdjacentMergeableTextNode(i.parentNode,!1)),a?(n||(n=new y(a),d.push(n)),n.textNodes.push(i),i===l&&(u=n.firstTextNode,f=u.length),i===c&&(h=n.firstTextNode,p=n.getLength())):n=null;if(c&&c.parentNode&&(o=this.getAdjacentMergeableTextNode(c.parentNode,!0))&&(n||(n=new y(c),d.push(n)),n.textNodes.push(o)),d.length){for(r=0,s=d.length;s>r;++r)d[r].doMerge();t.setStart(u,f),t.setEnd(h,p)}},getAdjacentMergeableTextNode:function(t,n){var i,a=t.nodeType==e.TEXT_NODE,r=a?t.parentNode:t,s=n?"nextSibling":"previousSibling";if(a){if((i=t[s])&&i.nodeType==e.TEXT_NODE)return i}else if((i=r[s])&&this.areElementsMergeable(t,i))return i[n?"firstChild":"lastChild"];return null},areElementsMergeable:function(e,n){return t.dom.arrayContains(this.tagNames,(e.tagName||"").toLowerCase())&&t.dom.arrayContains(this.tagNames,(n.tagName||"").toLowerCase())&&h(e,n)&&p(e,n)},createContainer:function(e){var t=e.createElement(this.tagNames[0]);return this.cssClass&&(t.className=this.cssClass),this.cssStyle&&t.setAttribute("style",this.cssStyle),t},applyToTextNode:function(e){var n,i=e.parentNode;1==i.childNodes.length&&t.dom.arrayContains(this.tagNames,i.tagName.toLowerCase())?(this.cssClass&&r(i,this.cssClass,this.similarClassRegExp),this.cssStyle&&a(i,this.cssStyle,this.similarStyleRegExp)):(n=this.createContainer(t.dom.getDocument(e)),e.parentNode.insertBefore(n,e),n.appendChild(e))},isRemovable:function(n){return t.dom.arrayContains(this.tagNames,n.tagName.toLowerCase())&&""===e.lang.string(n.className).trim()&&(!n.getAttribute("style")||""===e.lang.string(n.getAttribute("style")).trim())},undoToTextNode:function(e,t,n,i){var a,r=!n,o=n||i,l=!1;t.containsNode(o)||(a=t.cloneRange(),a.selectNode(o),a.isPointInRange(t.endContainer,t.endOffset)&&m(t.endContainer,t.endOffset)&&(g(o,t.endContainer,t.endOffset,this.container),t.setEndAfter(o)),a.isPointInRange(t.startContainer,t.startOffset)&&m(t.startContainer,t.startOffset)&&(o=g(o,t.startContainer,t.startOffset,this.container))),!r&&this.similarClassRegExp&&s(o,this.similarClassRegExp),r&&this.similarStyleRegExp&&(l="change"===u(o,this.cssStyle,this.similarStyleRegExp)),this.isRemovable(o)&&!l&&f(o)},applyToRange:function(t){var n,i,a,r,s,o;for(i=t.length;i--;){if(n=t[i].getNodes([e.TEXT_NODE]),!n.length)try{return a=this.createContainer(t[i].endContainer.ownerDocument),t[i].surroundContents(a),void this.selectNode(t[i],a)}catch(e){}if(t[i].splitBoundaries(),n=t[i].getNodes([e.TEXT_NODE]),n.length){for(s=0,o=n.length;o>s;++s)r=n[s],this.getMatchingAncestor(r).element||this.applyToTextNode(r);t[i].setStart(n[0],0),r=n[n.length-1],t[i].setEnd(r,r.length),this.normalize&&this.postApply(n,t[i])}}},undoToRange:function(t){var n,i,a,r,s,o,l,c;for(r=t.length;r--;){for(n=t[r].getNodes([e.TEXT_NODE]),n.length?(t[r].splitBoundaries(),n=t[r].getNodes([e.TEXT_NODE])):(s=t[r].endContainer.ownerDocument,o=s.createTextNode(e.INVISIBLE_SPACE),t[r].insertNode(o),t[r].selectNode(o),n=[o]),l=0,c=n.length;c>l;++l)t[r].isValid()&&(i=n[l],a=this.getMatchingAncestor(i),"style"===a.type?this.undoToTextNode(i,t[r],!1,a.element):a.element&&this.undoToTextNode(i,t[r],a.element));1==c?this.selectNode(t[r],n[0]):(t[r].setStart(n[0],0),i=n[n.length-1],t[r].setEnd(i,i.length),this.normalize&&this.postApply(n,t[r]))}},selectNode:function(t,n){var i=n.nodeType===e.ELEMENT_NODE,a=!("canHaveHTML"in n)||n.canHaveHTML,r=i?n.innerHTML:n.data,s=""===r||r===e.INVISIBLE_SPACE;if(s&&i&&a)try{n.innerHTML=e.INVISIBLE_SPACE}catch(e){}t.selectNodeContents(n),s&&i?t.collapse(!1):s&&(t.setStartAfter(n),t.setEndAfter(n))},getTextSelectedByRange:function(e,t){var n,i,a=t.cloneRange();return a.selectNodeContents(e),
n=a.intersection(t),i=n?""+n:"",a.detach(),i},isAppliedToRange:function(t){var n,i,a,r,s,o,l=[],c="full";for(a=t.length;a--;){if(i=t[a].getNodes([e.TEXT_NODE]),!i.length)return!!(n=this.getMatchingAncestor(t[a].startContainer).element)&&{elements:[n],coverage:c};for(r=0,s=i.length;s>r;++r)o=this.getTextSelectedByRange(i[r],t[a]),n=this.getMatchingAncestor(i[r]).element,n&&""!=o?(l.push(n),1===e.dom.getTextNodes(n,!0).length?c="full":"full"===c&&(c="inline")):n||(c="partial")}return!!l.length&&{elements:l,coverage:c}},toggleRange:function(e){var t,n=this.isAppliedToRange(e);n?"full"===n.coverage?this.undoToRange(e):"inline"===n.coverage?(t=d(n.elements,this.tagNames,this.cssStyle,this.cssClass),this.undoToRange(e),t||this.applyToRange(e)):(d(n.elements,this.tagNames,this.cssStyle,this.cssClass)||this.undoToRange(e),this.applyToRange(e)):this.applyToRange(e)}},e.selection.HTMLApplier=v}(wysihtml5,rangy),wysihtml5.Commands=Base.extend({constructor:function(e){this.editor=e,this.composer=e.composer,this.doc=this.composer.doc},support:function(e){return wysihtml5.browser.supportsCommand(this.doc,e)},exec:function(e,t){var n=wysihtml5.commands[e],i=wysihtml5.lang.array(arguments).get(),a=n&&n.exec,r=null;if(this.editor.fire("beforecommand:composer"),a)i.unshift(this.composer),r=a.apply(n,i);else try{r=this.doc.execCommand(e,!1,t)}catch(e){}return this.editor.fire("aftercommand:composer"),r},state:function(e){var t=wysihtml5.commands[e],n=wysihtml5.lang.array(arguments).get(),i=t&&t.state;if(i)return n.unshift(this.composer),i.apply(t,n);try{return this.doc.queryCommandState(e)}catch(e){return!1}},stateValue:function(e){var t=wysihtml5.commands[e],n=wysihtml5.lang.array(arguments).get(),i=t&&t.stateValue;return!!i&&(n.unshift(this.composer),i.apply(t,n))}}),wysihtml5.commands.bold={exec:function(e,t){wysihtml5.commands.formatInline.execWithToggle(e,t,"b")},state:function(e,t){return wysihtml5.commands.formatInline.state(e,t,"b")}},function(e){function t(t,n){var s,o,l,c,d,u,h,f,p,m=t.doc,g="_wysihtml5-temp-"+ +new Date,y=/non-matching-class/g,v=0;for(e.commands.formatInline.exec(t,i,a,g,y,i,i,!0,!0),o=m.querySelectorAll(a+"."+g),s=o.length;s>v;v++){l=o[v],l.removeAttribute("class");for(p in n)"text"!==p&&l.setAttribute(p,n[p])}u=l,1===s&&(h=r.getTextContent(l),c=!!l.querySelector("*"),d=""===h||h===e.INVISIBLE_SPACE,!c&&d&&(r.setTextContent(l,n.text||l.href),f=m.createTextNode(" "),t.selection.setAfter(l),r.insert(f).after(l),u=f)),t.selection.setAfter(u)}function n(e,t,n){var i,a,r,s;for(a=t.length;a--;){for(i=t[a].attributes,r=i.length;r--;)t[a].removeAttribute(i.item(r).name);for(s in n)n.hasOwnProperty(s)&&t[a].setAttribute(s,n[s])}}var i,a="A",r=e.dom;e.commands.createLink={exec:function(e,i,a){var r=this.state(e,i);r?e.selection.executeAndRestore(function(){n(e,r,a)}):(a="object"==typeof a?a:{href:a},t(e,a))},state:function(t,n){return e.commands.formatInline.state(t,n,"A")}}}(wysihtml5),function(e){function t(e,t){for(var i,a,r,s=t.length,o=0;s>o;o++)i=t[o],a=n.getParentElement(i,{nodeName:"code"}),r=n.getTextContent(i),r.match(n.autoLink.URL_REG_EXP)&&!a?a=n.renameElement(i,"code"):n.replaceWithChildNodes(i)}var n=e.dom;e.commands.removeLink={exec:function(e,n){var i=this.state(e,n);i&&e.selection.executeAndRestore(function(){t(e,i)})},state:function(t,n){return e.commands.formatInline.state(t,n,"A")}}}(wysihtml5),function(e){var t=/wysiwyg-font-size-[0-9a-z\-]+/g;e.commands.fontSize={exec:function(n,i,a){e.commands.formatInline.execWithToggle(n,i,"span","wysiwyg-font-size-"+a,t)},state:function(n,i,a){return e.commands.formatInline.state(n,i,"span","wysiwyg-font-size-"+a,t)}}}(wysihtml5),function(e){var t=/(\s|^)font-size\s*:\s*[^;\s]+;?/gi;e.commands.fontSizeStyle={exec:function(n,i,a){a="object"==typeof a?a.size:a,/^\s*$/.test(a)||e.commands.formatInline.execWithToggle(n,i,"span",!1,!1,"font-size:"+a,t)},state:function(n,i){return e.commands.formatInline.state(n,i,"span",!1,!1,"font-size",t)},stateValue:function(t,n){var i,a=this.state(t,n);return a&&e.lang.object(a).isArray()&&(a=a[0]),!(!a||!(i=a.getAttribute("style")))&&e.quirks.styleParser.parseFontSize(i)}}}(wysihtml5),function(e){var t=/wysiwyg-color-[0-9a-z]+/g;e.commands.foreColor={exec:function(n,i,a){e.commands.formatInline.execWithToggle(n,i,"span","wysiwyg-color-"+a,t)},state:function(n,i,a){return e.commands.formatInline.state(n,i,"span","wysiwyg-color-"+a,t)}}}(wysihtml5),function(e){var t=/(\s|^)color\s*:\s*[^;\s]+;?/gi;e.commands.foreColorStyle={exec:function(n,i,a){var r,s=e.quirks.styleParser.parseColor("object"==typeof a?"color:"+a.color:"color:"+a,"color");s&&(r="color: rgb("+s[0]+","+s[1]+","+s[2]+");",1!==s[3]&&(r+="color: rgba("+s[0]+","+s[1]+","+s[2]+","+s[3]+");"),e.commands.formatInline.execWithToggle(n,i,"span",!1,!1,r,t))},state:function(n,i){return e.commands.formatInline.state(n,i,"span",!1,!1,"color",t)},stateValue:function(t,n,i){var a,r=this.state(t,n);return r&&e.lang.object(r).isArray()&&(r=r[0]),!!(r&&(a=r.getAttribute("style"))&&a)&&(val=e.quirks.styleParser.parseColor(a,"color"),e.quirks.styleParser.unparseColor(val,i))}}}(wysihtml5),function(e){var t=/(\s|^)background-color\s*:\s*[^;\s]+;?/gi;e.commands.bgColorStyle={exec:function(n,i,a){var r,s=e.quirks.styleParser.parseColor("object"==typeof a?"background-color:"+a.color:"background-color:"+a,"background-color");s&&(r="background-color: rgb("+s[0]+","+s[1]+","+s[2]+");",1!==s[3]&&(r+="background-color: rgba("+s[0]+","+s[1]+","+s[2]+","+s[3]+");"),e.commands.formatInline.execWithToggle(n,i,"span",!1,!1,r,t))},state:function(n,i){return e.commands.formatInline.state(n,i,"span",!1,!1,"background-color",t)},stateValue:function(t,n,i){var a,r=this.state(t,n),s=!1;return r&&e.lang.object(r).isArray()&&(r=r[0]),!(!r||!(a=r.getAttribute("style")))&&(s=e.quirks.styleParser.parseColor(a,"background-color"),e.quirks.styleParser.unparseColor(s,i))}}}(wysihtml5),function(e){function t(t,n,a){t.className?(i(t,a),t.className=e.lang.string(t.className+" "+n).trim()):t.className=n}function n(t,n,i){a(t,i),t.getAttribute("style")?t.setAttribute("style",e.lang.string(t.getAttribute("style")+" "+n).trim()):t.setAttribute("style",n)}function i(t,n){var i=n.test(t.className);return t.className=t.className.replace(n,""),""==e.lang.string(t.className).trim()&&t.removeAttribute("class"),i}function a(t,n){var i=n.test(t.getAttribute("style"));return t.setAttribute("style",(t.getAttribute("style")||"").replace(n,"")),""==e.lang.string(t.getAttribute("style")||"").trim()&&t.removeAttribute("style"),i}function r(e){var t=e.lastChild;t&&s(t)&&t.parentNode.removeChild(t)}function s(e){return"BR"===e.nodeName}function o(t,n){var i,a,s;for(t.selection.isCollapsed()&&t.selection.selectLine(),i=t.selection.surround(n),a=0,s=i.length;s>a;a++)e.dom.lineBreaks(i[a]).remove(),r(i[a])}function l(t){return!!e.lang.string(t.className).trim()}function c(t){return!!e.lang.string(t.getAttribute("style")||"").trim()}var d=e.dom,u=["H1","H2","H3","H4","H5","H6","P","PRE","DIV"];e.commands.formatBlock={exec:function(r,s,h,f,p,m,g){var y,v,b,w,C,x=(r.doc,this.state(r,s,h,f,p,m,g)),_=r.config.useLineBreaks,S=_?"DIV":"P";return h="string"==typeof h?h.toUpperCase():h,x.length?void r.selection.executeAndRestoreRangy(function(){var t,n,r;for(t=x.length;t--;){if(p&&(v=i(x[t],p)),g&&(w=a(x[t],g)),(w||v)&&null===h&&x[t].nodeName!=S)return;n=l(x[t]),r=c(x[t]),n||r||!_&&"P"!==h?d.renameElement(x[t],"P"===h?"DIV":S):(e.dom.lineBreaks(x[t]).add(),d.replaceWithChildNodes(x[t]))}}):void((null!==h&&!e.lang.array(u).contains(h)||(y=r.selection.findNodesInSelection(u).concat(r.selection.getSelectedOwnNodes()),r.selection.executeAndRestoreRangy(function(){for(var e=y.length;e--;)C=d.getParentElement(y[e],{nodeName:u}),C==r.element&&(C=null),C&&(h&&(C=d.renameElement(C,h)),f&&t(C,f,p),m&&n(C,m,g),b=!0)}),!b))&&o(r,{nodeName:h||S,className:f||null,cssStyle:m||null}))},state:function(t,n,i,a,r,s,o){var l,c,u,h=t.selection.getSelectedOwnNodes(),f=[];for(i="string"==typeof i?i.toUpperCase():i,c=0,u=h.length;u>c;c++)(l=d.getParentElement(h[c],{nodeName:i,className:a,classRegExp:r,cssStyle:s,styleRegExp:o}))&&-1==e.lang.array(f).indexOf(l)&&f.push(l);return 0!=f.length&&f}}}(wysihtml5),wysihtml5.commands.formatCode={exec:function(e,t,n){var i,a,r,s=this.state(e);s?e.selection.executeAndRestore(function(){i=s.querySelector("code"),wysihtml5.dom.replaceWithChildNodes(s),i&&wysihtml5.dom.replaceWithChildNodes(i)}):(a=e.selection.getRange(),r=a.extractContents(),s=e.doc.createElement("pre"),i=e.doc.createElement("code"),n&&(i.className=n),s.appendChild(i),i.appendChild(r),a.insertNode(s),e.selection.selectNode(s))},state:function(e){var t=e.selection.getSelectedNode();return t&&t.nodeName&&"PRE"==t.nodeName&&t.firstChild&&t.firstChild.nodeName&&"CODE"==t.firstChild.nodeName?t:wysihtml5.dom.getParentElement(t,{nodeName:"CODE"})&&wysihtml5.dom.getParentElement(t,{nodeName:"PRE"})}},function(e){function t(e){var t=i[e];return t?[e.toLowerCase(),t.toLowerCase()]:[e.toLowerCase()]}function n(n,i,r,s,o,l){var c=n;return i&&(c+=":"+i),s&&(c+=":"+s),a[c]||(a[c]=new e.selection.HTMLApplier(t(n),i,r,!0,s,o,l)),a[c]}var i={strong:"b",em:"i",b:"strong",i:"em"},a={};e.commands.formatInline={exec:function(e,t,i,a,r,s,o,l,c){var d=e.selection.createRange(),u=e.selection.getOwnRanges();return!(!u||0==u.length)&&(e.selection.getSelection().removeAllRanges(),n(i,a,r,s,o,e.element).toggleRange(u),void(l?c||e.cleanUp():(d.setStart(u[0].startContainer,u[0].startOffset),d.setEnd(u[u.length-1].endContainer,u[u.length-1].endOffset),e.selection.setSelection(d),e.selection.executeAndRestore(function(){c||e.cleanUp()},!0,!0))))},execWithToggle:function(t,n,i,a,r,s,o){var l,c=this;this.state(t,n,i,a,r,s,o)&&t.selection.isCollapsed()&&!t.selection.caretIsLastInSelection()&&!t.selection.caretIsFirstInSelection()?(l=c.state(t,n,i,a,r)[0],t.selection.executeAndRestoreRangy(function(){l.parentNode,t.selection.selectNode(l,!0),e.commands.formatInline.exec(t,n,i,a,r,s,o,!0,!0)})):this.state(t,n,i,a,r,s,o)&&!t.selection.isCollapsed()?t.selection.executeAndRestoreRangy(function(){e.commands.formatInline.exec(t,n,i,a,r,s,o,!0,!0)}):e.commands.formatInline.exec(t,n,i,a,r,s,o)},state:function(t,a,r,s,o,l,c){var d,u,h=t.doc,f=i[r]||r;return!(!e.dom.hasElementWithTagName(h,r)&&!e.dom.hasElementWithTagName(h,f))&&(!(s&&!e.dom.hasElementWithClassName(h,s))&&(!(!(d=t.selection.getOwnRanges())||0===d.length)&&(!(!(u=n(r,s,o,l,c,t.element).isAppliedToRange(d))||!u.elements)&&u.elements)))}}}(wysihtml5),function(e){e.commands.insertBlockQuote={exec:function(t,n){var i=this.state(t,n),a=t.selection.isEndToEndInNode(["H1","H2","H3","H4","H5","H6","P"]);t.selection.executeAndRestore(function(){if(i)t.config.useLineBreaks&&e.dom.lineBreaks(i).add(),e.dom.unwrap(i);else if(t.selection.isCollapsed()&&t.selection.selectLine(),a){var n=a.ownerDocument.createElement("blockquote");e.dom.insert(n).after(a),n.appendChild(a)}else t.selection.surround({nodeName:"blockquote"})})},state:function(t){var n=t.selection.getSelectedNode(),i=e.dom.getParentElement(n,{nodeName:"BLOCKQUOTE"},!1,t.element);return i||!1}}}(wysihtml5),wysihtml5.commands.insertHTML={exec:function(e,t,n){e.commands.support(t)?e.doc.execCommand(t,!1,n):e.selection.insertHTML(n)},state:function(){return!1}},function(e){var t="IMG";e.commands.insertImage={exec:function(n,i,a){var r,s,o,l,c;if(a="object"==typeof a?a:{src:a},r=n.doc,s=this.state(n))return n.selection.setBefore(s),l=s.parentNode,l.removeChild(s),e.dom.removeEmptyTextNodes(l),"A"!==l.nodeName||l.firstChild||(n.selection.setAfter(l),l.parentNode.removeChild(l)),void e.quirks.redraw(n.element);s=r.createElement(t);for(c in a)s.setAttribute("className"===c?"class":c,a[c]);n.selection.insertNode(s),e.browser.hasProblemsSettingCaretAfterImg()?(o=r.createTextNode(e.INVISIBLE_SPACE),n.selection.insertNode(o),n.selection.setAfter(o)):n.selection.setAfter(s)},state:function(n){var i,a,r,s=n.doc;return!!e.dom.hasElementWithTagName(s,t)&&(!!(i=n.selection.getSelectedNode())&&(i.nodeName===t?i:i.nodeType===e.ELEMENT_NODE&&(a=n.selection.getText(),!(a=e.lang.string(a).trim())&&(r=n.selection.getNodes(e.ELEMENT_NODE,function(e){return"IMG"===e.nodeName}),1===r.length&&r[0]))))}}}(wysihtml5),function(e){var t="<br>"+(e.browser.needsSpaceAfterLineBreak()?" ":"");e.commands.insertLineBreak={exec:function(n,i){n.commands.support(i)?(n.doc.execCommand(i,!1,null),e.browser.autoScrollsToCaret()||n.selection.scrollIntoView()):n.commands.exec("insertHTML",t)},state:function(){return!1}}}(wysihtml5),wysihtml5.commands.insertOrderedList={exec:function(e,t){wysihtml5.commands.insertList.exec(e,t,"OL")},state:function(e,t){return wysihtml5.commands.insertList.state(e,t,"OL")}},wysihtml5.commands.insertUnorderedList={exec:function(e,t){wysihtml5.commands.insertList.exec(e,t,"UL")},state:function(e,t){return wysihtml5.commands.insertList.state(e,t,"UL")}},wysihtml5.commands.insertList=function(e){var t=function(e,t){if(e&&e.nodeName){"string"==typeof t&&(t=[t]);for(var n=t.length;n--;)if(e.nodeName===t[n])return!0}return!1},n=function(n,i,a){var r,s,o={el:null,other:!1};return n&&(r=e.dom.getParentElement(n,{nodeName:"LI"}),s="UL"===i?"OL":"UL",t(n,i)?o.el=n:t(n,s)?o={el:n,other:!0}:r&&(t(r.parentNode,i)?o.el=r.parentNode:t(r.parentNode,s)&&(o={el:r.parentNode,other:!0}))),o.el&&!a.element.contains(o.el)&&(o.el=null),o},i=function(t,n,i){var a,s="UL"===n?"OL":"UL";i.selection.executeAndRestore(function(){var o,l,c=r(s,i);if(c.length)for(o=c.length;o--;)e.dom.renameElement(c[o],n.toLowerCase());else{for(a=r(["OL","UL"],i),l=a.length;l--;)e.dom.resolveList(a[l],i.config.useLineBreaks);e.dom.resolveList(t,i.config.useLineBreaks)}})},a=function(t,n,i){var a="UL"===n?"OL":"UL";i.selection.executeAndRestore(function(){var s,o=[t].concat(r(a,i));for(s=o.length;s--;)e.dom.renameElement(o[s],n.toLowerCase())})},r=function(e,n){var i,a=n.selection.getOwnRanges(),r=[];for(i=a.length;i--;)r=r.concat(a[i].getNodes([1],function(n){return t(n,e)}));return r},s=function(t,n){n.selection.executeAndRestoreRangy(function(){var i,a,r="_wysihtml5-temp-"+(new Date).getTime(),s=n.selection.deblockAndSurround({nodeName:"div",className:r}),o=/\uFEFF/g;s.innerHTML=s.innerHTML.replace(o,""),s&&(i=e.lang.array(["","<br>",e.INVISIBLE_SPACE]).contains(s.innerHTML),a=e.dom.convertToList(s,t.toLowerCase(),n.parent.config.uneditableContainerClassname),i&&n.selection.selectNode(a.querySelector("li"),!0))})};return{exec:function(e,t,r){var o=e.doc,l="OL"===r?"insertOrderedList":"insertUnorderedList",c=e.selection.getSelectedNode(),d=n(c,r,e);d.el?d.other?a(d.el,r,e):i(d.el,r,e):e.commands.support(l)?o.execCommand(l,!1,null):s(r,e)},state:function(e,t,i){var a=e.selection.getSelectedNode(),r=n(a,i,e);return!(!r.el||r.other)&&r.el}}}(wysihtml5),wysihtml5.commands.italic={exec:function(e,t){wysihtml5.commands.formatInline.execWithToggle(e,t,"i")},state:function(e,t){return wysihtml5.commands.formatInline.state(e,t,"i")}},function(e){var t="wysiwyg-text-align-center",n=/wysiwyg-text-align-[0-9a-z]+/g;e.commands.justifyCenter={exec:function(i){return e.commands.formatBlock.exec(i,"formatBlock",null,t,n)},state:function(i){return e.commands.formatBlock.state(i,"formatBlock",null,t,n)}}}(wysihtml5),function(e){var t="wysiwyg-text-align-left",n=/wysiwyg-text-align-[0-9a-z]+/g;e.commands.justifyLeft={exec:function(i){return e.commands.formatBlock.exec(i,"formatBlock",null,t,n)},state:function(i){return e.commands.formatBlock.state(i,"formatBlock",null,t,n)}}}(wysihtml5),function(e){var t="wysiwyg-text-align-right",n=/wysiwyg-text-align-[0-9a-z]+/g;e.commands.justifyRight={exec:function(i){return e.commands.formatBlock.exec(i,"formatBlock",null,t,n)},state:function(i){return e.commands.formatBlock.state(i,"formatBlock",null,t,n)}}}(wysihtml5),function(e){var t="wysiwyg-text-align-justify",n=/wysiwyg-text-align-[0-9a-z]+/g;e.commands.justifyFull={exec:function(i){return e.commands.formatBlock.exec(i,"formatBlock",null,t,n)},state:function(i){return e.commands.formatBlock.state(i,"formatBlock",null,t,n)}}}(wysihtml5),function(e){var t="text-align: right;",n=/(\s|^)text-align\s*:\s*[^;\s]+;?/gi;e.commands.alignRightStyle={exec:function(i){return e.commands.formatBlock.exec(i,"formatBlock",null,null,null,t,n)},state:function(i){return e.commands.formatBlock.state(i,"formatBlock",null,null,null,t,n)}}}(wysihtml5),function(e){var t="text-align: left;",n=/(\s|^)text-align\s*:\s*[^;\s]+;?/gi;e.commands.alignLeftStyle={exec:function(i){return e.commands.formatBlock.exec(i,"formatBlock",null,null,null,t,n)},state:function(i){return e.commands.formatBlock.state(i,"formatBlock",null,null,null,t,n)}}}(wysihtml5),function(e){var t="text-align: center;",n=/(\s|^)text-align\s*:\s*[^;\s]+;?/gi;e.commands.alignCenterStyle={exec:function(i){return e.commands.formatBlock.exec(i,"formatBlock",null,null,null,t,n)},state:function(i){return e.commands.formatBlock.state(i,"formatBlock",null,null,null,t,n)}}}(wysihtml5),wysihtml5.commands.redo={exec:function(e){return e.undoManager.redo()},state:function(){return!1}},wysihtml5.commands.underline={exec:function(e,t){wysihtml5.commands.formatInline.execWithToggle(e,t,"u")},state:function(e,t){return wysihtml5.commands.formatInline.state(e,t,"u")}},wysihtml5.commands.undo={exec:function(e){return e.undoManager.undo()},state:function(){return!1}},wysihtml5.commands.createTable={exec:function(e,t,n){var i,a,r;if(n&&n.cols&&n.rows&&parseInt(n.cols,10)>0&&parseInt(n.rows,10)>0){for(r=n.tableStyle?'<table style="'+n.tableStyle+'">':"<table>",r+="<tbody>",a=0;a<n.rows;a++){for(r+="<tr>",i=0;i<n.cols;i++)r+="<td>&nbsp;</td>";r+="</tr>"}r+="</tbody></table>",e.commands.exec("insertHTML",r)}},state:function(){return!1}},wysihtml5.commands.mergeTableCells={exec:function(e,t){e.tableSelection&&e.tableSelection.start&&e.tableSelection.end&&(this.state(e,t)?wysihtml5.dom.table.unmergeCell(e.tableSelection.start):wysihtml5.dom.table.mergeCellsBetween(e.tableSelection.start,e.tableSelection.end))},state:function(e){if(e.tableSelection){var t=e.tableSelection.start,n=e.tableSelection.end;if(t&&n&&t==n&&(wysihtml5.dom.getAttribute(t,"colspan")&&parseInt(wysihtml5.dom.getAttribute(t,"colspan"),10)>1||wysihtml5.dom.getAttribute(t,"rowspan")&&parseInt(wysihtml5.dom.getAttribute(t,"rowspan"),10)>1))return[t]}return!1}},wysihtml5.commands.addTableCells={exec:function(e,t,n){if(e.tableSelection&&e.tableSelection.start&&e.tableSelection.end){var i=wysihtml5.dom.table.orderSelectionEnds(e.tableSelection.start,e.tableSelection.end);"before"==n||"above"==n?wysihtml5.dom.table.addCells(i.start,n):("after"==n||"below"==n)&&wysihtml5.dom.table.addCells(i.end,n),setTimeout(function(){e.tableSelection.select(i.start,i.end)},0)}},state:function(){return!1}},wysihtml5.commands.deleteTableCells={exec:function(e,t,n){if(e.tableSelection&&e.tableSelection.start&&e.tableSelection.end){var i,a=wysihtml5.dom.table.orderSelectionEnds(e.tableSelection.start,e.tableSelection.end),r=wysihtml5.dom.table.indexOf(a.start),s=e.tableSelection.table;wysihtml5.dom.table.removeCells(a.start,n),setTimeout(function(){i=wysihtml5.dom.table.findCell(s,r),i||("row"==n&&(i=wysihtml5.dom.table.findCell(s,{row:r.row-1,col:r.col})),"column"==n&&(i=wysihtml5.dom.table.findCell(s,{row:r.row,col:r.col-1}))),i&&e.tableSelection.select(i,i)},0)}},state:function(){return!1}},wysihtml5.commands.indentList={exec:function(e){var t=e.selection.getSelectionParentsByTag("LI");return!!t&&this.tryToPushLiLevel(t,e.selection)},state:function(){return!1},tryToPushLiLevel:function(e,t){var n,i,a,r,s,o=!1;return t.executeAndRestoreRangy(function(){for(var t=e.length;t--;)r=e[t],n="OL"===r.parentNode.nodeName?"OL":"UL",i=r.ownerDocument.createElement(n),a=wysihtml5.dom.domNode(r).prev({nodeTypes:[wysihtml5.ELEMENT_NODE]}),s=a?a.querySelector("ul, ol"):null,a&&(s?s.appendChild(r):(i.appendChild(r),a.appendChild(i)),o=!0)}),o}},wysihtml5.commands.outdentList={exec:function(e){var t=e.selection.getSelectionParentsByTag("LI");return!!t&&this.tryToPullLiLevel(t,e)},state:function(){return!1},tryToPullLiLevel:function(e,t){var n,i,a,r,s,o=!1,l=this;return t.selection.executeAndRestoreRangy(function(){var c,d;for(c=e.length;c--;)if(r=e[c],r.parentNode&&(n=r.parentNode,"OL"===n.tagName||"UL"===n.tagName)){if(o=!0,i=wysihtml5.dom.getParentElement(n.parentNode,{nodeName:["OL","UL"]},!1,t.element),a=wysihtml5.dom.getParentElement(n.parentNode,{nodeName:["LI"]},!1,t.element),i&&a)r.nextSibling&&(s=l.getAfterList(n,r),r.appendChild(s)),i.insertBefore(r,a.nextSibling);else{for(r.nextSibling&&(s=l.getAfterList(n,r),r.appendChild(s)),d=r.childNodes.length;d--;)n.parentNode.insertBefore(r.childNodes[d],n.nextSibling);n.parentNode.insertBefore(document.createElement("br"),n.nextSibling),r.parentNode.removeChild(r)}0===n.childNodes.length&&n.parentNode.removeChild(n)}}),o},getAfterList:function(e,t){for(var n=e.nodeName,i=document.createElement(n);t.nextSibling;)i.appendChild(t.nextSibling);return i}},function(e){var t="data-wysihtml5-selection-node",n="data-wysihtml5-selection-offset",i=(e.INVISIBLE_SPACE,e.INVISIBLE_SPACE,e.dom);e.UndoManager=e.lang.Dispatcher.extend({constructor:function(e){this.editor=e,this.composer=e.composer,this.element=this.composer.element,this.position=0,this.historyStr=[],this.historyDom=[],this.transact(),this._observe()},_observe:function(){var e,t=this;this.composer.sandbox.getDocument(),i.observe(this.element,"keydown",function(e){if(!e.altKey&&(e.ctrlKey||e.metaKey)){var n=e.keyCode,i=90===n&&!e.shiftKey,a=90===n&&e.shiftKey||89===n;i?(t.undo(),e.preventDefault()):a&&(t.redo(),e.preventDefault())}}),i.observe(this.element,"keydown",function(n){var i=n.keyCode;i!==e&&(e=i,(8===i||46===i)&&t.transact())}),this.editor.on("newword:composer",function(){t.transact()}).on("beforecommand:composer",function(){t.transact()})},transact:function(){var i,a,r,s,o,l,c,d=this.historyStr[this.position-1],u=this.composer.getValue(!1,!1),h=this.element.offsetWidth>0&&this.element.offsetHeight>0;u!==d&&(l=this.historyStr.length=this.historyDom.length=this.position,l>25&&(this.historyStr.shift(),this.historyDom.shift(),this.position--),this.position++,h&&(i=this.composer.selection.getRange(),a=i&&i.startContainer?i.startContainer:this.element,r=i&&i.startOffset?i.startOffset:0,a.nodeType===e.ELEMENT_NODE?s=a:(s=a.parentNode,o=this.getChildNodeIndex(s,a)),s.setAttribute(n,r),void 0!==o&&s.setAttribute(t,o)),c=this.element.cloneNode(!!u),this.historyDom.push(c),this.historyStr.push(u),s&&(s.removeAttribute(n),s.removeAttribute(t)))},undo:function(){this.transact(),this.undoPossible()&&(this.set(this.historyDom[--this.position-1]),this.editor.fire("undo:composer"))},redo:function(){this.redoPossible()&&(this.set(this.historyDom[++this.position-1]),this.editor.fire("redo:composer"))},undoPossible:function(){return this.position>1},redoPossible:function(){return this.position<this.historyStr.length},set:function(e){var i,a,r,s,o,l;for(this.element.innerHTML="",i=0,a=e.childNodes,r=e.childNodes.length;r>i;i++)this.element.appendChild(a[i].cloneNode(!0));e.hasAttribute(n)?(s=e.getAttribute(n),l=e.getAttribute(t),o=this.element):(o=this.element.querySelector("["+n+"]")||this.element,s=o.getAttribute(n),l=o.getAttribute(t),o.removeAttribute(n),o.removeAttribute(t)),null!==l&&(o=this.getChildNodeByIndex(o,+l)),this.composer.selection.set(o,s)},getChildNodeIndex:function(e,t){for(var n=0,i=e.childNodes,a=i.length;a>n;n++)if(i[n]===t)return n},getChildNodeByIndex:function(e,t){return e.childNodes[t]}})}(wysihtml5),wysihtml5.views.View=Base.extend({constructor:function(e,t,n){this.parent=e,this.element=t,this.config=n,this.config.noTextarea||this._observeViewChange()},_observeViewChange:function(){var e=this;this.parent.on("beforeload",function(){e.parent.on("change_view",function(t){t===e.name?(e.parent.currentView=e,e.show(),setTimeout(function(){e.focus()},0)):e.hide()})})},focus:function(){if(this.element.ownerDocument.querySelector(":focus")!==this.element)try{this.element.focus()}catch(e){}},hide:function(){this.element.style.display="none"},show:function(){this.element.style.display=""},disable:function(){this.element.setAttribute("disabled","disabled")},enable:function(){this.element.removeAttribute("disabled")}}),function(e){var t=e.dom,n=e.browser;e.views.Composer=e.views.View.extend({name:"composer",CARET_HACK:"<br>",constructor:function(e,t,n){this.base(e,t,n),this.config.noTextarea?this.editableArea=t:this.textarea=this.parent.textarea,this.config.contentEditableMode?this._initContentEditableArea():this._initSandbox()},clear:function(){this.element.innerHTML=n.displaysCaretInEmptyContentEditableCorrectly()?"":this.CARET_HACK},getValue:function(t,n){var i=this.isEmpty()?"":e.quirks.getCorrectInnerHTML(this.element);return!1!==t&&(i=this.parent.parse(i,!1!==n)),i},setValue:function(e,t){t&&(e=this.parent.parse(e));try{this.element.innerHTML=e}catch(t){this.element.innerText=e}},cleanUp:function(){this.parent.parse(this.element)},show:function(){this.editableArea.style.display=this._displayStyle||"",this.config.noTextarea||this.textarea.element.disabled||(this.disable(),this.enable())},hide:function(){this._displayStyle=t.getStyle("display").from(this.editableArea),"none"===this._displayStyle&&(this._displayStyle=null),this.editableArea.style.display="none"},disable:function(){this.parent.fire("disable:composer"),this.element.removeAttribute("contentEditable")},enable:function(){this.parent.fire("enable:composer"),this.element.setAttribute("contentEditable","true")},focus:function(t){e.browser.doesAsyncFocus()&&this.hasPlaceholderSet()&&this.clear(),this.base();var n=this.element.lastChild;t&&n&&this.selection&&("BR"===n.nodeName?this.selection.setBefore(this.element.lastChild):this.selection.setAfter(this.element.lastChild))},getTextContent:function(){return t.getTextContent(this.element)},hasPlaceholderSet:function(){return this.getTextContent()==(this.config.noTextarea?this.editableArea.getAttribute("data-placeholder"):this.textarea.element.getAttribute("placeholder"))&&this.placeholderSet},isEmpty:function(){var e=this.element.innerHTML.toLowerCase();return/^(\s|<br>|<\/br>|<p>|<\/p>)*$/i.test(e)||""===e||"<br>"===e||"<p></p>"===e||"<p><br></p>"===e||this.hasPlaceholderSet()},_initContentEditableArea:function(){var e=this;this.config.noTextarea?this.sandbox=new t.ContentEditableArea(function(){e._create()},{},this.editableArea):(this.sandbox=new t.ContentEditableArea(function(){e._create()}),this.editableArea=this.sandbox.getContentEditable(),t.insert(this.editableArea).after(this.textarea.element),this._createWysiwygFormField())},_initSandbox:function(){var e,n=this;this.sandbox=new t.Sandbox(function(){n._create()},{stylesheets:this.config.stylesheets}),this.editableArea=this.sandbox.getIframe(),e=this.textarea.element,t.insert(this.editableArea).after(e),this._createWysiwygFormField()},_createWysiwygFormField:function(){if(this.textarea.element.form){var e=document.createElement("input");e.type="hidden",e.name="_wysihtml5_mode",e.value=1,t.insert(e).after(this.textarea.element)}},_create:function(){var i,a,r=this;this.doc=this.sandbox.getDocument(),this.element=this.config.contentEditableMode?this.sandbox.getContentEditable():this.doc.body,this.config.noTextarea?this.cleanUp():(this.textarea=this.parent.textarea,this.element.innerHTML=this.textarea.getValue(!0,!1)),this.selection=new e.Selection(this.parent,this.element,this.config.uneditableContainerClassname),this.commands=new e.Commands(this.parent),this.config.noTextarea||t.copyAttributes(["className","spellcheck","title","lang","dir","accessKey"]).from(this.textarea.element).to(this.element),t.addClass(this.element,this.config.composerClassName),this.config.style&&!this.config.contentEditableMode&&this.style(),this.observe(),i=this.config.name,i&&(t.addClass(this.element,i),this.config.contentEditableMode||t.addClass(this.editableArea,i)),this.enable(),!this.config.noTextarea&&this.textarea.element.disabled&&this.disable(),a="string"==typeof this.config.placeholder?this.config.placeholder:this.config.noTextarea?this.editableArea.getAttribute("data-placeholder"):this.textarea.element.getAttribute("placeholder"),a&&t.simulatePlaceholder(this.parent,this,a),this.commands.exec("styleWithCSS",!1),this._initAutoLinking(),this._initObjectResizing(),this._initUndoManager(),this._initLineBreaking(),this.config.noTextarea||!this.textarea.element.hasAttribute("autofocus")&&document.querySelector(":focus")!=this.textarea.element||n.isIos()||setTimeout(function(){r.focus(!0)},100),n.clearsContentEditableCorrectly()||e.quirks.ensureProperClearing(this),this.initSync&&this.config.sync&&this.initSync(),this.config.noTextarea||this.textarea.hide(),this.parent.fire("beforeload").fire("load")},_initAutoLinking:function(){var i,a,r,s=this,o=n.canDisableAutoLinking(),l=n.doesAutoLinkingInContentEditable();o&&this.commands.exec("autoUrlDetect",!1),this.config.autoLink&&((!l||l&&o)&&(this.parent.on("newword:composer",function(){t.getTextContent(s.element).match(t.autoLink.URL_REG_EXP)&&s.selection.executeAndRestore(function(n,i){var a,r=s.element.querySelectorAll("."+s.config.uneditableContainerClassname),o=!1;for(a=r.length;a--;)e.dom.contains(r[a],i)&&(o=!0);o||t.autoLink(i.parentNode,[s.config.uneditableContainerClassname])})}),t.observe(this.element,"blur",function(){t.autoLink(s.element,[s.config.uneditableContainerClassname])})),i=this.sandbox.getDocument().getElementsByTagName("a"),a=t.autoLink.URL_REG_EXP,r=function(n){var i=e.lang.string(t.getTextContent(n)).trim();return"www."===i.substr(0,4)&&(i="http://"+i),i},t.observe(this.element,"keydown",function(e){if(i.length){var n,o=s.selection.getSelectedNode(e.target.ownerDocument),l=t.getParentElement(o,{nodeName:"A"},4);l&&(n=r(l),setTimeout(function(){var e=r(l);e!==n&&e.match(a)&&l.setAttribute("href",e)},0))}}))},_initObjectResizing:function(){if(this.commands.exec("enableObjectResizing",!0),n.supportsEvent("resizeend")){var i=["width","height"],a=i.length,r=this.element;t.observe(r,"resizeend",function(t){var n,s=t.target||t.srcElement,o=s.style,l=0;if("IMG"===s.nodeName){for(;a>l;l++)n=i[l],o[n]&&(s.setAttribute(n,parseInt(o[n],10)),o[n]="");e.quirks.redraw(r)}})}},_initUndoManager:function(){this.undoManager=new e.UndoManager(this.parent)},_initLineBreaking:function(){function i(e){var n=t.getParentElement(e,{nodeName:["P","DIV"]},2);n&&t.contains(a.element,n)&&a.selection.executeAndRestore(function(){a.config.useLineBreaks?t.replaceWithChildNodes(n):"P"!==n.nodeName&&t.renameElement(n,"p")})}var a=this,r=["LI","P","H1","H2","H3","H4","H5","H6"],s=["UL","OL","MENU"];this.config.useLineBreaks||t.observe(this.element,["focus","keydown"],function(){if(a.isEmpty()){var e=a.doc.createElement("P");a.element.innerHTML="",a.element.appendChild(e),n.displaysCaretInEmptyContentEditableCorrectly()?a.selection.selectNode(e,!0):(e.innerHTML="<br>",a.selection.setBefore(e.firstChild))}}),t.observe(this.element,"keydown",function(n){var o,l=n.keyCode;if(!n.shiftKey&&(l===e.ENTER_KEY||l===e.BACKSPACE_KEY))return o=t.getParentElement(a.selection.getSelectedNode(),{nodeName:r},4),o?void setTimeout(function(){var n=a.selection.getSelectedNode();if("LI"===o.nodeName){if(!n)return;t.getParentElement(n,{nodeName:s},2)||i(n)}l===e.ENTER_KEY&&o.nodeName.match(/^H[1-6]$/)&&i(n)},0):void(a.config.useLineBreaks&&l===e.ENTER_KEY&&!e.browser.insertsLineBreaksOnReturn()&&(n.preventDefault(),a.commands.exec("insertLineBreak")))})}})}(wysihtml5),function(e){
var t=e.dom,n=document,i=window,a=n.createElement("div"),r=["background-color","color","cursor","font-family","font-size","font-style","font-variant","font-weight","line-height","letter-spacing","text-align","text-decoration","text-indent","text-rendering","word-break","word-wrap","word-spacing"],s=["background-color","border-collapse","border-bottom-color","border-bottom-style","border-bottom-width","border-left-color","border-left-style","border-left-width","border-right-color","border-right-style","border-right-width","border-top-color","border-top-style","border-top-width","clear","display","float","margin-bottom","margin-left","margin-right","margin-top","outline-color","outline-offset","outline-width","outline-style","padding-left","padding-right","padding-top","padding-bottom","position","top","left","right","bottom","z-index","vertical-align","text-align","-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing","-webkit-box-shadow","-moz-box-shadow","-ms-box-shadow","box-shadow","-webkit-border-top-right-radius","-moz-border-radius-topright","border-top-right-radius","-webkit-border-bottom-right-radius","-moz-border-radius-bottomright","border-bottom-right-radius","-webkit-border-bottom-left-radius","-moz-border-radius-bottomleft","border-bottom-left-radius","-webkit-border-top-left-radius","-moz-border-radius-topleft","border-top-left-radius","width","height"],o=["html                 { height: 100%; }","body                 { height: 100%; padding: 1px 0 0 0; margin: -1px 0 0 0; }","body > p:first-child { margin-top: 0; }","._wysihtml5-temp     { display: none; }",e.browser.isGecko?"body.placeholder { color: graytext !important; }":"body.placeholder { color: #a9a9a9 !important; }","img:-moz-broken      { -moz-force-broken-image-icon: 1; height: 24px; width: 24px; }"],l=function(e){if(e.setActive)try{e.setActive()}catch(e){}else{var a=e.style,r=n.documentElement.scrollTop||n.body.scrollTop,s=n.documentElement.scrollLeft||n.body.scrollLeft,o={position:a.position,top:a.top,left:a.left,WebkitUserSelect:a.WebkitUserSelect};t.setStyles({position:"absolute",top:"-99999px",left:"-99999px",WebkitUserSelect:"none"}).on(e),e.focus(),t.setStyles(o).on(e),i.scrollTo&&i.scrollTo(s,r)}};e.views.Composer.prototype.style=function(){var i,c,d=this,u=n.querySelector(":focus"),h=this.textarea.element,f=h.hasAttribute("placeholder"),p=f&&h.getAttribute("placeholder"),m=h.style.display,g=h.disabled;return this.focusStylesHost=a.cloneNode(!1),this.blurStylesHost=a.cloneNode(!1),this.disabledStylesHost=a.cloneNode(!1),f&&h.removeAttribute("placeholder"),h===u&&h.blur(),h.disabled=!1,h.style.display=i="none",(h.getAttribute("rows")&&"auto"===t.getStyle("height").from(h)||h.getAttribute("cols")&&"auto"===t.getStyle("width").from(h))&&(h.style.display=i=m),t.copyStyles(s).from(h).to(this.editableArea).andTo(this.blurStylesHost),t.copyStyles(r).from(h).to(this.element).andTo(this.blurStylesHost),t.insertCSS(o).into(this.element.ownerDocument),h.disabled=!0,t.copyStyles(s).from(h).to(this.disabledStylesHost),t.copyStyles(r).from(h).to(this.disabledStylesHost),h.disabled=g,h.style.display=m,l(h),h.style.display=i,t.copyStyles(s).from(h).to(this.focusStylesHost),t.copyStyles(r).from(h).to(this.focusStylesHost),h.style.display=m,t.copyStyles(["display"]).from(h).to(this.editableArea),c=e.lang.array(s).without(["display"]),u?u.focus():h.blur(),f&&h.setAttribute("placeholder",p),this.parent.on("focus:composer",function(){t.copyStyles(c).from(d.focusStylesHost).to(d.editableArea),t.copyStyles(r).from(d.focusStylesHost).to(d.element)}),this.parent.on("blur:composer",function(){t.copyStyles(c).from(d.blurStylesHost).to(d.editableArea),t.copyStyles(r).from(d.blurStylesHost).to(d.element)}),this.parent.observe("disable:composer",function(){t.copyStyles(c).from(d.disabledStylesHost).to(d.editableArea),t.copyStyles(r).from(d.disabledStylesHost).to(d.element)}),this.parent.observe("enable:composer",function(){t.copyStyles(c).from(d.blurStylesHost).to(d.editableArea),t.copyStyles(r).from(d.blurStylesHost).to(d.element)}),this}}(wysihtml5),function(e){var t=e.dom,n=e.browser,i={66:"bold",73:"italic",85:"underline"},a=function(e,t,n){var i,a=e.getPreviousNode(t,!0),r=e.getSelectedNode();if(1!==r.nodeType&&r.parentNode!==n&&(r=r.parentNode),a)if(1==r.nodeType){if(i=r.firstChild,1==a.nodeType)for(;r.firstChild;)a.appendChild(r.firstChild);else for(;r.firstChild;)t.parentNode.insertBefore(r.firstChild,t);r.parentNode&&r.parentNode.removeChild(r),e.setBefore(i)}else 1==a.nodeType?a.appendChild(r):t.parentNode.insertBefore(r,t),e.setBefore(r)},r=function(e,t,n,i){var r,s,o;t.isCollapsed()?t.caretIsInTheBeginnig("LI")?(e.preventDefault(),i.commands.exec("outdentList")):t.caretIsInTheBeginnig()?e.preventDefault():(t.caretIsFirstInSelection()&&t.getPreviousNode()&&t.getPreviousNode().nodeName&&/^H\d$/gi.test(t.getPreviousNode().nodeName)&&(r=t.getPreviousNode(),e.preventDefault(),/^\s*$/.test(r.textContent||r.innerText)?r.parentNode.removeChild(r):(s=r.ownerDocument.createRange(),s.selectNodeContents(r),s.collapse(!1),t.setSelection(s))),(o=t.caretIsBeforeUneditable())&&(e.preventDefault(),a(t,o,n))):t.containsUneditable()&&(e.preventDefault(),t.deleteContents())},s=function(e){if(e.selection.isCollapsed()){if(e.selection.caretIsInTheBeginnig("LI")&&e.commands.exec("indentList"))return}else e.selection.deleteContents();e.commands.exec("insertHTML","&emsp;")};e.views.Composer.prototype.observe=function(){var a,o,l=this,c=this.getValue(!1,!1),d=this.sandbox.getIframe?this.sandbox.getIframe():this.sandbox.getContentEditable(),u=this.element,h=n.supportsEventsInIframeCorrectly()||this.sandbox.getContentEditable?u:this.sandbox.getWindow(),f=["drop","paste","beforepaste"],p=["drop","paste","mouseup","focus","keyup"];t.observe(d,"DOMNodeRemoved",function(){clearInterval(a),l.parent.fire("destroy:composer")}),n.supportsMutationEvents()||(a=setInterval(function(){t.contains(document.documentElement,d)||(clearInterval(a),l.parent.fire("destroy:composer"))},250)),t.observe(h,p,function(){setTimeout(function(){l.parent.fire("interaction").fire("interaction:composer")},0)}),this.config.handleTables&&(!this.tableClickHandle&&this.doc.execCommand&&e.browser.supportsCommand(this.doc,"enableObjectResizing")&&e.browser.supportsCommand(this.doc,"enableInlineTableEditing")&&(this.sandbox.getIframe?this.tableClickHandle=t.observe(d,["focus","mouseup","mouseover"],function(){l.doc.execCommand("enableObjectResizing",!1,"false"),l.doc.execCommand("enableInlineTableEditing",!1,"false"),l.tableClickHandle.stop()}):setTimeout(function(){l.doc.execCommand("enableObjectResizing",!1,"false"),l.doc.execCommand("enableInlineTableEditing",!1,"false")},0)),this.tableSelection=e.quirks.tableCellsSelection(u,l.parent)),t.observe(h,"focus",function(e){l.parent.fire("focus",e).fire("focus:composer",e),setTimeout(function(){c=l.getValue(!1,!1)},0)}),t.observe(h,"blur",function(e){if(c!==l.getValue(!1,!1)){var t=e;"function"==typeof Object.create&&(t=Object.create(e,{type:{value:"change"}})),l.parent.fire("change",t).fire("change:composer",t)}l.parent.fire("blur",e).fire("blur:composer",e)}),t.observe(u,"dragenter",function(){l.parent.fire("unset_placeholder")}),t.observe(u,f,function(e){l.parent.fire(e.type,e).fire(e.type+":composer",e)}),this.config.copyedFromMarking&&t.observe(u,"copy",function(e){e.clipboardData&&(e.clipboardData.setData("text/html",l.config.copyedFromMarking+l.selection.getHtml()),e.preventDefault()),l.parent.fire(e.type,e).fire(e.type+":composer",e)}),t.observe(u,"keyup",function(t){var n=t.keyCode;(n===e.SPACE_KEY||n===e.ENTER_KEY)&&l.parent.fire("newword:composer")}),this.parent.on("paste:composer",function(){setTimeout(function(){l.parent.fire("newword:composer")},0)}),n.canSelectImagesInContentEditable()||t.observe(u,"mousedown",function(t){var n=t.target,i=u.querySelectorAll("img"),a=u.querySelectorAll("."+l.config.uneditableContainerClassname+" img"),r=e.lang.array(i).without(a);"IMG"===n.nodeName&&e.lang.array(r).contains(n)&&l.selection.selectNode(n)}),n.canSelectImagesInContentEditable()||t.observe(u,"drop",function(){setTimeout(function(){l.selection.getSelection().removeAllRanges()},0)}),n.hasHistoryIssue()&&n.supportsSelectionModify()&&t.observe(u,"keydown",function(e){if(e.metaKey||e.ctrlKey){var t=e.keyCode,n=u.ownerDocument.defaultView,i=n.getSelection();(37===t||39===t)&&(37===t&&(i.modify("extend","left","lineboundary"),e.shiftKey||i.collapseToStart()),39===t&&(i.modify("extend","right","lineboundary"),e.shiftKey||i.collapseToEnd()),e.preventDefault())}}),t.observe(u,"keydown",function(e){var t=e.keyCode,n=i[t];(e.ctrlKey||e.metaKey)&&!e.altKey&&n&&(l.commands.exec(n),e.preventDefault()),8===t?r(e,l.selection,u,l):l.config.handleTabKey&&9===t&&(e.preventDefault(),s(l))}),t.observe(u,"keydown",function(t){var n,i=l.selection.getSelectedNode(!0),a=t.keyCode;!i||"IMG"!==i.nodeName||a!==e.BACKSPACE_KEY&&a!==e.DELETE_KEY||(n=i.parentNode,n.removeChild(i),"A"!==n.nodeName||n.firstChild||n.parentNode.removeChild(n),setTimeout(function(){e.quirks.redraw(u)},0),t.preventDefault())}),!this.config.contentEditableMode&&n.hasIframeFocusIssue()&&(t.observe(d,"focus",function(){setTimeout(function(){l.doc.querySelector(":focus")!==l.element&&l.focus()},0)}),t.observe(this.element,"blur",function(){setTimeout(function(){l.selection.getSelection().removeAllRanges()},0)})),o={IMG:"Image: ",A:"Link: "},t.observe(u,"mouseover",function(e){var t,n=e.target,i=n.nodeName;("A"===i||"IMG"===i)&&(n.hasAttribute("title")||(t=o[i]+(n.getAttribute("href")||n.getAttribute("src")),n.setAttribute("title",t)))})}}(wysihtml5),function(e){e.views.Synchronizer=Base.extend({constructor:function(e,t,n){this.editor=e,this.textarea=t,this.composer=n,this._observe()},fromComposerToTextarea:function(t){this.textarea.setValue(e.lang.string(this.composer.getValue(!1,!1)).trim(),t)},fromTextareaToComposer:function(e){var t=this.textarea.getValue(!1,!1);t?this.composer.setValue(t,e):(this.composer.clear(),this.editor.fire("set_placeholder"))},sync:function(e){"textarea"===this.editor.currentView.name?this.fromTextareaToComposer(e):this.fromComposerToTextarea(e)},_observe:function(){var t,n=this,i=this.textarea.element.form,a=function(){t=setInterval(function(){n.fromComposerToTextarea()},400)},r=function(){clearInterval(t),t=null};a(),i&&(e.dom.observe(i,"submit",function(){n.sync(!0)}),e.dom.observe(i,"reset",function(){setTimeout(function(){n.fromTextareaToComposer()},0)})),this.editor.on("change_view",function(e){"composer"!==e||t?"textarea"===e&&(n.fromComposerToTextarea(!0),r()):(n.fromTextareaToComposer(!0),a())}),this.editor.on("destroy:composer",r)}})}(wysihtml5),wysihtml5.views.Textarea=wysihtml5.views.View.extend({name:"textarea",constructor:function(e,t,n){this.base(e,t,n),this._observe()},clear:function(){this.element.value=""},getValue:function(e){var t=this.isEmpty()?"":this.element.value;return!1!==e&&(t=this.parent.parse(t)),t},setValue:function(e,t){t&&(e=this.parent.parse(e)),this.element.value=e},cleanUp:function(){var e=this.parent.parse(this.element.value);this.element.value=e},hasPlaceholderSet:function(){var e=wysihtml5.browser.supportsPlaceholderAttributeOn(this.element),t=this.element.getAttribute("placeholder")||null,n=this.element.value,i=!n;return e&&i||n===t},isEmpty:function(){return!wysihtml5.lang.string(this.element.value).trim()||this.hasPlaceholderSet()},_observe:function(){var e=this.element,t=this.parent,n={focusin:"focus",focusout:"blur"},i=wysihtml5.browser.supportsEvent("focusin")?["focusin","focusout","change"]:["focus","blur","change"];t.on("beforeload",function(){wysihtml5.dom.observe(e,i,function(e){var i=n[e.type]||e.type;t.fire(i).fire(i+":textarea")}),wysihtml5.dom.observe(e,["paste","drop"],function(){setTimeout(function(){t.fire("paste").fire("paste:textarea")},0)})})}}),function(e){var t,n={name:t,style:!0,toolbar:t,showToolbarAfterInit:!0,autoLink:!0,handleTables:!0,handleTabKey:!0,parserRules:{tags:{br:{},span:{},div:{},p:{}},classes:{}},pasteParserRulesets:null,parser:e.dom.parse,composerClassName:"wysihtml5-editor",bodyClassName:"wysihtml5-supported",useLineBreaks:!0,stylesheets:[],placeholderText:t,supportTouchDevices:!0,cleanUp:!0,contentEditableMode:!1,uneditableContainerClassname:"wysihtml5-uneditable-container",copyedFromMarking:'<meta name="copied-from" content="wysihtml5">'};e.Editor=e.lang.Dispatcher.extend({constructor:function(t,i){if(this.editableElement="string"==typeof t?document.getElementById(t):t,this.config=e.lang.object({}).merge(n).merge(i).get(),this._isCompatible=e.browser.supported(),"textarea"!=this.editableElement.nodeName.toLowerCase()&&(this.config.contentEditableMode=!0,this.config.noTextarea=!0),this.config.noTextarea||(this.textarea=new e.views.Textarea(this,this.editableElement,this.config),this.currentView=this.textarea),!this._isCompatible||!this.config.supportTouchDevices&&e.browser.isTouchDevice()){var a=this;return void setTimeout(function(){a.fire("beforeload").fire("load")},0)}e.dom.addClass(document.body,this.config.bodyClassName),this.composer=new e.views.Composer(this,this.editableElement,this.config),this.currentView=this.composer,"function"==typeof this.config.parser&&this._initParser(),this.on("beforeload",this.handleBeforeLoad)},handleBeforeLoad:function(){this.config.noTextarea||(this.synchronizer=new e.views.Synchronizer(this,this.textarea,this.composer)),this.config.toolbar&&(this.toolbar=new e.toolbar.Toolbar(this,this.config.toolbar,this.config.showToolbarAfterInit))},isCompatible:function(){return this._isCompatible},clear:function(){return this.currentView.clear(),this},getValue:function(e,t){return this.currentView.getValue(e,t)},setValue:function(e,t){return this.fire("unset_placeholder"),e?(this.currentView.setValue(e,t),this):this.clear()},cleanUp:function(){this.currentView.cleanUp()},focus:function(e){return this.currentView.focus(e),this},disable:function(){return this.currentView.disable(),this},enable:function(){return this.currentView.enable(),this},isEmpty:function(){return this.currentView.isEmpty()},hasPlaceholderSet:function(){return this.currentView.hasPlaceholderSet()},parse:function(t,n){var i=this.config.contentEditableMode?document:this.composer?this.composer.sandbox.getDocument():null,a=this.config.parser(t,{rules:this.config.parserRules,cleanUp:this.config.cleanUp,context:i,uneditableClass:this.config.uneditableContainerClassname,clearInternals:n});return"object"==typeof t&&e.quirks.redraw(t),a},_initParser:function(){var t,n=this;e.browser.supportsModenPaste()?this.on("paste:composer",function(i){i.preventDefault(),(t=e.dom.getPastedHtml(i))&&n._cleanAndPaste(t)}):this.on("beforepaste:composer",function(t){t.preventDefault(),e.dom.getPastedHtmlWithDiv(n.composer,function(e){e&&n._cleanAndPaste(e)})})},_cleanAndPaste:function(t){var n=e.quirks.cleanPastedHTML(t,{referenceNode:this.composer.element,rules:this.config.pasteParserRulesets||[{set:this.config.parserRules}],uneditableClass:this.config.uneditableContainerClassname});this.composer.selection.deleteContents(),this.composer.selection.insertHTML(n)}})}(wysihtml5),function(e){var t=e.dom,n="wysihtml5-command-dialog-opened",i="input, select, textarea",a="[data-wysihtml5-dialog-field]",r="data-wysihtml5-dialog-field";e.toolbar.Dialog=e.lang.Dispatcher.extend({constructor:function(e,t){this.link=e,this.container=t},_observe:function(){var a,r,s,o,l,c;if(!this._observed){for(a=this,r=function(e){var t=a._serialize();t==a.elementToChange?a.fire("edit",t):a.fire("save",t),a.hide(),e.preventDefault(),e.stopPropagation()},t.observe(a.link,"click",function(){t.hasClass(a.link,n)&&setTimeout(function(){a.hide()},0)}),t.observe(this.container,"keydown",function(t){var n=t.keyCode;n===e.ENTER_KEY&&r(t),n===e.ESCAPE_KEY&&(a.fire("cancel"),a.hide())}),t.delegate(this.container,"[data-wysihtml5-dialog-action=save]","click",r),t.delegate(this.container,"[data-wysihtml5-dialog-action=cancel]","click",function(e){a.fire("cancel"),a.hide(),e.preventDefault(),e.stopPropagation()}),s=this.container.querySelectorAll(i),o=0,l=s.length,c=function(){clearInterval(a.interval)};l>o;o++)t.observe(s[o],"change",c);this._observed=!0}},_serialize:function(){for(var e=this.elementToChange||{},t=this.container.querySelectorAll(a),n=t.length,i=0;n>i;i++)e[t[i].getAttribute(r)]=t[i].value;return e},_interpolate:function(e){for(var t,n,i,s=document.querySelector(":focus"),o=this.container.querySelectorAll(a),l=o.length,c=0;l>c;c++)(t=o[c])!==s&&(e&&"hidden"===t.type||(n=t.getAttribute(r),i=this.elementToChange&&"boolean"!=typeof this.elementToChange?this.elementToChange.getAttribute(n)||"":t.defaultValue,t.value=i))},show:function(e){if(!t.hasClass(this.link,n)){var a=this,r=this.container.querySelector(i);if(this.elementToChange=e,this._observe(),this._interpolate(),e&&(this.interval=setInterval(function(){a._interpolate(!0)},500)),t.addClass(this.link,n),this.container.style.display="",this.fire("show"),r&&!e)try{r.focus()}catch(e){}}},hide:function(){clearInterval(this.interval),this.elementToChange=null,t.removeClass(this.link,n),this.container.style.display="none",this.fire("hide")}})}(wysihtml5),function(e){var t=e.dom,n={position:"relative"},i={left:0,margin:0,opacity:0,overflow:"hidden",padding:0,position:"absolute",top:0,zIndex:1},a={cursor:"inherit",fontSize:"50px",height:"50px",marginTop:"-25px",outline:0,padding:0,position:"absolute",right:"-4px",top:"50%"},r={"x-webkit-speech":"",speech:""};e.toolbar.Speech=function(s,o){var l,c,d,u=document.createElement("input");return e.browser.supportsSpeechApiOn(u)?(l=s.editor.textarea.element.getAttribute("lang"),l&&(r.lang=l),c=document.createElement("div"),e.lang.object(i).merge({width:o.offsetWidth+"px",height:o.offsetHeight+"px"}),t.insert(u).into(c),t.insert(c).into(o),t.setStyles(a).on(u),t.setAttributes(r).on(u),t.setStyles(i).on(c),t.setStyles(n).on(o),d="onwebkitspeechchange"in u?"webkitspeechchange":"speechchange",t.observe(u,d,function(){s.execCommand("insertText",u.value),u.value=""}),void t.observe(u,"click",function(e){t.hasClass(o,"wysihtml5-command-disabled")&&e.preventDefault(),e.stopPropagation()})):void(o.style.display="none")}}(wysihtml5),function(e){var t="wysihtml5-command-disabled",n="wysihtml5-commands-disabled",i="wysihtml5-command-active",a="wysihtml5-action-active",r=e.dom;e.toolbar.Toolbar=Base.extend({constructor:function(r,s,o){this.editor=r,this.container="string"==typeof s?document.getElementById(s):s,this.composer=r.composer,this._getLinks("command"),this._getLinks("action"),this._observe(),o&&this.show(),null!=r.config.classNameCommandDisabled&&(t=r.config.classNameCommandDisabled),null!=r.config.classNameCommandsDisabled&&(n=r.config.classNameCommandsDisabled),null!=r.config.classNameCommandActive&&(i=r.config.classNameCommandActive),null!=r.config.classNameActionActive&&(a=r.config.classNameActionActive);for(var l=this.container.querySelectorAll("[data-wysihtml5-command=insertSpeech]"),c=l.length,d=0;c>d;d++)new e.toolbar.Speech(this,l[d])},_getLinks:function(t){for(var n,i,a,r,s,o=this[t+"Links"]=e.lang.array(this.container.querySelectorAll("[data-wysihtml5-"+t+"]")).get(),l=o.length,c=0,d=this[t+"Mapping"]={};l>c;c++)n=o[c],a=n.getAttribute("data-wysihtml5-"+t),r=n.getAttribute("data-wysihtml5-"+t+"-value"),i=this.container.querySelector("[data-wysihtml5-"+t+"-group='"+a+"']"),s=this._getDialog(n,a),d[a+":"+r]={link:n,group:i,name:a,value:r,dialog:s,state:!1}},_getDialog:function(t,n){var i,a,r=this,s=this.container.querySelector("[data-wysihtml5-dialog='"+n+"']");return s&&(i=e.toolbar["Dialog_"+n]?new e.toolbar["Dialog_"+n](t,s):new e.toolbar.Dialog(t,s),i.on("show",function(){a=r.composer.selection.getBookmark(),r.editor.fire("show:dialog",{command:n,dialogContainer:s,commandLink:t})}),i.on("save",function(e){a&&r.composer.selection.setBookmark(a),r._execCommand(n,e),r.editor.fire("save:dialog",{command:n,dialogContainer:s,commandLink:t})}),i.on("cancel",function(){r.editor.focus(!1),r.editor.fire("cancel:dialog",{command:n,dialogContainer:s,commandLink:t})})),i},execCommand:function(e,t){if(!this.commandsDisabled){var n=this.commandMapping[e+":"+t];n&&n.dialog&&!n.state?n.dialog.show():this._execCommand(e,t)}},_execCommand:function(e,t){this.editor.focus(!1),this.composer.commands.exec(e,t),this._updateLinkStates()},execAction:function(e){var t=this.editor;"change_view"===e&&t.textarea&&(t.currentView===t.textarea?t.fire("change_view","composer"):t.fire("change_view","textarea")),"showSource"==e&&t.fire("showSource")},_observe:function(){for(var e=this,t=this.editor,i=this.container,a=this.commandLinks.concat(this.actionLinks),s=a.length,o=0;s>o;o++)"A"===a[o].nodeName?r.setAttributes({href:"javascript:;",unselectable:"on"}).on(a[o]):r.setAttributes({unselectable:"on"}).on(a[o]);r.delegate(i,"[data-wysihtml5-command], [data-wysihtml5-action]","mousedown",function(e){e.preventDefault()}),r.delegate(i,"[data-wysihtml5-command]","click",function(t){var n=this,i=n.getAttribute("data-wysihtml5-command"),a=n.getAttribute("data-wysihtml5-command-value");e.execCommand(i,a),t.preventDefault()}),r.delegate(i,"[data-wysihtml5-action]","click",function(t){var n=this.getAttribute("data-wysihtml5-action");e.execAction(n),t.preventDefault()}),t.on("interaction:composer",function(){e._updateLinkStates()}),t.on("focus:composer",function(){e.bookmark=null}),this.editor.config.handleTables&&(t.on("tableselect:composer",function(){e.container.querySelectorAll('[data-wysihtml5-hiddentools="table"]')[0].style.display=""}),t.on("tableunselect:composer",function(){e.container.querySelectorAll('[data-wysihtml5-hiddentools="table"]')[0].style.display="none"})),t.on("change_view",function(a){t.textarea&&setTimeout(function(){e.commandsDisabled="composer"!==a,e._updateLinkStates(),e.commandsDisabled?r.addClass(i,n):r.removeClass(i,n)},0)})},_updateLinkStates:function(){var n,s,o,l,c=this.commandMapping,d=this.actionMapping;for(n in c)l=c[n],this.commandsDisabled?(s=!1,r.removeClass(l.link,i),l.group&&r.removeClass(l.group,i),l.dialog&&l.dialog.hide()):(s=this.composer.commands.state(l.name,l.value),r.removeClass(l.link,t),l.group&&r.removeClass(l.group,t)),l.state!==s&&(l.state=s,s?(r.addClass(l.link,i),l.group&&r.addClass(l.group,i),l.dialog&&("object"==typeof s||e.lang.object(s).isArray()?(!l.dialog.multiselect&&e.lang.object(s).isArray()&&(s=1!==s.length||s[0],l.state=s),l.dialog.show(s)):l.dialog.hide())):(r.removeClass(l.link,i),l.group&&r.removeClass(l.group,i),l.dialog&&l.dialog.hide()));for(n in d)o=d[n],"change_view"===o.name&&(o.state=this.editor.currentView===this.editor.textarea,o.state?r.addClass(o.link,a):r.removeClass(o.link,a))},show:function(){this.container.style.display=""},hide:function(){this.container.style.display="none"}})}(wysihtml5),function(e){e.toolbar.Dialog_createTable=e.toolbar.Dialog.extend({show:function(e){this.base(e)}})}(wysihtml5),function(e){var t=(e.dom,"[data-wysihtml5-dialog-field]"),n="data-wysihtml5-dialog-field";e.toolbar.Dialog_foreColorStyle=e.toolbar.Dialog.extend({multiselect:!0,_serialize:function(){for(var e={},i=this.container.querySelectorAll(t),a=i.length,r=0;a>r;r++)e[i[r].getAttribute(n)]=i[r].value;return e},_interpolate:function(i){for(var a,r=document.querySelector(":focus"),s=this.container.querySelectorAll(t),o=s.length,l=0,c=this.elementToChange?e.lang.object(this.elementToChange).isArray()?this.elementToChange[0]:this.elementToChange:null,d=c?c.getAttribute("style"):null,u=d?e.quirks.styleParser.parseColor(d,"color"):null;o>l;l++)(a=s[l])!==r&&(i&&"hidden"===a.type||"color"===a.getAttribute(n)&&(a.value=u?u[3]&&1!=u[3]?"rgba("+u[0]+","+u[1]+","+u[2]+","+u[3]+");":"rgb("+u[0]+","+u[1]+","+u[2]+");":"rgb(0,0,0);"))}})}(wysihtml5),function(e){e.dom,e.toolbar.Dialog_fontSizeStyle=e.toolbar.Dialog.extend({multiselect:!0,_serialize:function(){return{size:this.container.querySelector('[data-wysihtml5-dialog-field="size"]').value}},_interpolate:function(){var t=document.querySelector(":focus"),n=this.container.querySelector("[data-wysihtml5-dialog-field='size']"),i=this.elementToChange?e.lang.object(this.elementToChange).isArray()?this.elementToChange[0]:this.elementToChange:null,a=i?i.getAttribute("style"):null,r=a?e.quirks.styleParser.parseFontSize(a):null;n&&n!==t&&r&&!/^\s*$/.test(r)&&(n.value=r)}})}(wysihtml5),Handlebars=function(){var e=function(){"use strict";function e(e){this.string=e}return e.prototype.toString=function(){return""+this.string},e}(),t=function(e){"use strict";function t(e){return d[e]||"&amp;"}function n(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}function i(e){return e instanceof c?""+e:e||0===e?(e=""+e,h.test(e)?e.replace(u,t):e):""}function a(e){return!e&&0!==e||!(!o(e)||0!==e.length)}var r,s,o,l={},c=e,d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},u=/[&<>"'`]/g,h=/[&<>"'`]/;return l.extend=n,r=Object.prototype.toString,l.toString=r,s=function(e){return"function"==typeof e},s(/x/)&&(s=function(e){return"function"==typeof e&&"[object Function]"===r.call(e)}),l.isFunction=s,o=Array.isArray||function(e){return!(!e||"object"!=typeof e)&&"[object Array]"===r.call(e)},l.isArray=o,l.escapeExpression=i,l.isEmpty=a,l}(e),n=function(){"use strict";function e(e,n){var i,a,r;for(n&&n.firstLine&&(i=n.firstLine,e+=" - "+i+":"+n.firstColumn),a=Error.prototype.constructor.call(this,e),r=0;r<t.length;r++)this[t[r]]=a[t[r]];i&&(this.lineNumber=i,this.column=n.firstColumn)}var t=["description","fileName","lineNumber","message","name","number","stack"];return e.prototype=Error(),e}(),i=function(e,t){"use strict";function n(e,t){this.helpers=e||{},this.partials=t||{},i(this)}function i(e){e.registerHelper("helperMissing",function(e){if(2!==arguments.length)throw new m("Missing helper: '"+e+"'")}),e.registerHelper("blockHelperMissing",function(t,n){var i=n.inverse||function(){},a=n.fn;return l(t)&&(t=t.call(this)),!0===t?a(this):!1===t||null==t?i(this):o(t)?t.length>0?e.helpers.each(t,n):i(this):a(t)}),e.registerHelper("each",function(e,t){var n,i,a,r=t.fn,s=t.inverse,c=0,d="";if(l(e)&&(e=e.call(this)),t.data&&(n=h(t.data)),e&&"object"==typeof e)if(o(e))for(i=e.length;i>c;c++)n&&(n.index=c,n.first=0===c,n.last=c===e.length-1),d+=r(e[c],{data:n});else for(a in e)e.hasOwnProperty(a)&&(n&&(n.key=a,n.index=c,n.first=0===c),d+=r(e[a],{data:n}),c++);return 0===c&&(d=s(this)),d}),e.registerHelper("if",function(e,t){return l(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||p.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,n){return e.helpers.if.call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})}),e.registerHelper("with",function(e,t){return l(e)&&(e=e.call(this)),p.isEmpty(e)?void 0:t.fn(e)}),e.registerHelper("log",function(t,n){var i=n.data&&null!=n.data.level?parseInt(n.data.level,10):1;e.log(i,t)})}function a(e,t){u.log(e,t)}var r,s,o,l,c,d,u,h,f={},p=e,m=t;return f.VERSION="1.3.0",r=4,f.COMPILER_REVISION=r,s={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"},f.REVISION_CHANGES=s,o=p.isArray,l=p.isFunction,c=p.toString,d="[object Object]",f.HandlebarsEnvironment=n,n.prototype={constructor:n,logger:u,log:a,registerHelper:function(e,t,n){if(c.call(e)===d){if(n||t)throw new m("Arg not supported with multiple helpers");p.extend(this.helpers,e)}else n&&(t.not=n),this.helpers[e]=t},registerPartial:function(e,t){c.call(e)===d?p.extend(this.partials,e):this.partials[e]=t}},u={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(e,t){if(u.level<=e){var n=u.methodMap[e];"undefined"!=typeof console&&console[n]}}},f.logger=u,f.log=a,h=function(e){var t={};return p.extend(t,e),t},f.createFrame=h,f}(t,n),a=function(e,t,n){"use strict";function i(e){var t,n,i=e&&e[0]||1,a=h;if(i!==a){if(a>i)throw t=f[a],n=f[i],new u("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+t+") or downgrade your runtime to an older version ("+n+").");throw new u("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function a(e,t){if(!t)throw new u("No environment passed to template");var n=function(e,n,i,a,r,s){var o,l=t.VM.invokePartial.apply(this,arguments);if(null!=l)return l;if(t.compile)return o={helpers:a,partials:r,data:s},r[n]=t.compile(e,{data:void 0!==s},t),r[n](i,o);throw new u("The partial "+n+" could not be compiled when running in runtime-only mode")},i={escapeExpression:d.escapeExpression,invokePartial:n,programs:[],program:function(e,t,n){var i=this.programs[e];return n?i=s(e,t,n):i||(i=this.programs[e]=s(e,t)),i},merge:function(e,t){var n=e||t;return e&&t&&e!==t&&(n={},d.extend(n,t),d.extend(n,e)),n},programWithDepth:t.VM.programWithDepth,noop:t.VM.noop,compilerInfo:null};return function(n,a){var r,s,o,l;return a=a||{},o=a.partial?a:t,a.partial||(r=a.helpers,s=a.partials),l=e.call(i,o,n,r,s,a.data),a.partial||t.VM.checkRevision(i.compilerInfo),l}}function r(e,t,n){var i=Array.prototype.slice.call(arguments,3),a=function(e,a){return a=a||{},t.apply(this,[e,a.data||n].concat(i))};return a.program=e,a.depth=i.length,a}function s(e,t,n){var i=function(e,i){return i=i||{},t(e,i.data||n)};return i.program=e,i.depth=0,i}function o(e,t,n,i,a,r){var s={partial:!0,helpers:i,partials:a,data:r};if(void 0===e)throw new u("The partial "+t+" could not be found");return e instanceof Function?e(n,s):void 0}function l(){return""}var c={},d=e,u=t,h=n.COMPILER_REVISION,f=n.REVISION_CHANGES;return c.checkRevision=i,c.template=a,c.programWithDepth=r,c.program=s,c.invokePartial=o,c.noop=l,c}(t,n,i);return function(e,t,n,i,a){"use strict";var r=e,s=t,o=n,l=i,c=a,d=function(){var e=new r.HandlebarsEnvironment;return l.extend(e,r),e.SafeString=s,e.Exception=o,e.Utils=l,e.VM=c,e.template=function(t){return c.template(t,e)},e},u=d();return u.create=d,u}(i,e,n,t,a)}(),this.wysihtml5=this.wysihtml5||{},this.wysihtml5.tpl=this.wysihtml5.tpl||{},this.wysihtml5.tpl.blockquote=Handlebars.template(function(e,t,n,i,a){function r(e){var t,n="";return n+="btn-"+u((t=e&&e.options,t=null==t||!1===t?t:t.toolbar,t=null==t||!1===t?t:t.size,typeof t===d?t.apply(e):t))}function s(){return' \n      <span class="fa fa-quote-left"></span>\n    '}function o(){return'\n      <span class="glyphicon glyphicon-quote"></span>\n    '}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),a=a||{};var l,c="",d="function",u=this.escapeExpression,h=this;return c+='<li>\n  <a class="btn ',l=n.if.call(t,(l=t&&t.options,l=null==l||!1===l?l:l.toolbar,null==l||!1===l?l:l.size),{hash:{},inverse:h.noop,fn:h.program(1,r,a),data:a}),(l||0===l)&&(c+=l),c+=' btn-default" data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="blockquote" data-wysihtml5-display-format-name="false" tabindex="-1">\n    ',l=n.if.call(t,(l=t&&t.options,l=null==l||!1===l?l:l.toolbar,null==l||!1===l?l:l.fa),{hash:{},inverse:h.program(5,o,a),fn:h.program(3,s,a),data:a}),(l||0===l)&&(c+=l),c+="\n  </a>\n</li>\n"}),this.wysihtml5.tpl.color=Handlebars.template(function(e,t,n,i,a){function r(e){var t,n="";return n+="btn-"+c((t=e&&e.options,t=null==t||!1===t?t:t.toolbar,t=null==t||!1===t?t:t.size,typeof t===l?t.apply(e):t))}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),a=a||{};var s,o="",l="function",c=this.escapeExpression,d=this;return o+='<li class="dropdown">\n  <a class="btn btn-default dropdown-toggle ',s=n.if.call(t,(s=t&&t.options,s=null==s||!1===s?s:s.toolbar,null==s||!1===s?s:s.size),{hash:{},inverse:d.noop,fn:d.program(1,r,a),data:a}),(s||0===s)&&(o+=s),o+='" data-toggle="dropdown" tabindex="-1">\n    <span class="current-color">'+c((s=t&&t.locale,s=null==s||!1===s?s:s.colours,s=null==s||!1===s?s:s.black,
typeof s===l?s.apply(t):s))+'</span>\n    <b class="caret"></b>\n  </a>\n  <ul class="dropdown-menu">\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="black"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="black">'+c((s=t&&t.locale,s=null==s||!1===s?s:s.colours,s=null==s||!1===s?s:s.black,typeof s===l?s.apply(t):s))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="silver"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="silver">'+c((s=t&&t.locale,s=null==s||!1===s?s:s.colours,s=null==s||!1===s?s:s.silver,typeof s===l?s.apply(t):s))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="gray"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="gray">'+c((s=t&&t.locale,s=null==s||!1===s?s:s.colours,s=null==s||!1===s?s:s.gray,typeof s===l?s.apply(t):s))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="maroon"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="maroon">'+c((s=t&&t.locale,s=null==s||!1===s?s:s.colours,s=null==s||!1===s?s:s.maroon,typeof s===l?s.apply(t):s))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="red"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="red">'+c((s=t&&t.locale,s=null==s||!1===s?s:s.colours,s=null==s||!1===s?s:s.red,typeof s===l?s.apply(t):s))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="purple"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="purple">'+c((s=t&&t.locale,s=null==s||!1===s?s:s.colours,s=null==s||!1===s?s:s.purple,typeof s===l?s.apply(t):s))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="green"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="green">'+c((s=t&&t.locale,s=null==s||!1===s?s:s.colours,s=null==s||!1===s?s:s.green,typeof s===l?s.apply(t):s))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="olive"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="olive">'+c((s=t&&t.locale,s=null==s||!1===s?s:s.colours,s=null==s||!1===s?s:s.olive,typeof s===l?s.apply(t):s))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="navy"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="navy">'+c((s=t&&t.locale,s=null==s||!1===s?s:s.colours,s=null==s||!1===s?s:s.navy,typeof s===l?s.apply(t):s))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="blue"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="blue">'+c((s=t&&t.locale,s=null==s||!1===s?s:s.colours,s=null==s||!1===s?s:s.blue,typeof s===l?s.apply(t):s))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="orange"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="orange">'+c((s=t&&t.locale,s=null==s||!1===s?s:s.colours,s=null==s||!1===s?s:s.orange,typeof s===l?s.apply(t):s))+"</a></li>\n  </ul>\n</li>\n"}),this.wysihtml5.tpl.emphasis=Handlebars.template(function(e,t,n,i,a){function r(e){var t,n="";return n+="btn-"+d((t=e&&e.options,t=null==t||!1===t?t:t.toolbar,t=null==t||!1===t?t:t.size,typeof t===c?t.apply(e):t))}function s(e,t){var i,a="";return a+='\n    <a class="btn ',i=n.if.call(e,(i=e&&e.options,i=null==i||!1===i?i:i.toolbar,null==i||!1===i?i:i.size),{hash:{},inverse:u.noop,fn:u.program(1,r,t),data:t}),(i||0===i)&&(a+=i),a+=' btn-default" data-wysihtml5-command="small" title="CTRL+S" tabindex="-1">'+d((i=e&&e.locale,i=null==i||!1===i?i:i.emphasis,i=null==i||!1===i?i:i.small,typeof i===c?i.apply(e):i))+"</a>\n    "}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),a=a||{};var o,l="",c="function",d=this.escapeExpression,u=this;return l+='<li>\n  <div class="btn-group">\n    <a class="btn ',o=n.if.call(t,(o=t&&t.options,o=null==o||!1===o?o:o.toolbar,null==o||!1===o?o:o.size),{hash:{},inverse:u.noop,fn:u.program(1,r,a),data:a}),(o||0===o)&&(l+=o),l+=' btn-default" data-wysihtml5-command="bold" title="CTRL+B" tabindex="-1">'+d((o=t&&t.locale,o=null==o||!1===o?o:o.emphasis,o=null==o||!1===o?o:o.bold,typeof o===c?o.apply(t):o))+'</a>\n    <a class="btn ',o=n.if.call(t,(o=t&&t.options,o=null==o||!1===o?o:o.toolbar,null==o||!1===o?o:o.size),{hash:{},inverse:u.noop,fn:u.program(1,r,a),data:a}),(o||0===o)&&(l+=o),l+=' btn-default" data-wysihtml5-command="italic" title="CTRL+I" tabindex="-1">'+d((o=t&&t.locale,o=null==o||!1===o?o:o.emphasis,o=null==o||!1===o?o:o.italic,typeof o===c?o.apply(t):o))+'</a>\n    <a class="btn ',o=n.if.call(t,(o=t&&t.options,o=null==o||!1===o?o:o.toolbar,null==o||!1===o?o:o.size),{hash:{},inverse:u.noop,fn:u.program(1,r,a),data:a}),(o||0===o)&&(l+=o),l+=' btn-default" data-wysihtml5-command="underline" title="CTRL+U" tabindex="-1">'+d((o=t&&t.locale,o=null==o||!1===o?o:o.emphasis,o=null==o||!1===o?o:o.underline,typeof o===c?o.apply(t):o))+"</a>\n    ",o=n.if.call(t,(o=t&&t.options,o=null==o||!1===o?o:o.toolbar,o=null==o||!1===o?o:o.emphasis,null==o||!1===o?o:o.small),{hash:{},inverse:u.noop,fn:u.program(3,s,a),data:a}),(o||0===o)&&(l+=o),l+="\n  </div>\n</li>\n"}),this.wysihtml5.tpl["font-styles"]=Handlebars.template(function(e,t,n,i,a){function r(e){var t,n="";return n+="btn-"+u((t=e&&e.options,t=null==t||!1===t?t:t.toolbar,t=null==t||!1===t?t:t.size,typeof t===d?t.apply(e):t))}function s(){return'\n      <span class="fa fa-font"></span>\n    '}function o(){return'\n      <span class="glyphicon glyphicon-font"></span>\n    '}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),a=a||{};var l,c="",d="function",u=this.escapeExpression,h=this;return c+='<li class="dropdown">\n  <a class="btn btn-default dropdown-toggle ',l=n.if.call(t,(l=t&&t.options,l=null==l||!1===l?l:l.toolbar,null==l||!1===l?l:l.size),{hash:{},inverse:h.noop,fn:h.program(1,r,a),data:a}),(l||0===l)&&(c+=l),c+='" data-toggle="dropdown">\n    ',l=n.if.call(t,(l=t&&t.options,l=null==l||!1===l?l:l.toolbar,null==l||!1===l?l:l.fa),{hash:{},inverse:h.program(5,o,a),fn:h.program(3,s,a),data:a}),(l||0===l)&&(c+=l),c+='\n    <span class="current-font">'+u((l=t&&t.locale,l=null==l||!1===l?l:l.font_styles,l=null==l||!1===l?l:l.normal,typeof l===d?l.apply(t):l))+'</span>\n    <b class="caret"></b>\n  </a>\n  <ul class="dropdown-menu">\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="p" tabindex="-1">'+u((l=t&&t.locale,l=null==l||!1===l?l:l.font_styles,l=null==l||!1===l?l:l.normal,typeof l===d?l.apply(t):l))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h1" tabindex="-1">'+u((l=t&&t.locale,l=null==l||!1===l?l:l.font_styles,l=null==l||!1===l?l:l.h1,typeof l===d?l.apply(t):l))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h2" tabindex="-1">'+u((l=t&&t.locale,l=null==l||!1===l?l:l.font_styles,l=null==l||!1===l?l:l.h2,typeof l===d?l.apply(t):l))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h3" tabindex="-1">'+u((l=t&&t.locale,l=null==l||!1===l?l:l.font_styles,l=null==l||!1===l?l:l.h3,typeof l===d?l.apply(t):l))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h4" tabindex="-1">'+u((l=t&&t.locale,l=null==l||!1===l?l:l.font_styles,l=null==l||!1===l?l:l.h4,typeof l===d?l.apply(t):l))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h5" tabindex="-1">'+u((l=t&&t.locale,l=null==l||!1===l?l:l.font_styles,l=null==l||!1===l?l:l.h5,typeof l===d?l.apply(t):l))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h6" tabindex="-1">'+u((l=t&&t.locale,l=null==l||!1===l?l:l.font_styles,l=null==l||!1===l?l:l.h6,typeof l===d?l.apply(t):l))+"</a></li>\n  </ul>\n</li>\n"}),this.wysihtml5.tpl.html=Handlebars.template(function(e,t,n,i,a){function r(e){var t,n="";return n+="btn-"+u((t=e&&e.options,t=null==t||!1===t?t:t.toolbar,t=null==t||!1===t?t:t.size,typeof t===d?t.apply(e):t))}function s(){return'\n        <span class="fa fa-pencil"></span>\n      '}function o(){return'\n        <span class="glyphicon glyphicon-pencil"></span>\n      '}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),a=a||{};var l,c="",d="function",u=this.escapeExpression,h=this;return c+='<li>\n  <div class="btn-group">\n    <a class="btn ',l=n.if.call(t,(l=t&&t.options,l=null==l||!1===l?l:l.toolbar,null==l||!1===l?l:l.size),{hash:{},inverse:h.noop,fn:h.program(1,r,a),data:a}),(l||0===l)&&(c+=l),c+=' btn-default" data-wysihtml5-action="change_view" title="'+u((l=t&&t.locale,l=null==l||!1===l?l:l.html,l=null==l||!1===l?l:l.edit,typeof l===d?l.apply(t):l))+'" tabindex="-1">\n      ',l=n.if.call(t,(l=t&&t.options,l=null==l||!1===l?l:l.toolbar,null==l||!1===l?l:l.fa),{hash:{},inverse:h.program(5,o,a),fn:h.program(3,s,a),data:a}),(l||0===l)&&(c+=l),c+="\n    </a>\n  </div>\n</li>\n"}),this.wysihtml5.tpl.image=Handlebars.template(function(e,t,n,i,a){function r(){return"modal-sm"}function s(e){var t,n="";return n+="btn-"+h((t=e&&e.options,t=null==t||!1===t?t:t.toolbar,t=null==t||!1===t?t:t.size,typeof t===u?t.apply(e):t))}function o(){return'\n      <span class="fa fa-file-image-o"></span>\n    '}function l(){return'\n      <span class="glyphicon glyphicon-picture"></span>\n    '}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),a=a||{};var c,d="",u="function",h=this.escapeExpression,f=this;return d+='<li>\n  <div class="bootstrap-wysihtml5-insert-image-modal modal fade" data-wysihtml5-dialog="insertImage">\n    <div class="modal-dialog ',c=n.if.call(t,(c=t&&t.options,c=null==c||!1===c?c:c.toolbar,null==c||!1===c?c:c.smallmodals),{hash:{},inverse:f.noop,fn:f.program(1,r,a),data:a}),(c||0===c)&&(d+=c),d+='">\n      <div class="modal-content">\n        <div class="modal-header">\n          <a class="close" data-dismiss="modal">&times;</a>\n          <h3>'+h((c=t&&t.locale,c=null==c||!1===c?c:c.image,c=null==c||!1===c?c:c.insert,typeof c===u?c.apply(t):c))+'</h3>\n        </div>\n        <div class="modal-body">\n          <div class="form-group">\n            <input value="http://" class="bootstrap-wysihtml5-insert-image-url form-control" data-wysihtml5-dialog-field="src">\n          </div> \n        </div>\n        <div class="modal-footer">\n          <a class="btn btn-default" data-dismiss="modal" data-wysihtml5-dialog-action="cancel" href="#">'+h((c=t&&t.locale,c=null==c||!1===c?c:c.image,c=null==c||!1===c?c:c.cancel,typeof c===u?c.apply(t):c))+'</a>\n          <a class="btn btn-primary" data-dismiss="modal"  data-wysihtml5-dialog-action="save" href="#">'+h((c=t&&t.locale,c=null==c||!1===c?c:c.image,c=null==c||!1===c?c:c.insert,typeof c===u?c.apply(t):c))+'</a>\n        </div>\n      </div>\n    </div>\n  </div>\n  <a class="btn ',c=n.if.call(t,(c=t&&t.options,c=null==c||!1===c?c:c.toolbar,null==c||!1===c?c:c.size),{hash:{},inverse:f.noop,fn:f.program(3,s,a),data:a}),(c||0===c)&&(d+=c),d+=' btn-default" data-wysihtml5-command="insertImage" title="'+h((c=t&&t.locale,c=null==c||!1===c?c:c.image,c=null==c||!1===c?c:c.insert,typeof c===u?c.apply(t):c))+'" tabindex="-1">\n    ',c=n.if.call(t,(c=t&&t.options,c=null==c||!1===c?c:c.toolbar,null==c||!1===c?c:c.fa),{hash:{},inverse:f.program(7,l,a),fn:f.program(5,o,a),data:a}),(c||0===c)&&(d+=c),d+="\n  </a>\n</li>\n"}),this.wysihtml5.tpl.link=Handlebars.template(function(e,t,n,i,a){function r(){return"modal-sm"}function s(e){var t,n="";return n+="btn-"+h((t=e&&e.options,t=null==t||!1===t?t:t.toolbar,t=null==t||!1===t?t:t.size,typeof t===u?t.apply(e):t))}function o(){return'\n      <span class="fa fa-share-square-o"></span>\n    '}function l(){return'\n      <span class="glyphicon glyphicon-share"></span>\n    '}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),a=a||{};var c,d="",u="function",h=this.escapeExpression,f=this;return d+='<li>\n  <div class="bootstrap-wysihtml5-insert-link-modal modal fade" data-wysihtml5-dialog="createLink">\n    <div class="modal-dialog ',c=n.if.call(t,(c=t&&t.options,c=null==c||!1===c?c:c.toolbar,null==c||!1===c?c:c.smallmodals),{hash:{},inverse:f.noop,fn:f.program(1,r,a),data:a}),(c||0===c)&&(d+=c),d+='">\n      <div class="modal-content">\n        <div class="modal-header">\n          <a class="close" data-dismiss="modal">&times;</a>\n          <h3>'+h((c=t&&t.locale,c=null==c||!1===c?c:c.link,c=null==c||!1===c?c:c.insert,typeof c===u?c.apply(t):c))+'</h3>\n        </div>\n        <div class="modal-body">\n          <div class="form-group">\n            <input value="http://" class="bootstrap-wysihtml5-insert-link-url form-control" data-wysihtml5-dialog-field="href">\n          </div> \n          <div class="checkbox">\n            <label> \n              <input type="checkbox" class="bootstrap-wysihtml5-insert-link-target" checked>'+h((c=t&&t.locale,c=null==c||!1===c?c:c.link,c=null==c||!1===c?c:c.target,typeof c===u?c.apply(t):c))+'\n            </label>\n          </div>\n        </div>\n        <div class="modal-footer">\n          <a class="btn btn-default" data-dismiss="modal" data-wysihtml5-dialog-action="cancel" href="#">'+h((c=t&&t.locale,c=null==c||!1===c?c:c.link,c=null==c||!1===c?c:c.cancel,typeof c===u?c.apply(t):c))+'</a>\n          <a href="#" class="btn btn-primary" data-dismiss="modal" data-wysihtml5-dialog-action="save">'+h((c=t&&t.locale,c=null==c||!1===c?c:c.link,c=null==c||!1===c?c:c.insert,typeof c===u?c.apply(t):c))+'</a>\n        </div>\n      </div>\n    </div>\n  </div>\n  <a class="btn ',c=n.if.call(t,(c=t&&t.options,c=null==c||!1===c?c:c.toolbar,null==c||!1===c?c:c.size),{hash:{},inverse:f.noop,fn:f.program(3,s,a),data:a}),(c||0===c)&&(d+=c),d+=' btn-default" data-wysihtml5-command="createLink" title="'+h((c=t&&t.locale,c=null==c||!1===c?c:c.link,c=null==c||!1===c?c:c.insert,typeof c===u?c.apply(t):c))+'" tabindex="-1">\n    ',c=n.if.call(t,(c=t&&t.options,c=null==c||!1===c?c:c.toolbar,null==c||!1===c?c:c.fa),{hash:{},inverse:f.program(7,l,a),fn:f.program(5,o,a),data:a}),(c||0===c)&&(d+=c),d+="\n  </a>\n</li>\n"}),this.wysihtml5.tpl.lists=Handlebars.template(function(e,t,n,i,a){function r(e){var t,n="";return n+="btn-"+y((t=e&&e.options,t=null==t||!1===t?t:t.toolbar,t=null==t||!1===t?t:t.size,typeof t===g?t.apply(e):t))}function s(){return'\n      <span class="fa fa-list-ul"></span>\n    '}function o(){return'\n      <span class="glyphicon glyphicon-list"></span>\n    '}function l(){return'\n      <span class="fa fa-list-ol"></span>\n    '}function c(){return'\n      <span class="glyphicon glyphicon-th-list"></span>\n    '}function d(){return'\n      <span class="fa fa-outdent"></span>\n    '}function u(){return'\n      <span class="glyphicon glyphicon-indent-right"></span>\n    '}function h(){return'\n      <span class="fa fa-indent"></span>\n    '}function f(){return'\n      <span class="glyphicon glyphicon-indent-left"></span>\n    '}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),a=a||{};var p,m="",g="function",y=this.escapeExpression,v=this;return m+='<li>\n  <div class="btn-group">\n    <a class="btn ',p=n.if.call(t,(p=t&&t.options,p=null==p||!1===p?p:p.toolbar,null==p||!1===p?p:p.size),{hash:{},inverse:v.noop,fn:v.program(1,r,a),data:a}),(p||0===p)&&(m+=p),m+=' btn-default" data-wysihtml5-command="insertUnorderedList" title="'+y((p=t&&t.locale,p=null==p||!1===p?p:p.lists,p=null==p||!1===p?p:p.unordered,typeof p===g?p.apply(t):p))+'" tabindex="-1">\n    ',p=n.if.call(t,(p=t&&t.options,p=null==p||!1===p?p:p.toolbar,null==p||!1===p?p:p.fa),{hash:{},inverse:v.program(5,o,a),fn:v.program(3,s,a),data:a}),(p||0===p)&&(m+=p),m+='\n    </a>\n    <a class="btn ',p=n.if.call(t,(p=t&&t.options,p=null==p||!1===p?p:p.toolbar,null==p||!1===p?p:p.size),{hash:{},inverse:v.noop,fn:v.program(1,r,a),data:a}),(p||0===p)&&(m+=p),m+=' btn-default" data-wysihtml5-command="insertOrderedList" title="'+y((p=t&&t.locale,p=null==p||!1===p?p:p.lists,p=null==p||!1===p?p:p.ordered,typeof p===g?p.apply(t):p))+'" tabindex="-1">\n    ',p=n.if.call(t,(p=t&&t.options,p=null==p||!1===p?p:p.toolbar,null==p||!1===p?p:p.fa),{hash:{},inverse:v.program(9,c,a),fn:v.program(7,l,a),data:a}),(p||0===p)&&(m+=p),m+='\n    </a>\n    <a class="btn ',p=n.if.call(t,(p=t&&t.options,p=null==p||!1===p?p:p.toolbar,null==p||!1===p?p:p.size),{hash:{},inverse:v.noop,fn:v.program(1,r,a),data:a}),(p||0===p)&&(m+=p),m+=' btn-default" data-wysihtml5-command="Outdent" title="'+y((p=t&&t.locale,p=null==p||!1===p?p:p.lists,p=null==p||!1===p?p:p.outdent,typeof p===g?p.apply(t):p))+'" tabindex="-1">\n    ',p=n.if.call(t,(p=t&&t.options,p=null==p||!1===p?p:p.toolbar,null==p||!1===p?p:p.fa),{hash:{},inverse:v.program(13,u,a),fn:v.program(11,d,a),data:a}),(p||0===p)&&(m+=p),m+='\n    </a>\n    <a class="btn ',p=n.if.call(t,(p=t&&t.options,p=null==p||!1===p?p:p.toolbar,null==p||!1===p?p:p.size),{hash:{},inverse:v.noop,fn:v.program(1,r,a),data:a}),(p||0===p)&&(m+=p),m+=' btn-default" data-wysihtml5-command="Indent" title="'+y((p=t&&t.locale,p=null==p||!1===p?p:p.lists,p=null==p||!1===p?p:p.indent,typeof p===g?p.apply(t):p))+'" tabindex="-1">\n    ',p=n.if.call(t,(p=t&&t.options,p=null==p||!1===p?p:p.toolbar,null==p||!1===p?p:p.fa),{hash:{},inverse:v.program(17,f,a),fn:v.program(15,h,a),data:a}),(p||0===p)&&(m+=p),m+="\n    </a>\n  </div>\n</li>\n"}),function(e){"use strict";"function"==typeof define&&define.amd?define("bootstrap.wysihtml5",["jquery","wysihtml5","bootstrap","bootstrap.wysihtml5.templates","bootstrap.wysihtml5.commands"],e):e(jQuery,wysihtml5)}(function(e,t){"use strict";!function(e,t){var n,i,a,r=function(e,n,i){return t.tpl[e]?t.tpl[e]({locale:n,options:i}):void 0},s=function(n,a){var r,s;this.el=n,r=e.extend(!0,{},i,a);for(s in r.customTemplates)r.customTemplates.hasOwnProperty(s)&&(t.tpl[s]=r.customTemplates[s]);this.toolbar=this.createToolbar(n,r),this.editor=this.createEditor(r)};s.prototype={constructor:s,createEditor:function(t){t=t||{},t=e.extend(!0,{},t),t.toolbar=this.toolbar[0],this.initializeEditor(this.el[0],t)},initializeEditor:function(e,n){var i,a=new t.Editor(this.el[0],n);if(a.on("beforeload",this.syncBootstrapDialogEvents),a.on("beforeload",this.loadParserRules),a.composer.editableArea.contentDocument?this.addMoreShortcuts(a,a.composer.editableArea.contentDocument.body||a.composer.editableArea.contentDocument,n.shortcuts):this.addMoreShortcuts(a,a.composer.editableArea,n.shortcuts),n&&n.events)for(i in n.events)n.events.hasOwnProperty(i)&&a.on(i,n.events[i]);return a},loadParserRules:function(){"string"===e.type(this.config.parserRules)&&e.ajax({dataType:"json",url:this.config.parserRules,context:this,error:function(e,t,n){},success:function(e){this.config.parserRules=e}}),this.config.pasteParserRulesets&&"string"===e.type(this.config.pasteParserRulesets)&&e.ajax({dataType:"json",url:this.config.pasteParserRulesets,context:this,error:function(e,t,n){},success:function(e){this.config.pasteParserRulesets=e}})},syncBootstrapDialogEvents:function(){var t=this;e.map(this.toolbar.commandMapping,function(e){return[e]}).filter(function(e){return e.dialog}).map(function(e){return e.dialog}).forEach(function(n){n.on("show",function(){e(this.container).modal("show")}),n.on("hide",function(){e(this.container).modal("hide"),setTimeout(t.composer.focus,0)}),e(n.container).on("shown.bs.modal",function(){e(this).find("input, select, textarea").first().focus()})}),this.on("change_view",function(){e(this.toolbar.container.children).find("a.btn").not('[data-wysihtml5-action="change_view"]').toggleClass("disabled")})},createToolbar:function(t,n){var s,o,l=this,c=e("<ul/>",{class:"wysihtml5-toolbar",style:"display:none"}),d=n.locale||i.locale||"en";a.hasOwnProperty(d)||(d="en"),s=e.extend(!0,{},a.en,a[d]);for(o in n.toolbar)n.toolbar[o]&&c.append(r(o,s,n));return c.find('a[data-wysihtml5-command="formatBlock"]').click(function(t){var n=t.delegateTarget||t.target||t.srcElement,i=e(n),a=i.data("wysihtml5-display-format-name"),r=i.data("wysihtml5-format-name")||i.html();(void 0===a||"true"===a)&&l.toolbar.find(".current-font").text(r)}),c.find('a[data-wysihtml5-command="foreColor"]').click(function(t){var n=t.target||t.srcElement,i=e(n);l.toolbar.find(".current-color").text(i.html())}),this.el.before(c),c},addMoreShortcuts:function(e,n,i){t.dom.observe(n,"keydown",function(n){var a,r=n.keyCode,s=i[r];(n.ctrlKey||n.metaKey||n.altKey)&&s&&t.commands[s]&&(a=e.toolbar.commandMapping[s+":null"],a&&a.dialog&&!a.state?a.dialog.show():t.commands[s].exec(e.composer,s),n.preventDefault())})}},n={resetDefaults:function(){e.fn.wysihtml5.defaultOptions=e.extend(!0,{},e.fn.wysihtml5.defaultOptionsCache)},bypassDefaults:function(t){return this.each(function(){var n=e(this);n.data("wysihtml5",new s(n,t))})},shallowExtend:function(t){var i=e.extend({},e.fn.wysihtml5.defaultOptions,t||{},e(this).data()),a=this;return n.bypassDefaults.apply(a,[i])},deepExtend:function(t){var i=e.extend(!0,{},e.fn.wysihtml5.defaultOptions,t||{}),a=this;return n.bypassDefaults.apply(a,[i])},init:function(e){var t=this;return n.shallowExtend.apply(t,[e])}},e.fn.wysihtml5=function(t){return n[t]?n[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist on jQuery.wysihtml5"):n.init.apply(this,arguments)},e.fn.wysihtml5.Constructor=s,i=e.fn.wysihtml5.defaultOptions={toolbar:{"font-styles":!0,color:!1,emphasis:{small:!0},blockquote:!0,lists:!0,html:!1,link:!0,image:!0,smallmodals:!1},useLineBreaks:!1,parserRules:{classes:{"wysiwyg-color-silver":1,"wysiwyg-color-gray":1,"wysiwyg-color-white":1,"wysiwyg-color-maroon":1,"wysiwyg-color-red":1,"wysiwyg-color-purple":1,"wysiwyg-color-fuchsia":1,"wysiwyg-color-green":1,"wysiwyg-color-lime":1,"wysiwyg-color-olive":1,"wysiwyg-color-yellow":1,"wysiwyg-color-navy":1,"wysiwyg-color-blue":1,"wysiwyg-color-teal":1,"wysiwyg-color-aqua":1,"wysiwyg-color-orange":1},tags:{b:{},i:{},strong:{},em:{},p:{},br:{},ol:{},ul:{},li:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},blockquote:{},u:1,img:{check_attributes:{width:"numbers",alt:"alt",src:"url",height:"numbers"}},a:{check_attributes:{href:"url"},set_attributes:{target:"_blank",rel:"nofollow"}},span:1,div:1,small:1,code:1,pre:1}},locale:"en",shortcuts:{83:"small",75:"createLink"}},void 0===e.fn.wysihtml5.defaultOptionsCache&&(e.fn.wysihtml5.defaultOptionsCache=e.extend(!0,{},e.fn.wysihtml5.defaultOptions)),a=e.fn.wysihtml5.locale={}}(e,t)}),function(e){e.commands.small={exec:function(t,n){return e.commands.formatInline.exec(t,n,"small")},state:function(t,n){return e.commands.formatInline.state(t,n,"small")}}}(wysihtml5),function(e){"function"==typeof define&&define.amd?define("bootstrap.wysihtml5.en-US",["jquery","bootstrap.wysihtml5"],e):e(jQuery)}(function(e){e.fn.wysihtml5.locale.en=e.fn.wysihtml5.locale["en-US"]={font_styles:{normal:"Normal text",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6"},emphasis:{bold:"Bold",italic:"Italic",underline:"Underline",small:"Small"},lists:{unordered:"Unordered list",ordered:"Ordered list",outdent:"Outdent",indent:"Indent"},link:{insert:"Insert link",cancel:"Cancel",target:"Open link in new window"},image:{insert:"Insert image",cancel:"Cancel"},html:{edit:"Edit HTML"},colours:{black:"Black",silver:"Silver",gray:"Grey",maroon:"Maroon",red:"Red",purple:"Purple",green:"Green",olive:"Olive",navy:"Navy",blue:"Blue",orange:"Orange"}}}),function(e,t,n){var i=function(i){function a(e){var t,n,r={};i.each(e,function(i){(t=i.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(t[1]+" ")&&(n=i.replace(t[0],t[2].toLowerCase()),r[n]=i,"o"===t[1]&&a(e[i]))}),e._hungarianMap=r}function r(e,t,s){e._hungarianMap||a(e);var o;i.each(t,function(a){(o=e._hungarianMap[a])===n||!s&&t[o]!==n||("o"===o.charAt(0)?(t[o]||(t[o]={}),i.extend(!0,t[o],t[a]),r(e[o],t[o],s)):t[o]=t[a])})}function s(e){var t=qe.defaults.oLanguage,n=e.sZeroRecords;!e.sEmptyTable&&n&&"No data available in table"===t.sEmptyTable&&Pe(e,e,"sZeroRecords","sEmptyTable"),!e.sLoadingRecords&&n&&"Loading..."===t.sLoadingRecords&&Pe(e,e,"sZeroRecords","sLoadingRecords"),e.sInfoThousands&&(e.sThousands=e.sInfoThousands),(e=e.sDecimal)&&We(e)}function o(e){if(pt(e,"ordering","bSort"),pt(e,"orderMulti","bSortMulti"),pt(e,"orderClasses","bSortClasses"),pt(e,"orderCellsTop","bSortCellsTop"),pt(e,"order","aaSorting"),pt(e,"orderFixed","aaSortingFixed"),pt(e,"paging","bPaginate"),pt(e,"pagingType","sPaginationType"),pt(e,"pageLength","iDisplayLength"),pt(e,"searching","bFilter"),e=e.aoSearchCols)for(var t=0,n=e.length;t<n;t++)e[t]&&r(qe.models.oSearch,e[t])}function l(e){pt(e,"orderable","bSortable"),pt(e,"orderData","aDataSort"),pt(e,"orderSequence","asSorting"),pt(e,"orderDataType","sortDataType");var t=e.aDataSort;t&&!i.isArray(t)&&(e.aDataSort=[t])}function c(e){var e=e.oBrowser,t=i("<div/>").css({position:"absolute",top:0,left:0,height:1,width:1,overflow:"hidden"}).append(i("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(i('<div class="test"/>').css({width:"100%",height:10}))).appendTo("body"),n=t.find(".test");e.bScrollOversize=100===n[0].offsetWidth,e.bScrollbarLeft=1!==Math.round(n.offset().left),t.remove()}function d(e,t,i,a,r,s){var o,l=!1;for(i!==n&&(o=i,l=!0);a!==r;)e.hasOwnProperty(a)&&(o=l?t(o,e[a],a,e):e[a],l=!0,a+=s);return o}function u(e,n){var a=qe.defaults.column,r=e.aoColumns.length,a=i.extend({},qe.models.oColumn,a,{nTh:n||t.createElement("th"),sTitle:a.sTitle?a.sTitle:n?n.innerHTML:"",aDataSort:a.aDataSort?a.aDataSort:[r],mData:a.mData?a.mData:r,idx:r});e.aoColumns.push(a),a=e.aoPreSearchCols,a[r]=i.extend({},qe.models.oSearch,a[r]),h(e,r,i(n).data())}function h(e,t,a){var t=e.aoColumns[t],s=e.oClasses,o=i(t.nTh);if(!t.sWidthOrig){t.sWidthOrig=o.attr("width")||null;var c=(o.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);c&&(t.sWidthOrig=c[1])}a!==n&&null!==a&&(l(a),r(qe.defaults.column,a),a.mDataProp!==n&&!a.mData&&(a.mData=a.mDataProp),a.sType&&(t._sManualType=a.sType),a.className&&!a.sClass&&(a.sClass=a.className),i.extend(t,a),Pe(t,a,"sWidth","sWidthOrig"),a.iDataSort!==n&&(t.aDataSort=[a.iDataSort]),Pe(t,a,"aDataSort"));var d=t.mData,u=k(d),h=t.mRender?k(t.mRender):null,a=function(e){return"string"==typeof e&&-1!==e.indexOf("@")};t._bAttrSrc=i.isPlainObject(d)&&(a(d.sort)||a(d.type)||a(d.filter)),t.fnGetData=function(e,t,i){var a=u(e,t,n,i);return h&&t?h(a,t,e,i):a},t.fnSetData=function(e,t,n){return D(d)(e,t,n)},"number"!=typeof d&&(e._rowReadObject=!0),e.oFeatures.bSort||(t.bSortable=!1,o.addClass(s.sSortableNone)),e=-1!==i.inArray("asc",t.asSorting),a=-1!==i.inArray("desc",t.asSorting),t.bSortable&&(e||a)?e&&!a?(t.sSortingClass=s.sSortableAsc,t.sSortingClassJUI=s.sSortJUIAscAllowed):!e&&a?(t.sSortingClass=s.sSortableDesc,t.sSortingClassJUI=s.sSortJUIDescAllowed):(t.sSortingClass=s.sSortable,t.sSortingClassJUI=s.sSortJUI):(t.sSortingClass=s.sSortableNone,t.sSortingClassJUI="")}function f(e){if(!1!==e.oFeatures.bAutoWidth){var t=e.aoColumns;ge(e);for(var n=0,i=t.length;n<i;n++)t[n].nTh.style.width=t[n].sWidth}t=e.oScroll,(""!==t.sY||""!==t.sX)&&pe(e),Be(e,null,"column-sizing",[e])}function p(e,t){var n=y(e,"bVisible");return"number"==typeof n[t]?n[t]:null}function m(e,t){var n=y(e,"bVisible"),n=i.inArray(t,n);return-1!==n?n:null}function g(e){return y(e,"bVisible").length}function y(e,t){var n=[];return i.map(e.aoColumns,function(e,i){e[t]&&n.push(i)}),n}function v(e){var t,i,a,r,s,o,l,c,d,u=e.aoColumns,h=e.aoData,f=qe.ext.type.detect;for(t=0,i=u.length;t<i;t++)if(l=u[t],d=[],!l.sType&&l._sManualType)l.sType=l._sManualType;else if(!l.sType){for(a=0,r=f.length;a<r;a++){for(s=0,o=h.length;s<o&&(d[s]===n&&(d[s]=x(e,s,t,"type")),(c=f[a](d[s],e))||a===f.length-1)&&"html"!==c;s++);if(c){l.sType=c;break}}l.sType||(l.sType="string")}}function b(e,t,a,r){var s,o,l,c,d,h,f=e.aoColumns;if(t)for(s=t.length-1;0<=s;s--){h=t[s];var p=h.targets!==n?h.targets:h.aTargets;for(i.isArray(p)||(p=[p]),o=0,l=p.length;o<l;o++)if("number"==typeof p[o]&&0<=p[o]){for(;f.length<=p[o];)u(e);r(p[o],h)}else if("number"==typeof p[o]&&0>p[o])r(f.length+p[o],h);else if("string"==typeof p[o])for(c=0,d=f.length;c<d;c++)("_all"==p[o]||i(f[c].nTh).hasClass(p[o]))&&r(c,h)}if(a)for(s=0,e=a.length;s<e;s++)r(s,a[s])}function w(e,t,n,a){var r=e.aoData.length,s=i.extend(!0,{},qe.models.oRow,{src:n?"dom":"data"});s._aData=t,e.aoData.push(s);for(var t=e.aoColumns,s=0,o=t.length;s<o;s++)n&&_(e,r,s,x(e,r,s)),t[s].sType=null;return e.aiDisplayMaster.push(r),(n||!e.oFeatures.bDeferRender)&&R(e,r,n,a),r}function C(e,t){var n;return t instanceof i||(t=i(t)),t.map(function(t,i){return n=M(e,i),w(e,n.data,i,n.cells)})}function x(e,t,i,a){var r=e.iDraw,s=e.aoColumns[i],o=e.aoData[t]._aData,l=s.sDefaultContent,i=s.fnGetData(o,a,{settings:e,row:t,col:i});if(i===n)return e.iDrawError!=r&&null===l&&(Oe(e,0,"Requested unknown parameter "+("function"==typeof s.mData?"{function}":"'"+s.mData+"'")+" for row "+t,4),e.iDrawError=r),l;if(i!==o&&null!==i||null===l){if("function"==typeof i)return i.call(o)}else i=l;return null===i&&"display"==a?"":i}function _(e,t,n,i){e.aoColumns[n].fnSetData(e.aoData[t]._aData,i,{settings:e,row:t,col:n})}function S(e){return i.map(e.match(/(\\.|[^\.])+/g),function(e){return e.replace(/\\./g,".")})}function k(e){if(i.isPlainObject(e)){var t={};return i.each(e,function(e,n){n&&(t[e]=k(n))}),function(e,i,a,r){var s=t[i]||t._;return s!==n?s(e,i,a,r):e}}if(null===e)return function(e){return e};if("function"==typeof e)return function(t,n,i,a){return e(t,n,i,a)};if("string"==typeof e&&(-1!==e.indexOf(".")||-1!==e.indexOf("[")||-1!==e.indexOf("("))){var a=function(e,t,i){var r,s;if(""!==i){s=S(i);for(var o=0,l=s.length;o<l;o++){if(i=s[o].match(mt),r=s[o].match(gt),i){for(s[o]=s[o].replace(mt,""),""!==s[o]&&(e=e[s[o]]),r=[],s.splice(0,o+1),s=s.join("."),o=0,l=e.length;o<l;o++)r.push(a(e[o],t,s));e=i[0].substring(1,i[0].length-1),e=""===e?r:r.join(e);break}if(r)s[o]=s[o].replace(gt,""),e=e[s[o]]();else{if(null===e||e[s[o]]===n)return n;e=e[s[o]]}}}return e};return function(t,n){return a(t,n,e)}}return function(t){return t[e]}}function D(e){if(i.isPlainObject(e))return D(e._);if(null===e)return function(){};if("function"==typeof e)return function(t,n,i){e(t,"set",n,i)};if("string"==typeof e&&(-1!==e.indexOf(".")||-1!==e.indexOf("[")||-1!==e.indexOf("("))){var t=function(e,i,a){var r,a=S(a);r=a[a.length-1];for(var s,o,l=0,c=a.length-1;l<c;l++){if(s=a[l].match(mt),o=a[l].match(gt),s){for(a[l]=a[l].replace(mt,""),e[a[l]]=[],r=a.slice(),r.splice(0,l+1),s=r.join("."),o=0,c=i.length;o<c;o++)r={},t(r,i[o],s),e[a[l]].push(r);return}o&&(a[l]=a[l].replace(gt,""),e=e[a[l]](i)),null!==e[a[l]]&&e[a[l]]!==n||(e[a[l]]={}),e=e[a[l]]}r.match(gt)?e[r.replace(gt,"")](i):e[r.replace(mt,"")]=i};return function(n,i){return t(n,i,e)}}return function(t,n){t[e]=n}}function T(e){return ct(e.aoData,"_aData")}function E(e){e.aoData.length=0,e.aiDisplayMaster.length=0,e.aiDisplay.length=0}function A(e,t,i){for(var a=-1,r=0,s=e.length;r<s;r++)e[r]==t?a=r:e[r]>t&&e[r]--;-1!=a&&i===n&&e.splice(a,1)}function N(e,t,i,a){var r,s=e.aoData[t],o=function(n,i){for(;n.childNodes.length;)n.removeChild(n.firstChild);n.innerHTML=x(e,t,i,"display")};if("dom"!==i&&(i&&"auto"!==i||"dom"!==s.src)){var l=s.anCells;if(l)if(a!==n)o(l[a],a);else for(i=0,r=l.length;i<r;i++)o(l[i],i)}else s._aData=M(e,s,a,a===n?n:s._aData).data;if(s._aSortData=null,s._aFilterData=null,o=e.aoColumns,a!==n)o[a].sType=null;else{for(i=0,r=o.length;i<r;i++)o[i].sType=null;I(s)}}function M(e,t,a,r){
var s,o,l=[],c=t.firstChild,d=0,u=e.aoColumns,h=e._rowReadObject,r=r||h?{}:[],f=function(e,t){if("string"==typeof e){var n=e.indexOf("@");-1!==n&&(n=e.substring(n+1),D(e)(r,t.getAttribute(n)))}},e=function(e){a!==n&&a!==d||(s=u[d],o=i.trim(e.innerHTML),s&&s._bAttrSrc?(D(s.mData._)(r,o),f(s.mData.sort,e),f(s.mData.type,e),f(s.mData.filter,e)):h?(s._setter||(s._setter=D(s.mData)),s._setter(r,o)):r[d]=o),d++};if(c)for(;c;)t=c.nodeName.toUpperCase(),"TD"!=t&&"TH"!=t||(e(c),l.push(c)),c=c.nextSibling;else for(l=t.anCells,c=0,t=l.length;c<t;c++)e(l[c]);return{data:r,cells:l}}function R(e,n,i,a){var r,s,o,l,c,d=e.aoData[n],u=d._aData,h=[];if(null===d.nTr){for(r=i||t.createElement("tr"),d.nTr=r,d.anCells=h,r._DT_RowIndex=n,I(d),l=0,c=e.aoColumns.length;l<c;l++)o=e.aoColumns[l],s=i?a[l]:t.createElement(o.sCellType),h.push(s),i&&!o.mRender&&o.mData===l||(s.innerHTML=x(e,n,l,"display")),o.sClass&&(s.className+=" "+o.sClass),o.bVisible&&!i?r.appendChild(s):!o.bVisible&&i&&s.parentNode.removeChild(s),o.fnCreatedCell&&o.fnCreatedCell.call(e.oInstance,s,x(e,n,l),u,n,l);Be(e,"aoRowCreatedCallback",null,[r,u,n])}d.nTr.setAttribute("role","row")}function I(e){var t=e.nTr,n=e._aData;if(t){if(n.DT_RowId&&(t.id=n.DT_RowId),n.DT_RowClass){var a=n.DT_RowClass.split(" ");e.__rowc=e.__rowc?ft(e.__rowc.concat(a)):a,i(t).removeClass(e.__rowc.join(" ")).addClass(n.DT_RowClass)}n.DT_RowAttr&&i(t).attr(n.DT_RowAttr),n.DT_RowData&&i(t).data(n.DT_RowData)}}function O(e){var t,n,a,r,s,o=e.nTHead,l=e.nTFoot,c=0===i("th, td",o).length,d=e.oClasses,u=e.aoColumns;for(c&&(r=i("<tr/>").appendTo(o)),t=0,n=u.length;t<n;t++)s=u[t],a=i(s.nTh).addClass(s.sClass),c&&a.appendTo(r),e.oFeatures.bSort&&(a.addClass(s.sSortingClass),!1!==s.bSortable&&(a.attr("tabindex",e.iTabIndex).attr("aria-controls",e.sTableId),Ee(e,s.nTh,t))),s.sTitle!=a.html()&&a.html(s.sTitle),Fe(e,"header")(e,a,s,d);if(c&&B(e.aoHeader,o),i(o).find(">tr").attr("role","row"),i(o).find(">tr>th, >tr>td").addClass(d.sHeaderTH),i(l).find(">tr>th, >tr>td").addClass(d.sFooterTH),null!==l)for(e=e.aoFooter[0],t=0,n=e.length;t<n;t++)s=u[t],s.nTf=e[t].cell,s.sClass&&i(s.nTf).addClass(s.sClass)}function P(e,t,a){var r,s,o,l,c=[],d=[],u=e.aoColumns.length;if(t){for(a===n&&(a=!1),r=0,s=t.length;r<s;r++){for(c[r]=t[r].slice(),c[r].nTr=t[r].nTr,o=u-1;0<=o;o--)!e.aoColumns[o].bVisible&&!a&&c[r].splice(o,1);d.push([])}for(r=0,s=c.length;r<s;r++){if(e=c[r].nTr)for(;o=e.firstChild;)e.removeChild(o);for(o=0,t=c[r].length;o<t;o++)if(l=u=1,d[r][o]===n){for(e.appendChild(c[r][o].cell),d[r][o]=1;c[r+u]!==n&&c[r][o].cell==c[r+u][o].cell;)d[r+u][o]=1,u++;for(;c[r][o+l]!==n&&c[r][o].cell==c[r][o+l].cell;){for(a=0;a<u;a++)d[r+a][o+l]=1;l++}i(c[r][o].cell).attr("rowspan",u).attr("colspan",l)}}}}function L(e){var t=Be(e,"aoPreDrawCallback","preDraw",[e]);if(-1!==i.inArray(!1,t))he(e,!1);else{var t=[],a=0,r=e.asStripeClasses,s=r.length,o=e.oLanguage,l=e.iInitDisplayStart,c="ssp"==Ye(e),d=e.aiDisplay;e.bDrawing=!0,l!==n&&-1!==l&&(e._iDisplayStart=c?l:l>=e.fnRecordsDisplay()?0:l,e.iInitDisplayStart=-1);var l=e._iDisplayStart,u=e.fnDisplayEnd();if(e.bDeferLoading)e.bDeferLoading=!1,e.iDraw++,he(e,!1);else if(c){if(!e.bDestroying&&!Y(e))return}else e.iDraw++;if(0!==d.length)for(o=c?e.aoData.length:u,c=c?0:l;c<o;c++){var h=d[c],f=e.aoData[h];if(null===f.nTr&&R(e,h),h=f.nTr,0!==s){var p=r[a%s];f._sRowStripe!=p&&(i(h).removeClass(f._sRowStripe).addClass(p),f._sRowStripe=p)}Be(e,"aoRowCallback",null,[h,f._aData,a,c]),t.push(h),a++}else a=o.sZeroRecords,1==e.iDraw&&"ajax"==Ye(e)?a=o.sLoadingRecords:o.sEmptyTable&&0===e.fnRecordsTotal()&&(a=o.sEmptyTable),t[0]=i("<tr/>",{class:s?r[0]:""}).append(i("<td />",{valign:"top",colSpan:g(e),class:e.oClasses.sRowEmpty}).html(a))[0];Be(e,"aoHeaderCallback","header",[i(e.nTHead).children("tr")[0],T(e),l,u,d]),Be(e,"aoFooterCallback","footer",[i(e.nTFoot).children("tr")[0],T(e),l,u,d]),r=i(e.nTBody),r.children().detach(),r.append(i(t)),Be(e,"aoDrawCallback","draw",[e]),e.bSorted=!1,e.bFiltered=!1,e.bDrawing=!1}}function H(e,t){var n=e.oFeatures,i=n.bFilter;n.bSort&&ke(e),i?z(e,e.oPreviousSearch):e.aiDisplay=e.aiDisplayMaster.slice(),!0!==t&&(e._iDisplayStart=0),e._drawHold=t,L(e),e._drawHold=!1}function $(e){var t=e.oClasses,n=i(e.nTable),n=i("<div/>").insertBefore(n),a=e.oFeatures,r=i("<div/>",{id:e.sTableId+"_wrapper",class:t.sWrapper+(e.nTFoot?"":" "+t.sNoFooter)});e.nHolding=n[0],e.nTableWrapper=r[0],e.nTableReinsertBefore=e.nTable.nextSibling;for(var s,o,l,c,d,u,h=e.sDom.split(""),f=0;f<h.length;f++){if(s=null,"<"==(o=h[f])){if(l=i("<div/>")[0],"'"==(c=h[f+1])||'"'==c){for(d="",u=2;h[f+u]!=c;)d+=h[f+u],u++;"H"==d?d=t.sJUIHeader:"F"==d&&(d=t.sJUIFooter),-1!=d.indexOf(".")?(c=d.split("."),l.id=c[0].substr(1,c[0].length-1),l.className=c[1]):"#"==d.charAt(0)?l.id=d.substr(1,d.length-1):l.className=d,f+=u}r.append(l),r=i(l)}else if(">"==o)r=r.parent();else if("l"==o&&a.bPaginate&&a.bLengthChange)s=le(e);else if("f"==o&&a.bFilter)s=q(e);else if("r"==o&&a.bProcessing)s=ue(e);else if("t"==o)s=fe(e);else if("i"==o&&a.bInfo)s=ne(e);else if("p"==o&&a.bPaginate)s=ce(e);else if(0!==qe.ext.feature.length)for(l=qe.ext.feature,u=0,c=l.length;u<c;u++)if(o==l[u].cFeature){s=l[u].fnInit(e);break}s&&(l=e.aanFeatures,l[o]||(l[o]=[]),l[o].push(s),r.append(s))}n.replaceWith(r)}function B(e,t){var n,a,r,s,o,l,c,d,u,h,f=i(t).children("tr");for(e.splice(0,e.length),r=0,l=f.length;r<l;r++)e.push([]);for(r=0,l=f.length;r<l;r++)for(n=f[r],a=n.firstChild;a;){if("TD"==a.nodeName.toUpperCase()||"TH"==a.nodeName.toUpperCase()){for(d=1*a.getAttribute("colspan"),u=1*a.getAttribute("rowspan"),d=d&&0!==d&&1!==d?d:1,u=u&&0!==u&&1!==u?u:1,s=0,o=e[r];o[s];)s++;for(c=s,h=1===d,o=0;o<d;o++)for(s=0;s<u;s++)e[r+s][c+o]={cell:a,unique:h},e[r+s].nTr=n}a=a.nextSibling}}function j(e,t,n){var i=[];n||(n=e.aoHeader,t&&(n=[],B(n,t)));for(var t=0,a=n.length;t<a;t++)for(var r=0,s=n[t].length;r<s;r++)!n[t][r].unique||i[r]&&e.bSortCellsTop||(i[r]=n[t][r].cell);return i}function F(e,t,n){if(Be(e,"aoServerParams","serverParams",[t]),t&&i.isArray(t)){var a={},r=/(.*?)\[\]$/;i.each(t,function(e,t){var n=t.name.match(r);n?(n=n[0],a[n]||(a[n]=[]),a[n].push(t.value)):a[t.name]=t.value}),t=a}var s,o=e.ajax,l=e.oInstance,c=function(t){Be(e,null,"xhr",[e,t,e.jqXHR]),n(t)};if(i.isPlainObject(o)&&o.data){s=o.data;var d=i.isFunction(s)?s(t,e):s,t=i.isFunction(s)&&d?d:i.extend(!0,t,d);delete o.data}d={data:t,success:function(t){var n=t.error||t.sError;n&&Oe(e,0,n),e.json=t,c(t)},dataType:"json",cache:!1,type:e.sServerMethod,error:function(t,n){var a=Be(e,null,"xhr",[e,null,e.jqXHR]);-1===i.inArray(!0,a)&&("parsererror"==n?Oe(e,0,"Invalid JSON response",1):4===t.readyState&&Oe(e,0,"Ajax error",7)),he(e,!1)}},e.oAjaxData=t,Be(e,null,"preXhr",[e,t]),e.fnServerData?e.fnServerData.call(l,e.sAjaxSource,i.map(t,function(e,t){return{name:t,value:e}}),c,e):e.sAjaxSource||"string"==typeof o?e.jqXHR=i.ajax(i.extend(d,{url:o||e.sAjaxSource})):i.isFunction(o)?e.jqXHR=o.call(l,t,c,e):(e.jqXHR=i.ajax(i.extend(d,o)),o.data=s)}function Y(e){return!e.bAjaxDataGet||(e.iDraw++,he(e,!0),F(e,U(e),function(t){W(e,t)}),!1)}function U(e){var t,n,a,r,s=e.aoColumns,o=s.length,l=e.oFeatures,c=e.oPreviousSearch,d=e.aoPreSearchCols,u=[],h=Se(e);t=e._iDisplayStart,n=!1!==l.bPaginate?e._iDisplayLength:-1;var f=function(e,t){u.push({name:e,value:t})};f("sEcho",e.iDraw),f("iColumns",o),f("sColumns",ct(s,"sName").join(",")),f("iDisplayStart",t),f("iDisplayLength",n);var p={draw:e.iDraw,columns:[],order:[],start:t,length:n,search:{value:c.sSearch,regex:c.bRegex}};for(t=0;t<o;t++)a=s[t],r=d[t],n="function"==typeof a.mData?"function":a.mData,p.columns.push({data:n,name:a.sName,searchable:a.bSearchable,orderable:a.bSortable,search:{value:r.sSearch,regex:r.bRegex}}),f("mDataProp_"+t,n),l.bFilter&&(f("sSearch_"+t,r.sSearch),f("bRegex_"+t,r.bRegex),f("bSearchable_"+t,a.bSearchable)),l.bSort&&f("bSortable_"+t,a.bSortable);return l.bFilter&&(f("sSearch",c.sSearch),f("bRegex",c.bRegex)),l.bSort&&(i.each(h,function(e,t){p.order.push({column:t.col,dir:t.dir}),f("iSortCol_"+e,t.col),f("sSortDir_"+e,t.dir)}),f("iSortingCols",h.length)),s=qe.ext.legacy.ajax,null===s?e.sAjaxSource?u:p:s?u:p}function W(e,t){var i=V(e,t),a=t.sEcho!==n?t.sEcho:t.draw,r=t.iTotalRecords!==n?t.iTotalRecords:t.recordsTotal,s=t.iTotalDisplayRecords!==n?t.iTotalDisplayRecords:t.recordsFiltered;if(a){if(1*a<e.iDraw)return;e.iDraw=1*a}for(E(e),e._iRecordsTotal=parseInt(r,10),e._iRecordsDisplay=parseInt(s,10),a=0,r=i.length;a<r;a++)w(e,i[a]);e.aiDisplay=e.aiDisplayMaster.slice(),e.bAjaxDataGet=!1,L(e),e._bInitComplete||se(e,t),e.bAjaxDataGet=!0,he(e,!1)}function V(e,t){var a=i.isPlainObject(e.ajax)&&e.ajax.dataSrc!==n?e.ajax.dataSrc:e.sAjaxDataProp;return"data"===a?t.aaData||t[a]:""!==a?k(a)(t):t}function q(e){var n=e.oClasses,a=e.sTableId,r=e.oLanguage,s=e.oPreviousSearch,o=e.aanFeatures,l='<input type="search" class="'+n.sFilterInput+'"/>',c=r.sSearch,c=c.match(/_INPUT_/)?c.replace("_INPUT_",l):c+l,n=i("<div/>",{id:o.f?null:a+"_filter",class:n.sFilter}).append(i("<label/>").append(c)),o=function(){var t=this.value?this.value:"";t!=s.sSearch&&(z(e,{sSearch:t,bRegex:s.bRegex,bSmart:s.bSmart,bCaseInsensitive:s.bCaseInsensitive}),e._iDisplayStart=0,L(e))},l=null!==e.searchDelay?e.searchDelay:"ssp"===Ye(e)?400:0,d=i("input",n).val(s.sSearch).attr("placeholder",r.sSearchPlaceholder).bind("keyup.DT search.DT input.DT paste.DT cut.DT",l?ye(o,l):o).bind("keypress.DT",function(e){if(13==e.keyCode)return!1}).attr("aria-controls",a);return i(e.nTable).on("search.dt.DT",function(n,i){if(e===i)try{d[0]!==t.activeElement&&d.val(s.sSearch)}catch(e){}}),n[0]}function z(e,t,i){var a=e.oPreviousSearch,r=e.aoPreSearchCols,s=function(e){a.sSearch=e.sSearch,a.bRegex=e.bRegex,a.bSmart=e.bSmart,a.bCaseInsensitive=e.bCaseInsensitive};if(v(e),"ssp"!=Ye(e)){for(X(e,t.sSearch,i,t.bEscapeRegex!==n?!t.bEscapeRegex:t.bRegex,t.bSmart,t.bCaseInsensitive),s(t),t=0;t<r.length;t++)K(e,r[t].sSearch,t,r[t].bEscapeRegex!==n?!r[t].bEscapeRegex:r[t].bRegex,r[t].bSmart,r[t].bCaseInsensitive);G(e)}else s(t);e.bFiltered=!0,Be(e,null,"search",[e])}function G(e){for(var t,n,i=qe.ext.search,a=e.aiDisplay,r=0,s=i.length;r<s;r++){for(var o=[],l=0,c=a.length;l<c;l++)n=a[l],t=e.aoData[n],i[r](e,t._aFilterData,n,t._aData,l)&&o.push(n);a.length=0,a.push.apply(a,o)}}function K(e,t,n,i,a,r){if(""!==t)for(var s=e.aiDisplay,i=J(t,i,a,r),a=s.length-1;0<=a;a--)t=e.aoData[s[a]]._aFilterData[n],i.test(t)||s.splice(a,1)}function X(e,t,n,i,a,r){var s,i=J(t,i,a,r),a=e.oPreviousSearch.sSearch,r=e.aiDisplayMaster;if(0!==qe.ext.search.length&&(n=!0),s=Q(e),0>=t.length)e.aiDisplay=r.slice();else for((s||n||a.length>t.length||0!==t.indexOf(a)||e.bSorted)&&(e.aiDisplay=r.slice()),t=e.aiDisplay,n=t.length-1;0<=n;n--)i.test(e.aoData[t[n]]._sFilterRow)||t.splice(n,1)}function J(e,t,n,a){return e=t?e:Z(e),n&&(e="^(?=.*?"+i.map(e.match(/"[^"]+"|[^ ]+/g)||[""],function(e){if('"'===e.charAt(0))var t=e.match(/^"(.*)"$/),e=t?t[1]:e;return e.replace('"',"")}).join(")(?=.*?")+").*$"),RegExp(e,a?"i":"")}function Z(e){return e.replace(nt,"\\$1")}function Q(e){var t,n,i,a,r,s,o,l,c=e.aoColumns,d=qe.ext.type.search;for(t=!1,n=0,a=e.aoData.length;n<a;n++)if(l=e.aoData[n],!l._aFilterData){for(s=[],i=0,r=c.length;i<r;i++)t=c[i],t.bSearchable?(o=x(e,n,i,"filter"),d[t.sType]&&(o=d[t.sType](o)),null===o&&(o=""),"string"!=typeof o&&o.toString&&(o=o.toString())):o="",o.indexOf&&-1!==o.indexOf("&")&&(yt.innerHTML=o,o=vt?yt.textContent:yt.innerText),o.replace&&(o=o.replace(/[\r\n]/g,"")),s.push(o);l._aFilterData=s,l._sFilterRow=s.join("  "),t=!0}return t}function ee(e){return{search:e.sSearch,smart:e.bSmart,regex:e.bRegex,caseInsensitive:e.bCaseInsensitive}}function te(e){return{sSearch:e.search,bSmart:e.smart,bRegex:e.regex,bCaseInsensitive:e.caseInsensitive}}function ne(e){var t=e.sTableId,n=e.aanFeatures.i,a=i("<div/>",{class:e.oClasses.sInfo,id:n?null:t+"_info"});return n||(e.aoDrawCallback.push({fn:ie,sName:"information"}),a.attr("role","status").attr("aria-live","polite"),i(e.nTable).attr("aria-describedby",t+"_info")),a[0]}function ie(e){var t=e.aanFeatures.i;if(0!==t.length){var n=e.oLanguage,a=e._iDisplayStart+1,r=e.fnDisplayEnd(),s=e.fnRecordsTotal(),o=e.fnRecordsDisplay(),l=o?n.sInfo:n.sInfoEmpty;o!==s&&(l+=" "+n.sInfoFiltered),l+=n.sInfoPostFix,l=ae(e,l),n=n.fnInfoCallback,null!==n&&(l=n.call(e.oInstance,e,a,r,s,o,l)),i(t).html(l)}}function ae(e,t){var n=e.fnFormatNumber,i=e._iDisplayStart+1,a=e._iDisplayLength,r=e.fnRecordsDisplay(),s=-1===a;return t.replace(/_START_/g,n.call(e,i)).replace(/_END_/g,n.call(e,e.fnDisplayEnd())).replace(/_MAX_/g,n.call(e,e.fnRecordsTotal())).replace(/_TOTAL_/g,n.call(e,r)).replace(/_PAGE_/g,n.call(e,s?1:Math.ceil(i/a))).replace(/_PAGES_/g,n.call(e,s?1:Math.ceil(r/a)))}function re(e){var t,n,i,a=e.iInitDisplayStart,r=e.aoColumns;if(n=e.oFeatures,e.bInitialised){for($(e),O(e),P(e,e.aoHeader),P(e,e.aoFooter),he(e,!0),n.bAutoWidth&&ge(e),t=0,n=r.length;t<n;t++)i=r[t],i.sWidth&&(i.nTh.style.width=xe(i.sWidth));H(e),r=Ye(e),"ssp"!=r&&("ajax"==r?F(e,[],function(n){var i=V(e,n);for(t=0;t<i.length;t++)w(e,i[t]);e.iInitDisplayStart=a,H(e),he(e,!1),se(e,n)},e):(he(e,!1),se(e)))}else setTimeout(function(){re(e)},200)}function se(e,t){e._bInitComplete=!0,t&&f(e),Be(e,"aoInitComplete","init",[e,t])}function oe(e,t){var n=parseInt(t,10);e._iDisplayLength=n,je(e),Be(e,null,"length",[e,n])}function le(e){for(var t=e.oClasses,n=e.sTableId,a=e.aLengthMenu,r=i.isArray(a[0]),s=r?a[0]:a,a=r?a[1]:a,r=i("<select/>",{name:n+"_length","aria-controls":n,class:t.sLengthSelect}),o=0,l=s.length;o<l;o++)r[0][o]=new Option(a[o],s[o]);var c=i("<div><label/></div>").addClass(t.sLength);return e.aanFeatures.l||(c[0].id=n+"_length"),c.children().append(e.oLanguage.sLengthMenu.replace("_MENU_",r[0].outerHTML)),i("select",c).val(e._iDisplayLength).bind("change.DT",function(){oe(e,i(this).val()),L(e)}),i(e.nTable).bind("length.dt.DT",function(t,n,a){e===n&&i("select",c).val(a)}),c[0]}function ce(e){var t=e.sPaginationType,n=qe.ext.pager[t],a="function"==typeof n,r=function(e){L(e)},t=i("<div/>").addClass(e.oClasses.sPaging+t)[0],s=e.aanFeatures;return a||n.fnInit(e,t,r),s.p||(t.id=e.sTableId+"_paginate",e.aoDrawCallback.push({fn:function(e){if(a){var t,i=e._iDisplayStart,o=e._iDisplayLength,l=e.fnRecordsDisplay(),c=-1===o,i=c?0:Math.ceil(i/o),o=c?1:Math.ceil(l/o),l=n(i,o),c=0;for(t=s.p.length;c<t;c++)Fe(e,"pageButton")(e,s.p[c],c,l,i,o)}else n.fnUpdate(e,r)},sName:"pagination"})),t}function de(e,t,n){var i=e._iDisplayStart,a=e._iDisplayLength,r=e.fnRecordsDisplay();return 0===r||-1===a?i=0:"number"==typeof t?(i=t*a)>r&&(i=0):"first"==t?i=0:"previous"==t?0>(i=0<=a?i-a:0)&&(i=0):"next"==t?i+a<r&&(i+=a):"last"==t?i=Math.floor((r-1)/a)*a:Oe(e,0,"Unknown paging action: "+t,5),t=e._iDisplayStart!==i,e._iDisplayStart=i,t&&(Be(e,null,"page",[e]),n&&L(e)),t}function ue(e){return i("<div/>",{id:e.aanFeatures.r?null:e.sTableId+"_processing",class:e.oClasses.sProcessing}).html(e.oLanguage.sProcessing).insertBefore(e.nTable)[0]}function he(e,t){e.oFeatures.bProcessing&&i(e.aanFeatures.r).css("display",t?"block":"none"),Be(e,null,"processing",[e,t])}function fe(e){var t=i(e.nTable);t.attr("role","grid");var n=e.oScroll;if(""===n.sX&&""===n.sY)return e.nTable;var a=n.sX,r=n.sY,s=e.oClasses,o=t.children("caption"),l=o.length?o[0]._captionSide:null,c=i(t[0].cloneNode(!1)),d=i(t[0].cloneNode(!1)),u=t.children("tfoot");n.sX&&"100%"===t.attr("width")&&t.removeAttr("width"),u.length||(u=null),n=i("<div/>",{class:s.sScrollWrapper}).append(i("<div/>",{class:s.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:a?a?xe(a):null:"100%"}).append(i("<div/>",{class:s.sScrollHeadInner}).css({"box-sizing":"content-box",width:n.sXInner||"100%"}).append(c.removeAttr("id").css("margin-left",0).append("top"===l?o:null).append(t.children("thead"))))).append(i("<div/>",{class:s.sScrollBody}).css({overflow:"auto",height:r?xe(r):null,width:a?xe(a):null}).append(t)),u&&n.append(i("<div/>",{class:s.sScrollFoot}).css({overflow:"hidden",border:0,width:a?a?xe(a):null:"100%"}).append(i("<div/>",{class:s.sScrollFootInner}).append(d.removeAttr("id").css("margin-left",0).append("bottom"===l?o:null).append(t.children("tfoot")))));var t=n.children(),h=t[0],s=t[1],f=u?t[2]:null;return a&&i(s).on("scroll.DT",function(){var e=this.scrollLeft;h.scrollLeft=e,u&&(f.scrollLeft=e)}),e.nScrollHead=h,e.nScrollBody=s,e.nScrollFoot=f,e.aoDrawCallback.push({fn:pe,sName:"scrolling"}),n[0]}function pe(e){var t,n,a,r,s,o,l=e.oScroll,c=l.sX,d=l.sXInner,u=l.sY,h=l.iBarWidth,f=i(e.nScrollHead),m=f[0].style,g=f.children("div"),y=g[0].style,v=g.children("table"),g=e.nScrollBody,b=i(g),w=g.style,C=i(e.nScrollFoot).children("div"),x=C.children("table"),_=i(e.nTHead),S=i(e.nTable),k=S[0],D=k.style,T=e.nTFoot?i(e.nTFoot):null,E=e.oBrowser,A=E.bScrollOversize,N=[],M=[],R=[],I=function(e){e=e.style,e.paddingTop="0",e.paddingBottom="0",e.borderTopWidth="0",e.borderBottomWidth="0",e.height=0};S.children("thead, tfoot").remove(),s=_.clone().prependTo(S),t=_.find("tr"),a=s.find("tr"),s.find("th, td").removeAttr("tabindex"),T&&(r=T.clone().prependTo(S),n=T.find("tr"),r=r.find("tr")),c||(w.width="100%",f[0].style.width="100%"),i.each(j(e,s),function(t,n){o=p(e,t),n.style.width=e.aoColumns[o].sWidth}),T&&me(function(e){e.style.width=""},r),l.bCollapse&&""!==u&&(w.height=b[0].offsetHeight+_[0].offsetHeight+"px"),f=S.outerWidth(),""===c?(D.width="100%",A&&(S.find("tbody").height()>g.offsetHeight||"scroll"==b.css("overflow-y"))&&(D.width=xe(S.outerWidth()-h))):""!==d?D.width=xe(d):f==b.width()&&b.height()<S.height()?(D.width=xe(f-h),S.outerWidth()>f-h&&(D.width=xe(f))):D.width=xe(f),f=S.outerWidth(),me(I,a),me(function(e){R.push(e.innerHTML),N.push(xe(i(e).css("width")))},a),me(function(e,t){e.style.width=N[t]},t),i(a).height(0),T&&(me(I,r),me(function(e){M.push(xe(i(e).css("width")))},r),me(function(e,t){e.style.width=M[t]},n),i(r).height(0)),me(function(e,t){e.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+R[t]+"</div>",e.style.width=N[t]},a),T&&me(function(e,t){e.innerHTML="",e.style.width=M[t]},r),S.outerWidth()<f?(n=g.scrollHeight>g.offsetHeight||"scroll"==b.css("overflow-y")?f+h:f,A&&(g.scrollHeight>g.offsetHeight||"scroll"==b.css("overflow-y"))&&(D.width=xe(n-h)),(""===c||""!==d)&&Oe(e,1,"Possible column misalignment",6)):n="100%",w.width=xe(n),m.width=xe(n),T&&(e.nScrollFoot.style.width=xe(n)),!u&&A&&(w.height=xe(k.offsetHeight+h)),u&&l.bCollapse&&(w.height=xe(u),l=c&&k.offsetWidth>g.offsetWidth?h:0,k.offsetHeight<g.offsetHeight&&(w.height=xe(k.offsetHeight+l))),l=S.outerWidth(),v[0].style.width=xe(l),y.width=xe(l),v=S.height()>g.clientHeight||"scroll"==b.css("overflow-y"),E="padding"+(E.bScrollbarLeft?"Left":"Right"),y[E]=v?h+"px":"0px",T&&(x[0].style.width=xe(l),C[0].style.width=xe(l),C[0].style[E]=v?h+"px":"0px"),b.scroll(),!e.bSorted&&!e.bFiltered||e._drawHold||(g.scrollTop=0)}function me(e,t,n){for(var i,a,r=0,s=0,o=t.length;s<o;){for(i=t[s].firstChild,a=n?n[s].firstChild:null;i;)1===i.nodeType&&(n?e(i,a,r):e(i,r),r++),i=i.nextSibling,a=n?a.nextSibling:null;s++}}function ge(t){var n,a,r=t.nTable,s=t.aoColumns,o=t.oScroll,l=o.sY,c=o.sX,d=o.sXInner,u=s.length,o=y(t,"bVisible"),h=i("th",t.nTHead),p=r.getAttribute("width"),m=r.parentNode,v=!1;for((n=r.style.width)&&-1!==n.indexOf("%")&&(p=n),n=0;n<o.length;n++)a=s[o[n]],null!==a.sWidth&&(a.sWidth=ve(a.sWidthOrig,m),v=!0);if(v||c||l||u!=g(t)||u!=h.length){u=i(r).clone().css("visibility","hidden").removeAttr("id"),u.find("tbody tr").remove();var b=i("<tr/>").appendTo(u.find("tbody"));for(u.find("tfoot th, tfoot td").css("width",""),h=j(t,u.find("thead")[0]),n=0;n<o.length;n++)a=s[o[n]],h[n].style.width=null!==a.sWidthOrig&&""!==a.sWidthOrig?xe(a.sWidthOrig):"";if(t.aoData.length)for(n=0;n<o.length;n++)v=o[n],a=s[v],i(we(t,v)).clone(!1).append(a.sContentPadding).appendTo(b);if(u.appendTo(m),c&&d?u.width(d):c?(u.css("width","auto"),u.width()<m.offsetWidth&&u.width(m.offsetWidth)):l?u.width(m.offsetWidth):p&&u.width(p),be(t,u[0]),c){for(n=d=0;n<o.length;n++)a=s[o[n]],l=i(h[n]).outerWidth(),d+=null===a.sWidthOrig?l:parseInt(a.sWidth,10)+l-i(h[n]).width();u.width(xe(d)),r.style.width=xe(d)}for(n=0;n<o.length;n++)a=s[o[n]],(l=i(h[n]).width())&&(a.sWidth=xe(l));r.style.width=xe(u.css("width")),u.remove()}else for(n=0;n<u;n++)s[n].sWidth=xe(h.eq(n).width());p&&(r.style.width=xe(p)),!p&&!c||t._reszEvt||(r=function(){i(e).bind("resize.DT-"+t.sInstance,ye(function(){f(t)}))},t.oBrowser.bScrollOversize?setTimeout(r,1e3):r(),t._reszEvt=!0)}function ye(e,t){var i,a,r=t!==n?t:200;return function(){var t=this,s=+new Date,o=arguments;i&&s<i+r?(clearTimeout(a),a=setTimeout(function(){i=n,e.apply(t,o)},r)):(i=s,e.apply(t,o))}}function ve(e,n){if(!e)return 0;var a=i("<div/>").css("width",xe(e)).appendTo(n||t.body),r=a[0].offsetWidth;return a.remove(),r}function be(e,t){var n=e.oScroll;(n.sX||n.sY)&&(n=n.sX?0:n.iBarWidth,t.style.width=xe(i(t).outerWidth()-n))}function we(e,t){var n=Ce(e,t);if(0>n)return null;var a=e.aoData[n];return a.nTr?a.anCells[t]:i("<td/>").html(x(e,n,t,"display"))[0]}function Ce(e,t){for(var n,i=-1,a=-1,r=0,s=e.aoData.length;r<s;r++)n=x(e,r,t,"display")+"",n=n.replace(bt,""),n.length>i&&(i=n.length,a=r);return a}function xe(e){return null===e?"0px":"number"==typeof e?0>e?"0px":e+"px":e.match(/\d$/)?e+"px":e}function _e(){var e=qe.__scrollbarWidth;if(e===n){var t=i("<p/>").css({position:"absolute",top:0,left:0,width:"100%",height:150,padding:0,overflow:"scroll",visibility:"hidden"}).appendTo("body"),e=t[0].offsetWidth-t[0].clientWidth;qe.__scrollbarWidth=e,t.remove()}return e}function Se(e){var t,a,r,s,o,l,c=[],d=e.aoColumns;t=e.aaSortingFixed,a=i.isPlainObject(t);var u=[];for(r=function(e){e.length&&!i.isArray(e[0])?u.push(e):u.push.apply(u,e)},i.isArray(t)&&r(t),a&&t.pre&&r(t.pre),r(e.aaSorting),a&&t.post&&r(t.post),e=0;e<u.length;e++)for(l=u[e][0],r=d[l].aDataSort,t=0,a=r.length;t<a;t++)s=r[t],o=d[s].sType||"string",u[e]._idx===n&&(u[e]._idx=i.inArray(u[e][1],d[s].asSorting)),c.push({src:l,col:s,dir:u[e][1],index:u[e]._idx,type:o,formatter:qe.ext.type.order[o+"-pre"]});return c}function ke(e){var t,n,i,a,r=[],s=qe.ext.type.order,o=e.aoData,l=0,c=e.aiDisplayMaster;for(v(e),a=Se(e),t=0,n=a.length;t<n;t++)i=a[t],i.formatter&&l++,Ne(e,i.col);if("ssp"!=Ye(e)&&0!==a.length){for(t=0,n=c.length;t<n;t++)r[c[t]]=t;l===a.length?c.sort(function(e,t){var n,i,s,l,c=a.length,d=o[e]._aSortData,u=o[t]._aSortData;for(s=0;s<c;s++)if(l=a[s],n=d[l.col],i=u[l.col],0!==(n=n<i?-1:n>i?1:0))return"asc"===l.dir?n:-n;return n=r[e],i=r[t],n<i?-1:n>i?1:0}):c.sort(function(e,t){var n,i,l,c,d=a.length,u=o[e]._aSortData,h=o[t]._aSortData;for(l=0;l<d;l++)if(c=a[l],n=u[c.col],i=h[c.col],c=s[c.type+"-"+c.dir]||s["string-"+c.dir],0!==(n=c(n,i)))return n;return n=r[e],i=r[t],n<i?-1:n>i?1:0})}e.bSorted=!0}function De(e){for(var t,n,i=e.aoColumns,a=Se(e),e=e.oLanguage.oAria,r=0,s=i.length;r<s;r++){n=i[r];var o=n.asSorting;t=n.sTitle.replace(/<.*?>/g,"");var l=n.nTh;l.removeAttribute("aria-sort"),n.bSortable&&(0<a.length&&a[0].col==r?(l.setAttribute("aria-sort","asc"==a[0].dir?"ascending":"descending"),n=o[a[0].index+1]||o[0]):n=o[0],t+="asc"===n?e.sSortAscending:e.sSortDescending),l.setAttribute("aria-label",t)}}function Te(e,t,a,r){var s=e.aaSorting,o=e.aoColumns[t].asSorting,l=function(e,t){var a=e._idx;return a===n&&(a=i.inArray(e[1],o)),a+1<o.length?a+1:t?null:0};"number"==typeof s[0]&&(s=e.aaSorting=[s]),a&&e.oFeatures.bSortMulti?(a=i.inArray(t,ct(s,"0")),-1!==a?(t=l(s[a],!0),null===t&&1===s.length&&(t=0),null===t?s.splice(a,1):(s[a][1]=o[t],s[a]._idx=t)):(s.push([t,o[0],0]),s[s.length-1]._idx=0)):s.length&&s[0][0]==t?(t=l(s[0]),s.length=1,s[0][1]=o[t],s[0]._idx=t):(s.length=0,s.push([t,o[0]]),s[0]._idx=0),H(e),"function"==typeof r&&r(e)}function Ee(e,t,n,i){var a=e.aoColumns[n];He(t,{},function(t){!1!==a.bSortable&&(e.oFeatures.bProcessing?(he(e,!0),setTimeout(function(){Te(e,n,t.shiftKey,i),"ssp"!==Ye(e)&&he(e,!1)},0)):Te(e,n,t.shiftKey,i))})}function Ae(e){var t,n,a=e.aLastSort,r=e.oClasses.sSortColumn,s=Se(e),o=e.oFeatures;if(o.bSort&&o.bSortClasses){for(o=0,t=a.length;o<t;o++)n=a[o].src,i(ct(e.aoData,"anCells",n)).removeClass(r+(2>o?o+1:3));for(o=0,t=s.length;o<t;o++)n=s[o].src,i(ct(e.aoData,"anCells",n)).addClass(r+(2>o?o+1:3))}e.aLastSort=s}function Ne(e,t){var n,i=e.aoColumns[t],a=qe.ext.order[i.sSortDataType];a&&(n=a.call(e.oInstance,e,t,m(e,t)));for(var r,s=qe.ext.type.order[i.sType+"-pre"],o=0,l=e.aoData.length;o<l;o++)i=e.aoData[o],i._aSortData||(i._aSortData=[]),(!i._aSortData[t]||a)&&(r=a?n[o]:x(e,o,t,"sort"),i._aSortData[t]=s?s(r):r)}function Me(e){if(e.oFeatures.bStateSave&&!e.bDestroying){var t={time:+new Date,start:e._iDisplayStart,length:e._iDisplayLength,order:i.extend(!0,[],e.aaSorting),search:ee(e.oPreviousSearch),columns:i.map(e.aoColumns,function(t,n){return{visible:t.bVisible,search:ee(e.aoPreSearchCols[n])}})};Be(e,"aoStateSaveParams","stateSaveParams",[e,t]),e.oSavedState=t,e.fnStateSaveCallback.call(e.oInstance,e,t)}}function Re(e){var t,a,r=e.aoColumns;if(e.oFeatures.bStateSave){var s=e.fnStateLoadCallback.call(e.oInstance,e);if(s&&s.time&&(t=Be(e,"aoStateLoadParams","stateLoadParams",[e,s]),-1===i.inArray(!1,t)&&!(0<(t=e.iStateDuration)&&s.time<+new Date-1e3*t)&&r.length===s.columns.length)){for(e.oLoadedState=i.extend(!0,{},s),s.start!==n&&(e._iDisplayStart=s.start,e.iInitDisplayStart=s.start),s.length!==n&&(e._iDisplayLength=s.length),s.order!==n&&(e.aaSorting=[],i.each(s.order,function(t,n){e.aaSorting.push(n[0]>=r.length?[0,n[1]]:n)})),s.search!==n&&i.extend(e.oPreviousSearch,te(s.search)),t=0,a=s.columns.length;t<a;t++){var o=s.columns[t];o.visible!==n&&(r[t].bVisible=o.visible),o.search!==n&&i.extend(e.aoPreSearchCols[t],te(o.search))}Be(e,"aoStateLoaded","stateLoaded",[e,s])}}}function Ie(e){var t=qe.settings,e=i.inArray(e,ct(t,"nTable"));return-1!==e?t[e]:null}function Oe(t,n,i,a){if(i="DataTables warning: "+(null!==t?"table id="+t.sTableId+" - ":"")+i,a&&(i+=". For more information about this error, please see http://datatables.net/tn/"+a),n)e.console&&console.log;else if(n=qe.ext,n=n.sErrMode||n.errMode,Be(t,null,"error",[t,a,i]),"alert"==n)alert(i);else{if("throw"==n)throw Error(i);"function"==typeof n&&n(t,a,i)}}function Pe(e,t,a,r){i.isArray(a)?i.each(a,function(n,a){i.isArray(a)?Pe(e,t,a[0],a[1]):Pe(e,t,a)}):(r===n&&(r=a),t[a]!==n&&(e[r]=t[a]))}function Le(e,t,n){var a,r;for(r in t)t.hasOwnProperty(r)&&(a=t[r],i.isPlainObject(a)?(i.isPlainObject(e[r])||(e[r]={}),i.extend(!0,e[r],a)):e[r]=n&&"data"!==r&&"aaData"!==r&&i.isArray(a)?a.slice():a);return e}function He(e,t,n){i(e).bind("click.DT",t,function(t){e.blur(),n(t)}).bind("keypress.DT",t,function(e){13===e.which&&(e.preventDefault(),n(e))}).bind("selectstart.DT",function(){return!1})}function $e(e,t,n,i){n&&e[t].push({fn:n,sName:i})}function Be(e,t,n,a){var r=[];return t&&(r=i.map(e[t].slice().reverse(),function(t){return t.fn.apply(e.oInstance,a)})),null!==n&&(t=i.Event(n+".dt"),i(e.nTable).trigger(t,a),r.push(t.result)),r}function je(e){var t=e._iDisplayStart,n=e.fnDisplayEnd(),i=e._iDisplayLength;t>=n&&(t=n-i),t-=t%i,(-1===i||0>t)&&(t=0),e._iDisplayStart=t}function Fe(e,t){var n=e.renderer,a=qe.ext.renderer[t];return i.isPlainObject(n)&&n[t]?a[n[t]]||a._:"string"==typeof n?a[n]||a._:a._}function Ye(e){return e.oFeatures.bServerSide?"ssp":e.ajax||e.sAjaxSource?"ajax":"dom"}function Ue(e,t){var n=[],n=Lt.numbers_length,i=Math.floor(n/2);return t<=n?n=ut(0,t):e<=i?(n=ut(0,n-2),n.push("ellipsis"),n.push(t-1)):(e>=t-1-i?n=ut(t-(n-2),t):(n=ut(e-i+2,e+i-1),n.push("ellipsis"),n.push(t-1)),n.splice(0,0,"ellipsis"),n.splice(0,0,0)),n.DT_el="span",n}function We(e){i.each({num:function(t){return Ht(t,e)},"num-fmt":function(t){return Ht(t,e,it)},"html-num":function(t){return Ht(t,e,Qe)},"html-num-fmt":function(t){return Ht(t,e,Qe,it)}},function(t,n){ze.type.order[t+e+"-pre"]=n,t.match(/^html\-/)&&(ze.type.search[t+e]=ze.type.search.html)})}function Ve(e){return function(){var t=[Ie(this[qe.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return qe.ext.internal[e].apply(this,t)}}var qe,ze,Ge,Ke,Xe,Je={},Ze=/[\r\n]/g,Qe=/<.*?>/g,et=/^[\w\+\-]/,tt=/[\w\+\-]$/,nt=RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^|\\-)","g"),it=/[',$\u00a3\u20ac\u00a5%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi,at=function(e){return!e||!0===e||"-"===e},rt=function(e){var t=parseInt(e,10);return!isNaN(t)&&isFinite(e)?t:null},st=function(e,t){return Je[t]||(Je[t]=RegExp(Z(t),"g")),"string"==typeof e&&"."!==t?e.replace(/\./g,"").replace(Je[t],"."):e},ot=function(e,t,n){var i="string"==typeof e;return!!at(e)||(t&&i&&(e=st(e,t)),n&&i&&(e=e.replace(it,"")),!isNaN(parseFloat(e))&&isFinite(e))},lt=function(e,t,n){return!!at(e)||(at(e)||"string"==typeof e?!!ot(e.replace(Qe,""),t,n)||null:null)},ct=function(e,t,i){var a=[],r=0,s=e.length;if(i!==n)for(;r<s;r++)e[r]&&e[r][t]&&a.push(e[r][t][i]);else for(;r<s;r++)e[r]&&a.push(e[r][t]);return a},dt=function(e,t,i,a){var r=[],s=0,o=t.length;if(a!==n)for(;s<o;s++)e[t[s]][i]&&r.push(e[t[s]][i][a]);else for(;s<o;s++)r.push(e[t[s]][i]);return r},ut=function(e,t){var i,a=[];t===n?(t=0,i=e):(i=t,t=e);for(var r=t;r<i;r++)a.push(r);return a},ht=function(e){for(var t=[],n=0,i=e.length;n<i;n++)e[n]&&t.push(e[n]);return t},ft=function(e){var t,n,i,a=[],r=e.length,s=0;n=0;e:for(;n<r;n++){for(t=e[n],i=0;i<s;i++)if(a[i]===t)continue e;a.push(t),s++}return a},pt=function(e,t,i){e[t]!==n&&(e[i]=e[t])},mt=/\[.*?\]$/,gt=/\(\)$/,yt=i("<div>")[0],vt=yt.textContent!==n,bt=/<.*?>/g;qe=function(e){this.$=function(e,t){return this.api(!0).$(e,t)},this._=function(e,t){return this.api(!0).rows(e,t).data()},this.api=function(e){return new Ge(e?Ie(this[ze.iApiIndex]):this)},this.fnAddData=function(e,t){var a=this.api(!0),r=i.isArray(e)&&(i.isArray(e[0])||i.isPlainObject(e[0]))?a.rows.add(e):a.row.add(e);return(t===n||t)&&a.draw(),r.flatten().toArray()},this.fnAdjustColumnSizing=function(e){var t=this.api(!0).columns.adjust(),i=t.settings()[0],a=i.oScroll;e===n||e?t.draw(!1):(""!==a.sX||""!==a.sY)&&pe(i)},this.fnClearTable=function(e){var t=this.api(!0).clear();(e===n||e)&&t.draw()},this.fnClose=function(e){this.api(!0).row(e).child.hide()},this.fnDeleteRow=function(e,t,i){var a=this.api(!0),e=a.rows(e),r=e.settings()[0],s=r.aoData[e[0][0]];return e.remove(),t&&t.call(this,r,s),(i===n||i)&&a.draw(),s},this.fnDestroy=function(e){this.api(!0).destroy(e)},this.fnDraw=function(e){this.api(!0).draw(e)},this.fnFilter=function(e,t,i,a,r,s){r=this.api(!0),null===t||t===n?r.search(e,i,a,s):r.column(t).search(e,i,a,s),r.draw()},this.fnGetData=function(e,t){var i=this.api(!0);if(e!==n){var a=e.nodeName?e.nodeName.toLowerCase():"";return t!==n||"td"==a||"th"==a?i.cell(e,t).data():i.row(e).data()||null}return i.data().toArray()},this.fnGetNodes=function(e){var t=this.api(!0);return e!==n?t.row(e).node():t.rows().nodes().flatten().toArray()},this.fnGetPosition=function(e){var t=this.api(!0),n=e.nodeName.toUpperCase();return"TR"==n?t.row(e).index():"TD"==n||"TH"==n?(e=t.cell(e).index(),[e.row,e.columnVisible,e.column]):null},this.fnIsOpen=function(e){return this.api(!0).row(e).child.isShown()},this.fnOpen=function(e,t,n){return this.api(!0).row(e).child(t,n).show().child()[0]},this.fnPageChange=function(e,t){var i=this.api(!0).page(e);(t===n||t)&&i.draw(!1)},this.fnSetColumnVis=function(e,t,i){e=this.api(!0).column(e).visible(t),(i===n||i)&&e.columns.adjust().draw()},this.fnSettings=function(){return Ie(this[ze.iApiIndex])},this.fnSort=function(e){this.api(!0).order(e).draw()},this.fnSortListener=function(e,t,n){this.api(!0).order.listener(e,t,n)},this.fnUpdate=function(e,t,i,a,r){var s=this.api(!0);return i===n||null===i?s.row(t).data(e):s.cell(t,i).data(e),(r===n||r)&&s.columns.adjust(),(a===n||a)&&s.draw(),0},this.fnVersionCheck=ze.fnVersionCheck;var t=this,a=e===n,d=this.length;a&&(e={}),this.oApi=this.internal=ze.internal;for(var f in qe.ext.internal)f&&(this[f]=Ve(f));return this.each(function(){
var f,p={},p=1<d?Le(p,e,!0):e,m=0,g=this.getAttribute("id"),y=!1,v=qe.defaults,x=i(this);if("table"!=this.nodeName.toLowerCase())Oe(null,0,"Non-table node initialisation ("+this.nodeName+")",2);else{o(v),l(v.column),r(v,v,!0),r(v.column,v.column,!0),r(v,i.extend(p,x.data()));var _=qe.settings,m=0;for(f=_.length;m<f;m++){var S=_[m];if(S.nTable==this||S.nTHead.parentNode==this||S.nTFoot&&S.nTFoot.parentNode==this){if(m=p.bRetrieve!==n?p.bRetrieve:v.bRetrieve,a||m)return S.oInstance;if(p.bDestroy!==n?p.bDestroy:v.bDestroy){S.oInstance.fnDestroy();break}return void Oe(S,0,"Cannot reinitialise DataTable",3)}if(S.sTableId==this.id){_.splice(m,1);break}}null!==g&&""!==g||(this.id=g="DataTables_Table_"+qe.ext._unique++);var k=i.extend(!0,{},qe.models.oSettings,{sDestroyWidth:x[0].style.width,sInstance:g,sTableId:g});k.nTable=this,k.oApi=t.internal,k.oInit=p,_.push(k),k.oInstance=1===t.length?t:x.dataTable(),o(p),p.oLanguage&&s(p.oLanguage),p.aLengthMenu&&!p.iDisplayLength&&(p.iDisplayLength=i.isArray(p.aLengthMenu[0])?p.aLengthMenu[0][0]:p.aLengthMenu[0]),p=Le(i.extend(!0,{},v),p),Pe(k.oFeatures,p,"bPaginate bLengthChange bFilter bSort bSortMulti bInfo bProcessing bAutoWidth bSortClasses bServerSide bDeferRender".split(" ")),Pe(k,p,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"],["bJQueryUI","bJUI"]]),Pe(k.oScroll,p,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),Pe(k.oLanguage,p,"fnInfoCallback"),$e(k,"aoDrawCallback",p.fnDrawCallback,"user"),$e(k,"aoServerParams",p.fnServerParams,"user"),$e(k,"aoStateSaveParams",p.fnStateSaveParams,"user"),$e(k,"aoStateLoadParams",p.fnStateLoadParams,"user"),$e(k,"aoStateLoaded",p.fnStateLoaded,"user"),$e(k,"aoRowCallback",p.fnRowCallback,"user"),$e(k,"aoRowCreatedCallback",p.fnCreatedRow,"user"),$e(k,"aoHeaderCallback",p.fnHeaderCallback,"user"),$e(k,"aoFooterCallback",p.fnFooterCallback,"user"),$e(k,"aoInitComplete",p.fnInitComplete,"user"),$e(k,"aoPreDrawCallback",p.fnPreDrawCallback,"user"),g=k.oClasses,p.bJQueryUI?(i.extend(g,qe.ext.oJUIClasses,p.oClasses),p.sDom===v.sDom&&"lfrtip"===v.sDom&&(k.sDom='<"H"lfr>t<"F"ip>'),k.renderer?i.isPlainObject(k.renderer)&&!k.renderer.header&&(k.renderer.header="jqueryui"):k.renderer="jqueryui"):i.extend(g,qe.ext.classes,p.oClasses),x.addClass(g.sTable),""===k.oScroll.sX&&""===k.oScroll.sY||(k.oScroll.iBarWidth=_e()),!0===k.oScroll.sX&&(k.oScroll.sX="100%"),k.iInitDisplayStart===n&&(k.iInitDisplayStart=p.iDisplayStart,k._iDisplayStart=p.iDisplayStart),null!==p.iDeferLoading&&(k.bDeferLoading=!0,m=i.isArray(p.iDeferLoading),k._iRecordsDisplay=m?p.iDeferLoading[0]:p.iDeferLoading,k._iRecordsTotal=m?p.iDeferLoading[1]:p.iDeferLoading);var D=k.oLanguage;i.extend(!0,D,p.oLanguage),""!==D.sUrl&&(i.ajax({dataType:"json",url:D.sUrl,success:function(e){s(e),r(v.oLanguage,e),i.extend(!0,D,e),re(k)},error:function(){re(k)}}),y=!0),null===p.asStripeClasses&&(k.asStripeClasses=[g.sStripeOdd,g.sStripeEven]);var m=k.asStripeClasses,T=x.children("tbody").find("tr").eq(0);if(-1!==i.inArray(!0,i.map(m,function(e){return T.hasClass(e)}))&&(i("tbody tr",this).removeClass(m.join(" ")),k.asDestroyStripes=m.slice()),_=[],m=this.getElementsByTagName("thead"),0!==m.length&&(B(k.aoHeader,m[0]),_=j(k)),null===p.aoColumns)for(S=[],m=0,f=_.length;m<f;m++)S.push(null);else S=p.aoColumns;for(m=0,f=S.length;m<f;m++)u(k,_?_[m]:null);if(b(k,p.aoColumnDefs,S,function(e,t){h(k,e,t)}),T.length){var E=function(e,t){return null!==e.getAttribute("data-"+t)?t:null};i.each(M(k,T[0]).cells,function(e,t){var i=k.aoColumns[e];if(i.mData===e){var a=E(t,"sort")||E(t,"order"),r=E(t,"filter")||E(t,"search");null===a&&null===r||(i.mData={_:e+".display",sort:null!==a?e+".@data-"+a:n,type:null!==a?e+".@data-"+a:n,filter:null!==r?e+".@data-"+r:n},h(k,e))}})}var A=k.oFeatures;if(p.bStateSave&&(A.bStateSave=!0,Re(k),$e(k,"aoDrawCallback",Me,"state_save")),p.aaSorting===n)for(_=k.aaSorting,m=0,f=_.length;m<f;m++)_[m][1]=k.aoColumns[m].asSorting[0];if(Ae(k),A.bSort&&$e(k,"aoDrawCallback",function(){if(k.bSorted){var e=Se(k),t={};i.each(e,function(e,n){t[n.src]=n.dir}),Be(k,null,"order",[k,e,t]),De(k)}}),$e(k,"aoDrawCallback",function(){(k.bSorted||"ssp"===Ye(k)||A.bDeferRender)&&Ae(k)},"sc"),c(k),m=x.children("caption").each(function(){this._captionSide=x.css("caption-side")}),f=x.children("thead"),0===f.length&&(f=i("<thead/>").appendTo(this)),k.nTHead=f[0],f=x.children("tbody"),0===f.length&&(f=i("<tbody/>").appendTo(this)),k.nTBody=f[0],f=x.children("tfoot"),0===f.length&&0<m.length&&(""!==k.oScroll.sX||""!==k.oScroll.sY)&&(f=i("<tfoot/>").appendTo(this)),0===f.length||0===f.children().length?x.addClass(g.sNoFooter):0<f.length&&(k.nTFoot=f[0],B(k.aoFooter,k.nTFoot)),p.aaData)for(m=0;m<p.aaData.length;m++)w(k,p.aaData[m]);else(k.bDeferLoading||"dom"==Ye(k))&&C(k,i(k.nTBody).children("tr"));k.aiDisplay=k.aiDisplayMaster.slice(),k.bInitialised=!0,!1===y&&re(k)}}),t=null,this};var wt=[],Ct=Array.prototype,xt=function(e){var t,n,a=qe.settings,r=i.map(a,function(e){return e.nTable});return e?e.nTable&&e.oApi?[e]:e.nodeName&&"table"===e.nodeName.toLowerCase()?(t=i.inArray(e,r),-1!==t?[a[t]]:null):e&&"function"==typeof e.settings?e.settings().toArray():("string"==typeof e?n=i(e):e instanceof i&&(n=e),n?n.map(function(){return t=i.inArray(this,r),-1!==t?a[t]:null}).toArray():void 0):[]};Ge=function(e,t){if(!(this instanceof Ge))return new Ge(e,t);var n=[],a=function(e){(e=xt(e))&&n.push.apply(n,e)};if(i.isArray(e))for(var r=0,s=e.length;r<s;r++)a(e[r]);else a(e);this.context=ft(n),t&&this.push.apply(this,t.toArray?t.toArray():t),this.selector={rows:null,cols:null,opts:null},Ge.extend(this,this,wt)},qe.Api=Ge,Ge.prototype={any:function(){return 0!==this.flatten().length},concat:Ct.concat,context:[],each:function(e){for(var t=0,n=this.length;t<n;t++)e.call(this,this[t],t,this);return this},eq:function(e){var t=this.context;return t.length>e?new Ge(t[e],this[e]):null},filter:function(e){var t=[];if(Ct.filter)t=Ct.filter.call(this,e,this);else for(var n=0,i=this.length;n<i;n++)e.call(this,this[n],n,this)&&t.push(this[n]);return new Ge(this.context,t)},flatten:function(){var e=[];return new Ge(this.context,e.concat.apply(e,this.toArray()))},join:Ct.join,indexOf:Ct.indexOf||function(e,t){for(var n=t||0,i=this.length;n<i;n++)if(this[n]===e)return n;return-1},iterator:function(e,t,i,a){var r,s,o,l,c,d,u,h=[],f=this.context,p=this.selector;for("string"==typeof e&&(a=i,i=t,t=e,e=!1),s=0,o=f.length;s<o;s++){var m=new Ge(f[s]);if("table"===t)(r=i.call(m,f[s],s))!==n&&h.push(r);else if("columns"===t||"rows"===t)(r=i.call(m,f[s],this[s],s))!==n&&h.push(r);else if("column"===t||"column-rows"===t||"row"===t||"cell"===t)for(u=this[s],"column-rows"===t&&(d=Tt(f[s],p.opts)),l=0,c=u.length;l<c;l++)r=u[l],(r="cell"===t?i.call(m,f[s],r.row,r.column,s,l):i.call(m,f[s],r,s,l,d))!==n&&h.push(r)}return h.length||a?(e=new Ge(f,e?h.concat.apply([],h):h),t=e.selector,t.rows=p.rows,t.cols=p.cols,t.opts=p.opts,e):this},lastIndexOf:Ct.lastIndexOf||function(e,t){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(e){var t=[];if(Ct.map)t=Ct.map.call(this,e,this);else for(var n=0,i=this.length;n<i;n++)t.push(e.call(this,this[n],n));return new Ge(this.context,t)},pluck:function(e){return this.map(function(t){return t[e]})},pop:Ct.pop,push:Ct.push,reduce:Ct.reduce||function(e,t){return d(this,e,t,0,this.length,1)},reduceRight:Ct.reduceRight||function(e,t){return d(this,e,t,this.length-1,-1,-1)},reverse:Ct.reverse,selector:null,shift:Ct.shift,sort:Ct.sort,splice:Ct.splice,toArray:function(){return Ct.slice.call(this)},to$:function(){return i(this)},toJQuery:function(){return i(this)},unique:function(){return new Ge(this.context,ft(this))},unshift:Ct.unshift},Ge.extend=function(e,t,n){if(n.length&&t&&(t instanceof Ge||t.__dt_wrapper)){var a,r,s;for(a=0,r=n.length;a<r;a++)s=n[a],t[s.name]="function"==typeof s.val?function(e,t,n){return function(){var i=t.apply(e,arguments);return Ge.extend(i,i,n.methodExt),i}}(e,s.val,s):i.isPlainObject(s.val)?{}:s.val,t[s.name].__dt_wrapper=!0,Ge.extend(e,t[s.name],s.propExt)}},Ge.register=Ke=function(e,t){if(i.isArray(e))for(var n=0,a=e.length;n<a;n++)Ge.register(e[n],t);else for(var r,s,o=e.split("."),l=wt,n=0,a=o.length;n<a;n++){r=(s=-1!==o[n].indexOf("()"))?o[n].replace("()",""):o[n];var c;e:{c=0;for(var d=l.length;c<d;c++)if(l[c].name===r){c=l[c];break e}c=null}c||(c={name:r,val:{},methodExt:[],propExt:[]},l.push(c)),n===a-1?c.val=t:l=s?c.methodExt:c.propExt}},Ge.registerPlural=Xe=function(e,t,a){Ge.register(e,a),Ge.register(t,function(){var e=a.apply(this,arguments);return e===this?this:e instanceof Ge?e.length?i.isArray(e[0])?new Ge(e.context,e[0]):e[0]:n:e})},Ke("tables()",function(e){var t;if(e){t=Ge;var n=this.context;if("number"==typeof e)e=[n[e]];else var a=i.map(n,function(e){return e.nTable}),e=i(a).filter(e).map(function(){var e=i.inArray(this,a);return n[e]}).toArray();t=new t(e)}else t=this;return t}),Ke("table()",function(e){var e=this.tables(e),t=e.context;return t.length?new Ge(t[0]):e}),Xe("tables().nodes()","table().node()",function(){return this.iterator("table",function(e){return e.nTable},1)}),Xe("tables().body()","table().body()",function(){return this.iterator("table",function(e){return e.nTBody},1)}),Xe("tables().header()","table().header()",function(){return this.iterator("table",function(e){return e.nTHead},1)}),Xe("tables().footer()","table().footer()",function(){return this.iterator("table",function(e){return e.nTFoot},1)}),Xe("tables().containers()","table().container()",function(){return this.iterator("table",function(e){return e.nTableWrapper},1)}),Ke("draw()",function(e){return this.iterator("table",function(t){H(t,!1===e)})}),Ke("page()",function(e){return e===n?this.page.info().page:this.iterator("table",function(t){de(t,e)})}),Ke("page.info()",function(){if(0===this.context.length)return n;var e=this.context[0],t=e._iDisplayStart,i=e._iDisplayLength,a=e.fnRecordsDisplay(),r=-1===i;return{page:r?0:Math.floor(t/i),pages:r?1:Math.ceil(a/i),start:t,end:e.fnDisplayEnd(),length:i,recordsTotal:e.fnRecordsTotal(),recordsDisplay:a}}),Ke("page.len()",function(e){return e===n?0!==this.context.length?this.context[0]._iDisplayLength:n:this.iterator("table",function(t){oe(t,e)})});var _t=function(e,t,n){if(n){var i=new Ge(e);i.one("draw",function(){n(i.ajax.json())})}"ssp"==Ye(e)?H(e,t):(he(e,!0),F(e,[],function(n){E(e);for(var n=V(e,n),i=0,a=n.length;i<a;i++)w(e,n[i]);H(e,t),he(e,!1)}))};Ke("ajax.json()",function(){var e=this.context;if(0<e.length)return e[0].json}),Ke("ajax.params()",function(){var e=this.context;if(0<e.length)return e[0].oAjaxData}),Ke("ajax.reload()",function(e,t){return this.iterator("table",function(n){_t(n,!1===t,e)})}),Ke("ajax.url()",function(e){var t=this.context;return e===n?0===t.length?n:(t=t[0],t.ajax?i.isPlainObject(t.ajax)?t.ajax.url:t.ajax:t.sAjaxSource):this.iterator("table",function(t){i.isPlainObject(t.ajax)?t.ajax.url=e:t.ajax=e})}),Ke("ajax.url().load()",function(e,t){return this.iterator("table",function(n){_t(n,!1===t,e)})});var St=function(e,t,a,r,s){var o,l,c,d,u,h,f=[];for(c=typeof t,t&&"string"!==c&&"function"!==c&&t.length!==n||(t=[t]),c=0,d=t.length;c<d;c++)for(l=t[c]&&t[c].split?t[c].split(","):[t[c]],u=0,h=l.length;u<h;u++)(o=a("string"==typeof l[u]?i.trim(l[u]):l[u]))&&o.length&&f.push.apply(f,o);if(e=ze.selector[e],e.length)for(c=0,d=e.length;c<d;c++)f=e[c](r,s,f);return f},kt=function(e){return e||(e={}),e.filter&&e.search===n&&(e.search=e.filter),i.extend({search:"none",order:"current",page:"all"},e)},Dt=function(e){for(var t=0,n=e.length;t<n;t++)if(0<e[t].length)return e[0]=e[t],e[0].length=1,e.length=1,e.context=[e.context[t]],e;return e.length=0,e},Tt=function(e,t){var n,a,r,s=[],o=e.aiDisplay;n=e.aiDisplayMaster;var l=t.search;if(a=t.order,r=t.page,"ssp"==Ye(e))return"removed"===l?[]:ut(0,n.length);if("current"==r)for(n=e._iDisplayStart,a=e.fnDisplayEnd();n<a;n++)s.push(o[n]);else if("current"==a||"applied"==a)s="none"==l?n.slice():"applied"==l?o.slice():i.map(n,function(e){return-1===i.inArray(e,o)?e:null});else if("index"==a||"original"==a)for(n=0,a=e.aoData.length;n<a;n++)"none"==l?s.push(n):(-1===(r=i.inArray(n,o))&&"removed"==l||0<=r&&"applied"==l)&&s.push(n);return s};Ke("rows()",function(e,t){e===n?e="":i.isPlainObject(e)&&(t=e,e="");var t=kt(t),a=this.iterator("table",function(n){var a=t;return St("row",e,function(e){var t=rt(e);if(null!==t&&!a)return[t];var r=Tt(n,a);return null!==t&&-1!==i.inArray(t,r)?[t]:e?"function"==typeof e?i.map(r,function(t){var i=n.aoData[t];return e(t,i._aData,i.nTr)?t:null}):(t=ht(dt(n.aoData,r,"nTr")),e.nodeName&&-1!==i.inArray(e,t)?[e._DT_RowIndex]:i(t).filter(e).map(function(){return this._DT_RowIndex}).toArray()):r},n,a)},1);return a.selector.rows=e,a.selector.opts=t,a}),Ke("rows().nodes()",function(){return this.iterator("row",function(e,t){return e.aoData[t].nTr||n},1)}),Ke("rows().data()",function(){return this.iterator(!0,"rows",function(e,t){return dt(e.aoData,t,"_aData")},1)}),Xe("rows().cache()","row().cache()",function(e){return this.iterator("row",function(t,n){var i=t.aoData[n];return"search"===e?i._aFilterData:i._aSortData},1)}),Xe("rows().invalidate()","row().invalidate()",function(e){return this.iterator("row",function(t,n){N(t,n,e)})}),Xe("rows().indexes()","row().index()",function(){return this.iterator("row",function(e,t){return t},1)}),Xe("rows().remove()","row().remove()",function(){var e=this;return this.iterator("row",function(t,n,a){var r=t.aoData;r.splice(n,1);for(var s=0,o=r.length;s<o;s++)null!==r[s].nTr&&(r[s].nTr._DT_RowIndex=s);i.inArray(n,t.aiDisplay),A(t.aiDisplayMaster,n),A(t.aiDisplay,n),A(e[a],n,!1),je(t)})}),Ke("rows.add()",function(e){var t=this.iterator("table",function(t){var n,i,a,r=[];for(i=0,a=e.length;i<a;i++)n=e[i],n.nodeName&&"TR"===n.nodeName.toUpperCase()?r.push(C(t,n)[0]):r.push(w(t,n));return r},1),n=this.rows(-1);return n.pop(),n.push.apply(n,t.toArray()),n}),Ke("row()",function(e,t){return Dt(this.rows(e,t))}),Ke("row().data()",function(e){var t=this.context;return e===n?t.length&&this.length?t[0].aoData[this[0]]._aData:n:(t[0].aoData[this[0]]._aData=e,N(t[0],this[0],"data"),this)}),Ke("row().node()",function(){var e=this.context;return e.length&&this.length?e[0].aoData[this[0]].nTr||null:null}),Ke("row.add()",function(e){e instanceof i&&e.length&&(e=e[0]);var t=this.iterator("table",function(t){return e.nodeName&&"TR"===e.nodeName.toUpperCase()?C(t,e)[0]:w(t,e)});return this.row(t[0])});var Et=function(e,t){var i=e.context;i.length&&(i=i[0].aoData[t!==n?t:e[0]],i._details&&(i._details.remove(),i._detailsShow=n,i._details=n))},At=function(e,t){var n=e.context;if(n.length&&e.length){var i=n[0].aoData[e[0]];if(i._details){(i._detailsShow=t)?i._details.insertAfter(i.nTr):i._details.detach();var a=n[0],r=new Ge(a),s=a.aoData;r.off("draw.dt.DT_details column-visibility.dt.DT_details destroy.dt.DT_details"),0<ct(s,"_details").length&&(r.on("draw.dt.DT_details",function(e,t){a===t&&r.rows({page:"current"}).eq(0).each(function(e){e=s[e],e._detailsShow&&e._details.insertAfter(e.nTr)})}),r.on("column-visibility.dt.DT_details",function(e,t){if(a===t)for(var n,i=g(t),r=0,o=s.length;r<o;r++)n=s[r],n._details&&n._details.children("td[colspan]").attr("colspan",i)}),r.on("destroy.dt.DT_details",function(e,t){if(a===t)for(var n=0,i=s.length;n<i;n++)s[n]._details&&Et(r,n)}))}}};Ke("row().child()",function(e,t){var a=this.context;if(e===n)return a.length&&this.length?a[0].aoData[this[0]]._details:n;if(!0===e)this.child.show();else if(!1===e)Et(this);else if(a.length&&this.length){var r=a[0],a=a[0].aoData[this[0]],s=[],o=function(e,t){if(i.isArray(e)||e instanceof i)for(var n=0,a=e.length;n<a;n++)o(e[n],t);else e.nodeName&&"tr"===e.nodeName.toLowerCase()?s.push(e):(n=i("<tr><td/></tr>").addClass(t),i("td",n).addClass(t).html(e)[0].colSpan=g(r),s.push(n[0]))};o(e,t),a._details&&a._details.remove(),a._details=i(s),a._detailsShow&&a._details.insertAfter(a.nTr)}return this}),Ke(["row().child.show()","row().child().show()"],function(){return At(this,!0),this}),Ke(["row().child.hide()","row().child().hide()"],function(){return At(this,!1),this}),Ke(["row().child.remove()","row().child().remove()"],function(){return Et(this),this}),Ke("row().child.isShown()",function(){var e=this.context;return!(!e.length||!this.length)&&(e[0].aoData[this[0]]._detailsShow||!1)});var Nt=/^(.+):(name|visIdx|visible)$/,Mt=function(e,t,n,i,a){for(var n=[],i=0,r=a.length;i<r;i++)n.push(x(e,a[i],t));return n};Ke("columns()",function(e,t){e===n?e="":i.isPlainObject(e)&&(t=e,e="");var t=kt(t),a=this.iterator("table",function(n){var a=e,r=t,s=n.aoColumns,o=ct(s,"sName"),l=ct(s,"nTh");return St("column",a,function(e){var t=rt(e);if(""===e)return ut(s.length);if(null!==t)return[t>=0?t:s.length+t];if("function"==typeof e){var a=Tt(n,r);return i.map(s,function(t,i){return e(i,Mt(n,i,0,0,a),l[i])?i:null})}var c="string"==typeof e?e.match(Nt):"";if(!c)return i(l).filter(e).map(function(){return i.inArray(this,l)}).toArray();switch(c[2]){case"visIdx":case"visible":if((t=parseInt(c[1],10))<0){var d=i.map(s,function(e,t){return e.bVisible?t:null});return[d[d.length+t]]}return[p(n,t)];case"name":return i.map(o,function(e,t){return e===c[1]?t:null})}},n,r)},1);return a.selector.cols=e,a.selector.opts=t,a}),Xe("columns().header()","column().header()",function(){return this.iterator("column",function(e,t){return e.aoColumns[t].nTh},1)}),Xe("columns().footer()","column().footer()",function(){return this.iterator("column",function(e,t){return e.aoColumns[t].nTf},1)}),Xe("columns().data()","column().data()",function(){return this.iterator("column-rows",Mt,1)}),Xe("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(e,t){return e.aoColumns[t].mData},1)}),Xe("columns().cache()","column().cache()",function(e){return this.iterator("column-rows",function(t,n,i,a,r){return dt(t.aoData,r,"search"===e?"_aFilterData":"_aSortData",n)},1)}),Xe("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(e,t,n,i,a){return dt(e.aoData,a,"anCells",t)},1)}),Xe("columns().visible()","column().visible()",function(e,t){return this.iterator("column",function(a,r){if(e===n)return a.aoColumns[r].bVisible;var s,o,l,c=a.aoColumns,d=c[r],u=a.aoData;if(e!==n&&d.bVisible!==e){if(e){var h=i.inArray(!0,ct(c,"bVisible"),r+1);for(s=0,o=u.length;s<o;s++)l=u[s].nTr,c=u[s].anCells,l&&l.insertBefore(c[r],c[h]||null)}else i(ct(a.aoData,"anCells",r)).detach();d.bVisible=e,P(a,a.aoHeader),P(a,a.aoFooter),(t===n||t)&&(f(a),(a.oScroll.sX||a.oScroll.sY)&&pe(a)),Be(a,null,"column-visibility",[a,r,e]),Me(a)}})}),Xe("columns().indexes()","column().index()",function(e){return this.iterator("column",function(t,n){return"visible"===e?m(t,n):n},1)}),Ke("columns.adjust()",function(){return this.iterator("table",function(e){f(e)},1)}),Ke("column.index()",function(e,t){if(0!==this.context.length){var n=this.context[0];if("fromVisible"===e||"toData"===e)return p(n,t);if("fromData"===e||"toVisible"===e)return m(n,t)}}),Ke("column()",function(e,t){return Dt(this.columns(e,t))}),Ke("cells()",function(e,t,a){if(i.isPlainObject(e)&&(e.row===n?(a=e,e=null):(a=t,t=null)),i.isPlainObject(t)&&(a=t,t=null),null===t||t===n)return this.iterator("table",function(t){var r,s,o,l,c,d,u,h=e,f=kt(a),p=t.aoData,m=Tt(t,f),g=ht(dt(p,m,"anCells")),y=i([].concat.apply([],g)),v=t.aoColumns.length;return St("cell",h,function(e){var a="function"==typeof e;if(null===e||e===n||a){for(s=[],o=0,l=m.length;o<l;o++)for(r=m[o],c=0;c<v;c++)d={row:r,column:c},a?(u=t.aoData[r],e(d,x(t,r,c),u.anCells?u.anCells[c]:null)&&s.push(d)):s.push(d);return s}return i.isPlainObject(e)?[e]:y.filter(e).map(function(e,t){return r=t.parentNode._DT_RowIndex,{row:r,column:i.inArray(t,p[r].anCells)}}).toArray()},t,f)});var r,s,o,l,c,d=this.columns(t,a),u=this.rows(e,a),h=this.iterator("table",function(e,t){for(r=[],s=0,o=u[t].length;s<o;s++)for(l=0,c=d[t].length;l<c;l++)r.push({row:u[t][s],column:d[t][l]});return r},1);return i.extend(h.selector,{cols:t,rows:e,opts:a}),h}),Xe("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(e,t,i){return(e=e.aoData[t].anCells)?e[i]:n},1)}),Ke("cells().data()",function(){return this.iterator("cell",function(e,t,n){return x(e,t,n)},1)}),Xe("cells().cache()","cell().cache()",function(e){return e="search"===e?"_aFilterData":"_aSortData",this.iterator("cell",function(t,n,i){return t.aoData[n][e][i]},1)}),Xe("cells().render()","cell().render()",function(e){return this.iterator("cell",function(t,n,i){return x(t,n,i,e)},1)}),Xe("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(e,t,n){return{row:t,column:n,columnVisible:m(e,n)}},1)}),Xe("cells().invalidate()","cell().invalidate()",function(e){return this.iterator("cell",function(t,n,i){N(t,n,e,i)})}),Ke("cell()",function(e,t,n){return Dt(this.cells(e,t,n))}),Ke("cell().data()",function(e){var t=this.context,i=this[0];return e===n?t.length&&i.length?x(t[0],i[0].row,i[0].column):n:(_(t[0],i[0].row,i[0].column,e),N(t[0],i[0].row,"data",i[0].column),this)}),Ke("order()",function(e,t){var a=this.context;return e===n?0!==a.length?a[0].aaSorting:n:("number"==typeof e?e=[[e,t]]:i.isArray(e[0])||(e=Array.prototype.slice.call(arguments)),this.iterator("table",function(t){t.aaSorting=e.slice()}))}),Ke("order.listener()",function(e,t,n){return this.iterator("table",function(i){Ee(i,e,t,n)})}),Ke(["columns().order()","column().order()"],function(e){var t=this;return this.iterator("table",function(n,a){var r=[];i.each(t[a],function(t,n){r.push([n,e])}),n.aaSorting=r})}),Ke("search()",function(e,t,a,r){var s=this.context;return e===n?0!==s.length?s[0].oPreviousSearch.sSearch:n:this.iterator("table",function(n){n.oFeatures.bFilter&&z(n,i.extend({},n.oPreviousSearch,{sSearch:e+"",bRegex:null!==t&&t,bSmart:null===a||a,bCaseInsensitive:null===r||r}),1)})}),Xe("columns().search()","column().search()",function(e,t,a,r){return this.iterator("column",function(s,o){var l=s.aoPreSearchCols;if(e===n)return l[o].sSearch;s.oFeatures.bFilter&&(i.extend(l[o],{sSearch:e+"",bRegex:null!==t&&t,bSmart:null===a||a,bCaseInsensitive:null===r||r}),z(s,s.oPreviousSearch,1))})}),Ke("state()",function(){return this.context.length?this.context[0].oSavedState:null}),Ke("state.clear()",function(){return this.iterator("table",function(e){e.fnStateSaveCallback.call(e.oInstance,e,{})})}),Ke("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),Ke("state.save()",function(){return this.iterator("table",function(e){Me(e)})}),qe.versionCheck=qe.fnVersionCheck=function(e){for(var t,n,i=qe.version.split("."),e=e.split("."),a=0,r=e.length;a<r;a++)if(t=parseInt(i[a],10)||0,n=parseInt(e[a],10)||0,t!==n)return t>n;return!0},qe.isDataTable=qe.fnIsDataTable=function(e){var t=i(e).get(0),n=!1;return i.each(qe.settings,function(e,a){var r=a.nScrollHead?i("table",a.nScrollHead)[0]:null,s=a.nScrollFoot?i("table",a.nScrollFoot)[0]:null;a.nTable!==t&&r!==t&&s!==t||(n=!0)}),n},qe.tables=qe.fnTables=function(e){return i.map(qe.settings,function(t){if(!e||e&&i(t.nTable).is(":visible"))return t.nTable})},qe.util={throttle:ye,escapeRegex:Z},qe.camelToHungarian=r,Ke("$()",function(e,t){var n=this.rows(t).nodes(),n=i(n);return i([].concat(n.filter(e).toArray(),n.find(e).toArray()))}),i.each(["on","one","off"],function(e,t){Ke(t+"()",function(){var e=Array.prototype.slice.call(arguments);e[0].match(/\.dt\b/)||(e[0]+=".dt");var n=i(this.tables().nodes());return n[t].apply(n,e),this})}),Ke("clear()",function(){return this.iterator("table",function(e){E(e)})}),Ke("settings()",function(){return new Ge(this.context,this.context)}),Ke("init()",function(){var e=this.context;return e.length?e[0].oInit:null}),Ke("data()",function(){return this.iterator("table",function(e){return ct(e.aoData,"_aData")}).flatten()}),Ke("destroy()",function(t){return t=t||!1,this.iterator("table",function(n){var a,r=n.nTableWrapper.parentNode,s=n.oClasses,o=n.nTable,l=n.nTBody,c=n.nTHead,d=n.nTFoot,u=i(o),l=i(l),h=i(n.nTableWrapper),f=i.map(n.aoData,function(e){return e.nTr});n.bDestroying=!0,Be(n,"aoDestroyCallback","destroy",[n]),t||new Ge(n).columns().visible(!0),h.unbind(".DT").find(":not(tbody *)").unbind(".DT"),i(e).unbind(".DT-"+n.sInstance),o!=c.parentNode&&(u.children("thead").detach(),u.append(c)),d&&o!=d.parentNode&&(u.children("tfoot").detach(),u.append(d)),u.detach(),h.detach(),n.aaSorting=[],n.aaSortingFixed=[],Ae(n),i(f).removeClass(n.asStripeClasses.join(" ")),i("th, td",c).removeClass(s.sSortable+" "+s.sSortableAsc+" "+s.sSortableDesc+" "+s.sSortableNone),n.bJUI&&(i("th span."+s.sSortIcon+", td span."+s.sSortIcon,c).detach(),i("th, td",c).each(function(){var e=i("div."+s.sSortJUIWrapper,this);i(this).append(e.contents()),e.detach()})),!t&&r&&r.insertBefore(o,n.nTableReinsertBefore),l.children().detach(),l.append(f),u.css("width",n.sDestroyWidth).removeClass(s.sTable),(a=n.asDestroyStripes.length)&&l.children().each(function(e){i(this).addClass(n.asDestroyStripes[e%a])}),-1!==(r=i.inArray(n,qe.settings))&&qe.settings.splice(r,1)})}),i.each(["column","row","cell"],function(e,t){Ke(t+"s().every()",function(e){return this.iterator(t,function(n,i,a){e.call(new Ge(n)[t](i,a))})})}),Ke("i18n()",function(e,t,a){var r=this.context[0],e=k(e)(r.oLanguage);return e===n&&(e=t),a!==n&&i.isPlainObject(e)&&(e=e[a]!==n?e[a]:e._),e.replace("%d",a)}),qe.version="1.10.7",qe.settings=[],qe.models={},qe.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},qe.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null},qe.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},qe.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(e){try{return JSON.parse((-1===e.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+e.sInstance+"_"+location.pathname))}catch(e){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(e,t){try{(-1===e.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+e.sInstance+"_"+location.pathname,JSON.stringify(t))}catch(e){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:i.extend({},qe.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null},a(qe.defaults),qe.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},a(qe.defaults.column),qe.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:n,oAjaxData:n,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==Ye(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==Ye(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var e=this._iDisplayLength,t=this._iDisplayStart,n=t+e,i=this.aiDisplay.length,a=this.oFeatures,r=a.bPaginate;return a.bServerSide?!1===r||-1===e?t+i:Math.min(t+e,this._iRecordsDisplay):!r||n>i||-1===e?i:n},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{}},qe.ext=ze={buttons:{},classes:{},errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:qe.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:qe.version},i.extend(ze,{afnFiltering:ze.search,aTypes:ze.type.detect,ofnSearch:ze.type.search,oSort:ze.type.order,afnSortData:ze.order,aoFeatures:ze.feature,oApi:ze.internal,oStdClasses:ze.classes,oPagination:ze.pager}),i.extend(qe.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",
sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var Rt="",Rt="",It=Rt+"ui-state-default",Ot=Rt+"css_right ui-icon ui-icon-",Pt=Rt+"fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix";i.extend(qe.ext.oJUIClasses,qe.ext.classes,{sPageButton:"fg-button ui-button "+It,sPageButtonActive:"ui-state-disabled",sPageButtonDisabled:"ui-state-disabled",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:It+" sorting_asc",sSortDesc:It+" sorting_desc",sSortable:It+" sorting",sSortableAsc:It+" sorting_asc_disabled",sSortableDesc:It+" sorting_desc_disabled",sSortableNone:It+" sorting_disabled",sSortJUIAsc:Ot+"triangle-1-n",sSortJUIDesc:Ot+"triangle-1-s",sSortJUI:Ot+"carat-2-n-s",sSortJUIAscAllowed:Ot+"carat-1-n",sSortJUIDescAllowed:Ot+"carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead "+It,sScrollFoot:"dataTables_scrollFoot "+It,sHeaderTH:It,sFooterTH:It,sJUIHeader:Pt+" ui-corner-tl ui-corner-tr",sJUIFooter:Pt+" ui-corner-bl ui-corner-br"});var Lt=qe.ext.pager;i.extend(Lt,{simple:function(){return["previous","next"]},full:function(){return["first","previous","next","last"]},simple_numbers:function(e,t){return["previous",Ue(e,t),"next"]},full_numbers:function(e,t){return["first","previous",Ue(e,t),"next","last"]},_numbers:Ue,numbers_length:7}),i.extend(!0,qe.ext.renderer,{pageButton:{_:function(e,n,a,r,s,o){var l,c,d,u=e.oClasses,h=e.oLanguage.oPaginate,f=0,p=function(t,n){var r,d,m,g,y=function(t){de(e,t.data.action,!0)};for(r=0,d=n.length;r<d;r++)if(g=n[r],i.isArray(g))m=i("<"+(g.DT_el||"div")+"/>").appendTo(t),p(m,g);else{switch(c=l="",g){case"ellipsis":t.append('<span class="ellipsis">&#x2026;</span>');break;case"first":l=h.sFirst,c=g+(s>0?"":" "+u.sPageButtonDisabled);break;case"previous":l=h.sPrevious,c=g+(s>0?"":" "+u.sPageButtonDisabled);break;case"next":l=h.sNext,c=g+(s<o-1?"":" "+u.sPageButtonDisabled);break;case"last":l=h.sLast,c=g+(s<o-1?"":" "+u.sPageButtonDisabled);break;default:l=g+1,c=s===g?u.sPageButtonActive:""}l&&(m=i("<a>",{class:u.sPageButton+" "+c,"aria-controls":e.sTableId,"data-dt-idx":f,tabindex:e.iTabIndex,id:0===a&&"string"==typeof g?e.sTableId+"_"+g:null}).html(l).appendTo(t),He(m,{action:g},y),f++)}};try{d=i(t.activeElement).data("dt-idx")}catch(e){}p(i(n).empty(),r),d&&i(n).find("[data-dt-idx="+d+"]").focus()}}}),i.extend(qe.ext.type.detect,[function(e,t){var n=t.oLanguage.sDecimal;return ot(e,n)?"num"+n:null},function(e){if(e&&!(e instanceof Date)&&(!et.test(e)||!tt.test(e)))return null;var t=Date.parse(e);return null!==t&&!isNaN(t)||at(e)?"date":null},function(e,t){var n=t.oLanguage.sDecimal;return ot(e,n,!0)?"num-fmt"+n:null},function(e,t){var n=t.oLanguage.sDecimal;return lt(e,n)?"html-num"+n:null},function(e,t){var n=t.oLanguage.sDecimal;return lt(e,n,!0)?"html-num-fmt"+n:null},function(e){return at(e)||"string"==typeof e&&-1!==e.indexOf("<")?"html":null}]),i.extend(qe.ext.type.search,{html:function(e){return at(e)?e:"string"==typeof e?e.replace(Ze," ").replace(Qe,""):""},string:function(e){return at(e)?e:"string"==typeof e?e.replace(Ze," "):e}});var Ht=function(e,t,n,i){return 0===e||e&&"-"!==e?(t&&(e=st(e,t)),e.replace&&(n&&(e=e.replace(n,"")),i&&(e=e.replace(i,""))),1*e):-1/0};return i.extend(ze.type.order,{"date-pre":function(e){return Date.parse(e)||0},"html-pre":function(e){return at(e)?"":e.replace?e.replace(/<.*?>/g,"").toLowerCase():e+""},"string-pre":function(e){return at(e)?"":"string"==typeof e?e.toLowerCase():e.toString?e.toString():""},"string-asc":function(e,t){return e<t?-1:e>t?1:0},"string-desc":function(e,t){return e<t?1:e>t?-1:0}}),We(""),i.extend(!0,qe.ext.renderer,{header:{_:function(e,t,n,a){i(e.nTable).on("order.dt.DT",function(i,r,s,o){e===r&&(i=n.idx,t.removeClass(n.sSortingClass+" "+a.sSortAsc+" "+a.sSortDesc).addClass("asc"==o[i]?a.sSortAsc:"desc"==o[i]?a.sSortDesc:n.sSortingClass))})},jqueryui:function(e,t,n,a){i("<div/>").addClass(a.sSortJUIWrapper).append(t.contents()).append(i("<span/>").addClass(a.sSortIcon+" "+n.sSortingClassJUI)).appendTo(t),i(e.nTable).on("order.dt.DT",function(i,r,s,o){e===r&&(i=n.idx,t.removeClass(a.sSortAsc+" "+a.sSortDesc).addClass("asc"==o[i]?a.sSortAsc:"desc"==o[i]?a.sSortDesc:n.sSortingClass),t.find("span."+a.sSortIcon).removeClass(a.sSortJUIAsc+" "+a.sSortJUIDesc+" "+a.sSortJUI+" "+a.sSortJUIAscAllowed+" "+a.sSortJUIDescAllowed).addClass("asc"==o[i]?a.sSortJUIAsc:"desc"==o[i]?a.sSortJUIDesc:n.sSortingClassJUI))})}}}),qe.render={number:function(e,t,n,i){return{display:function(a){if("number"!=typeof a&&"string"!=typeof a)return a;var r=0>a?"-":"",a=Math.abs(parseFloat(a)),s=parseInt(a,10),a=n?t+(a-s).toFixed(n).substring(2):"";return r+(i||"")+s.toString().replace(/\B(?=(\d{3})+(?!\d))/g,e)+a}}}},i.extend(qe.ext.internal,{_fnExternApiFunc:Ve,_fnBuildAjax:F,_fnAjaxUpdate:Y,_fnAjaxParameters:U,_fnAjaxUpdateDraw:W,_fnAjaxDataSrc:V,_fnAddColumn:u,_fnColumnOptions:h,_fnAdjustColumnSizing:f,_fnVisibleToColumnIndex:p,_fnColumnIndexToVisible:m,_fnVisbleColumns:g,_fnGetColumns:y,_fnColumnTypes:v,_fnApplyColumnDefs:b,_fnHungarianMap:a,_fnCamelToHungarian:r,_fnLanguageCompat:s,_fnBrowserDetect:c,_fnAddData:w,_fnAddTr:C,_fnNodeToDataIndex:function(e,t){return t._DT_RowIndex!==n?t._DT_RowIndex:null},_fnNodeToColumnIndex:function(e,t,n){return i.inArray(n,e.aoData[t].anCells)},_fnGetCellData:x,_fnSetCellData:_,_fnSplitObjNotation:S,_fnGetObjectDataFn:k,_fnSetObjectDataFn:D,_fnGetDataMaster:T,_fnClearTable:E,_fnDeleteIndex:A,_fnInvalidate:N,_fnGetRowElements:M,_fnCreateTr:R,_fnBuildHead:O,_fnDrawHead:P,_fnDraw:L,_fnReDraw:H,_fnAddOptionsHtml:$,_fnDetectHeader:B,_fnGetUniqueThs:j,_fnFeatureHtmlFilter:q,_fnFilterComplete:z,_fnFilterCustom:G,_fnFilterColumn:K,_fnFilter:X,_fnFilterCreateSearch:J,_fnEscapeRegex:Z,_fnFilterData:Q,_fnFeatureHtmlInfo:ne,_fnUpdateInfo:ie,_fnInfoMacros:ae,_fnInitialise:re,_fnInitComplete:se,_fnLengthChange:oe,_fnFeatureHtmlLength:le,_fnFeatureHtmlPaginate:ce,_fnPageChange:de,_fnFeatureHtmlProcessing:ue,_fnProcessingDisplay:he,_fnFeatureHtmlTable:fe,_fnScrollDraw:pe,_fnApplyToChildren:me,_fnCalculateColumnWidths:ge,_fnThrottle:ye,_fnConvertToWidth:ve,_fnScrollingWidthAdjust:be,_fnGetWidestNode:we,_fnGetMaxLenString:Ce,_fnStringToCss:xe,_fnScrollBarWidth:_e,_fnSortFlatten:Se,_fnSort:ke,_fnSortAria:De,_fnSortListener:Te,_fnSortAttachListener:Ee,_fnSortingClasses:Ae,_fnSortData:Ne,_fnSaveState:Me,_fnLoadState:Re,_fnSettingsFromNode:Ie,_fnLog:Oe,_fnMap:Pe,_fnBindAction:He,_fnCallbackReg:$e,_fnCallbackFire:Be,_fnLengthOverflow:je,_fnRenderer:Fe,_fnDataSource:Ye,_fnRowAttributes:I,_fnCalculateEnd:function(){}}),i.fn.dataTable=qe,i.fn.dataTableSettings=qe.settings,i.fn.dataTableExt=qe.ext,i.fn.DataTable=function(e){return i(this).dataTable(e).api()},i.each(qe,function(e,t){i.fn.DataTable[e]=t}),i.fn.dataTable};"function"==typeof define&&define.amd?define("datatables",["jquery"],i):"object"==typeof exports?module.exports=i(require("jquery")):jQuery&&!jQuery.fn.dataTable&&i(jQuery)}(window,document),function(e,t){var n=function(e,n){e.extend(!0,n.defaults,{dom:"<'row'<'col-sm-6'l><'col-sm-6'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",renderer:"bootstrap"}),e.extend(n.ext.classes,{sWrapper:"dataTables_wrapper form-inline dt-bootstrap",sFilterInput:"form-control input-sm",sLengthSelect:"form-control input-sm"}),n.ext.renderer.pageButton.bootstrap=function(i,a,r,s,o,l){var c,d,u,h=new n.Api(i),f=i.oClasses,p=i.oLanguage.oPaginate,m=0,g=function(t,n){var a,s,u,y,v=function(t){t.preventDefault(),e(t.currentTarget).hasClass("disabled")||h.page(t.data.action).draw(!1)};for(a=0,s=n.length;a<s;a++)if(y=n[a],e.isArray(y))g(t,y);else{switch(d=c="",y){case"ellipsis":c="&hellip;",d="disabled";break;case"first":c=p.sFirst,d=y+(0<o?"":" disabled");break;case"previous":c=p.sPrevious,d=y+(0<o?"":" disabled");break;case"next":c=p.sNext,d=y+(o<l-1?"":" disabled");break;case"last":c=p.sLast,d=y+(o<l-1?"":" disabled");break;default:c=y+1,d=o===y?"active":""}c&&(u=e("<li>",{class:f.sPageButton+" "+d,id:0===r&&"string"==typeof y?i.sTableId+"_"+y:null}).append(e("<a>",{href:"#","aria-controls":i.sTableId,"data-dt-idx":m,tabindex:i.iTabIndex}).html(c)).appendTo(t),i.oApi._fnBindAction(u,{action:y},v),m++)}};try{u=e(t.activeElement).data("dt-idx")}catch(e){}g(e(a).empty().html('<ul class="pagination"/>').children("ul"),s),u&&e(a).find("[data-dt-idx="+u+"]").focus()},n.TableTools&&(e.extend(!0,n.TableTools.classes,{container:"DTTT btn-group",buttons:{normal:"btn btn-default",disabled:"disabled"},collection:{container:"DTTT_dropdown dropdown-menu",buttons:{normal:"",disabled:"disabled"}},print:{info:"DTTT_print_info"},select:{row:"active"}}),e.extend(!0,n.TableTools.DEFAULTS.oTags,{collection:{container:"ul",button:"li",liner:"a"}}))};"function"==typeof define&&define.amd?define(["jquery","datatables"],n):"object"==typeof exports?n(require("jquery"),require("datatables")):jQuery&&n(jQuery,jQuery.fn.dataTable)}(window,document),"undefined"==typeof jQuery)throw new Error("AdminLTE requires jQuery");$.AdminLTE={},$.AdminLTE.options={navbarMenuSlimscroll:!0,navbarMenuSlimscrollWidth:"3px",navbarMenuHeight:"200px",animationSpeed:500,sidebarToggleSelector:"[data-toggle='offcanvas']",sidebarPushMenu:!0,sidebarSlimScroll:!0,sidebarExpandOnHover:!1,enableBoxRefresh:!0,enableBSToppltip:!0,BSTooltipSelector:"[data-toggle='tooltip']",enableFastclick:!1,enableControlTreeView:!0,enableControlSidebar:!0,controlSidebarOptions:{toggleBtnSelector:"[data-toggle='control-sidebar']",selector:".control-sidebar",slide:!0},enableBoxWidget:!0,boxWidgetOptions:{boxWidgetIcons:{collapse:"fa-minus",open:"fa-plus",remove:"fa-times"},boxWidgetSelectors:{remove:'[data-widget="remove"]',collapse:'[data-widget="collapse"]'}},directChat:{enable:!0,contactToggleSelector:'[data-widget="chat-pane-toggle"]'},colors:{lightBlue:"#3c8dbc",red:"#f56954",green:"#00a65a",aqua:"#00c0ef",yellow:"#f39c12",blue:"#0073b7",navy:"#001F3F",teal:"#39CCCC",olive:"#3D9970",lime:"#01FF70",orange:"#FF851B",fuchsia:"#F012BE",purple:"#8E24AA",maroon:"#D81B60",black:"#222222",gray:"#d2d6de"},screenSizes:{xs:480,sm:768,md:992,lg:1200}},$(function(){"use strict";$("body").removeClass("hold-transition"),"undefined"!=typeof AdminLTEOptions&&$.extend(!0,$.AdminLTE.options,AdminLTEOptions);var e=$.AdminLTE.options;_init(),$.AdminLTE.layout.activate(),e.enableControlTreeView&&$.AdminLTE.tree(".sidebar"),e.enableControlSidebar&&$.AdminLTE.controlSidebar.activate(),e.navbarMenuSlimscroll&&void 0!==$.fn.slimscroll&&$(".navbar .menu").slimscroll({height:e.navbarMenuHeight,alwaysVisible:!1,size:e.navbarMenuSlimscrollWidth}).css("width","100%"),e.sidebarPushMenu&&$.AdminLTE.pushMenu.activate(e.sidebarToggleSelector),e.enableBSToppltip&&$("body").tooltip({selector:e.BSTooltipSelector,container:"body"}),e.enableBoxWidget&&$.AdminLTE.boxWidget.activate(),e.enableFastclick&&"undefined"!=typeof FastClick&&FastClick.attach(document.body),e.directChat.enable&&$(document).on("click",e.directChat.contactToggleSelector,function(){$(this).parents(".direct-chat").first().toggleClass("direct-chat-contacts-open")}),$('.btn-group[data-toggle="btn-toggle"]').each(function(){var e=$(this);$(this).find(".btn").on("click",function(t){e.find(".btn.active").removeClass("active"),$(this).addClass("active"),t.preventDefault()})})}),function(e){"use strict";e.fn.boxRefresh=function(t){function n(e){e.append(r),a.onLoadStart.call(e)}function i(e){e.find(r).remove(),a.onLoadDone.call(e)}var a=e.extend({trigger:".refresh-btn",source:"",onLoadStart:function(e){return e},onLoadDone:function(e){return e}},t),r=e('<div class="overlay"><div class="fa fa-refresh fa-spin"></div></div>');return this.each(function(){if(""===a.source)return void(window.console&&window.console.log("Please specify a source first - boxRefresh()"));var t=e(this);t.find(a.trigger).first().on("click",function(e){e.preventDefault(),n(t),t.find(".box-body").load(a.source,function(){i(t)})})})}}(jQuery),function(e){"use strict";e.fn.activateBox=function(){e.AdminLTE.boxWidget.activate(this)},e.fn.toggleBox=function(){var t=e(e.AdminLTE.boxWidget.selectors.collapse,this);e.AdminLTE.boxWidget.collapse(t)},e.fn.removeBox=function(){var t=e(e.AdminLTE.boxWidget.selectors.remove,this);e.AdminLTE.boxWidget.remove(t)}}(jQuery),function(e){"use strict";e.fn.todolist=function(t){var n=e.extend({onCheck:function(e){return e},onUncheck:function(e){return e}},t);return this.each(function(){void 0!==e.fn.iCheck?(e("input",this).on("ifChecked",function(){var t=e(this).parents("li").first();t.toggleClass("done"),n.onCheck.call(t)}),e("input",this).on("ifUnchecked",function(){var t=e(this).parents("li").first();t.toggleClass("done"),n.onUncheck.call(t)})):e("input",this).on("change",function(){var t=e(this).parents("li").first();t.toggleClass("done"),e("input",t).is(":checked")?n.onCheck.call(t):n.onUncheck.call(t)})})}}(jQuery),function(e,t){"use strict";function n(n){e("body").toggleClass(n),t.layout.fixSidebar(),"layout-boxed"==n&&t.controlSidebar._fix(e(".control-sidebar-bg")),e("body").hasClass("fixed")&&"fixed"==n&&(t.pushMenu.expandOnHover(),t.layout.activate()),t.controlSidebar._fix(e(".control-sidebar-bg")),t.controlSidebar._fix(e(".control-sidebar"))}function i(t){return e.each(s,function(t){e("body").removeClass(s[t])}),e("body").addClass(t),a("skin",t),!1}function a(e,t){"undefined"!=typeof Storage?localStorage.setItem(e,t):window.alert("Please use a modern browser to properly view this template!")}function r(e){if("undefined"!=typeof Storage)return localStorage.getItem(e);window.alert("Please use a modern browser to properly view this template!")}var s=["skin-blue","skin-black","skin-red","skin-yellow","skin-purple","skin-green","skin-blue-light","skin-black-light","skin-red-light","skin-yellow-light","skin-purple-light","skin-green-light"],o=e("<div />",{id:"control-sidebar-theme-demo-options-tab",class:"tab-pane active"}),l=e("<li />",{class:"active"}).html("<a href='#control-sidebar-theme-demo-options-tab' data-toggle='tab'><i class='fa fa-wrench'></i></a>");e("[href='#control-sidebar-home-tab']").parent().before(l);var c=e("<div />");c.append("<h4 class='control-sidebar-heading'>Layout Options</h4><div class='form-group'><label class='control-sidebar-subheading'><input type='checkbox' data-layout='fixed' class='pull-right'/> Fixed layout</label><p>Activate the fixed layout. You can't use fixed and boxed layouts together</p></div><div class='form-group'><label class='control-sidebar-subheading'><input type='checkbox' data-layout='layout-boxed'class='pull-right'/> Boxed Layout</label><p>Activate the boxed layout</p></div><div class='form-group'><label class='control-sidebar-subheading'><input type='checkbox' data-layout='sidebar-collapse' class='pull-right'/> Toggle Sidebar</label><p>Toggle the left sidebar's state (open or collapse)</p></div><div class='form-group'><label class='control-sidebar-subheading'><input type='checkbox' data-enable='expandOnHover' class='pull-right'/> Sidebar Expand on Hover</label><p>Let the sidebar mini expand on hover</p></div><div class='form-group'><label class='control-sidebar-subheading'><input type='checkbox' data-controlsidebar='control-sidebar-open' class='pull-right'/> Toggle Right Sidebar Slide</label><p>Toggle between slide over content and push content effects</p></div><div class='form-group'><label class='control-sidebar-subheading'><input type='checkbox' data-sidebarskin='toggle' class='pull-right'/> Toggle Right Sidebar Skin</label><p>Toggle between dark and light skins for the right sidebar</p></div>");var d=e("<ul />",{class:"list-unstyled clearfix"}),u=e("<li />",{style:"float:left; width: 33.33333%; padding: 5px;"}).append("<a href='javascript:void(0);' data-skin='skin-blue' style='display: block; box-shadow: 0 0 3px rgba(0,0,0,0.4)' class='clearfix full-opacity-hover'><div><span style='display:block; width: 20%; float: left; height: 7px; background: #367fa9;'></span><span class='bg-light-blue' style='display:block; width: 80%; float: left; height: 7px;'></span></div><div><span style='display:block; width: 20%; float: left; height: 20px; background: #222d32;'></span><span style='display:block; width: 80%; float: left; height: 20px; background: #f4f5f7;'></span></div></a><p class='text-center no-margin'>Blue</p>");d.append(u);var h=e("<li />",{style:"float:left; width: 33.33333%; padding: 5px;"}).append("<a href='javascript:void(0);' data-skin='skin-black' style='display: block; box-shadow: 0 0 3px rgba(0,0,0,0.4)' class='clearfix full-opacity-hover'><div style='box-shadow: 0 0 2px rgba(0,0,0,0.1)' class='clearfix'><span style='display:block; width: 20%; float: left; height: 7px; background: #fefefe;'></span><span style='display:block; width: 80%; float: left; height: 7px; background: #fefefe;'></span></div><div><span style='display:block; width: 20%; float: left; height: 20px; background: #222;'></span><span style='display:block; width: 80%; float: left; height: 20px; background: #f4f5f7;'></span></div></a><p class='text-center no-margin'>Black</p>");d.append(h);var f=e("<li />",{style:"float:left; width: 33.33333%; padding: 5px;"}).append("<a href='javascript:void(0);' data-skin='skin-purple' style='display: block; box-shadow: 0 0 3px rgba(0,0,0,0.4)' class='clearfix full-opacity-hover'><div><span style='display:block; width: 20%; float: left; height: 7px;' class='bg-purple-active'></span><span class='bg-purple' style='display:block; width: 80%; float: left; height: 7px;'></span></div><div><span style='display:block; width: 20%; float: left; height: 20px; background: #222d32;'></span><span style='display:block; width: 80%; float: left; height: 20px; background: #f4f5f7;'></span></div></a><p class='text-center no-margin'>Purple</p>");d.append(f);var p=e("<li />",{style:"float:left; width: 33.33333%; padding: 5px;"}).append("<a href='javascript:void(0);' data-skin='skin-green' style='display: block; box-shadow: 0 0 3px rgba(0,0,0,0.4)' class='clearfix full-opacity-hover'><div><span style='display:block; width: 20%; float: left; height: 7px;' class='bg-green-active'></span><span class='bg-green' style='display:block; width: 80%; float: left; height: 7px;'></span></div><div><span style='display:block; width: 20%; float: left; height: 20px; background: #222d32;'></span><span style='display:block; width: 80%; float: left; height: 20px; background: #f4f5f7;'></span></div></a><p class='text-center no-margin'>Green</p>");d.append(p);var m=e("<li />",{style:"float:left; width: 33.33333%; padding: 5px;"}).append("<a href='javascript:void(0);' data-skin='skin-red' style='display: block; box-shadow: 0 0 3px rgba(0,0,0,0.4)' class='clearfix full-opacity-hover'><div><span style='display:block; width: 20%; float: left; height: 7px;' class='bg-red-active'></span><span class='bg-red' style='display:block; width: 80%; float: left; height: 7px;'></span></div><div><span style='display:block; width: 20%; float: left; height: 20px; background: #222d32;'></span><span style='display:block; width: 80%; float: left; height: 20px; background: #f4f5f7;'></span></div></a><p class='text-center no-margin'>Red</p>");d.append(m);var g=e("<li />",{style:"float:left; width: 33.33333%; padding: 5px;"}).append("<a href='javascript:void(0);' data-skin='skin-yellow' style='display: block; box-shadow: 0 0 3px rgba(0,0,0,0.4)' class='clearfix full-opacity-hover'><div><span style='display:block; width: 20%; float: left; height: 7px;' class='bg-yellow-active'></span><span class='bg-yellow' style='display:block; width: 80%; float: left; height: 7px;'></span></div><div><span style='display:block; width: 20%; float: left; height: 20px; background: #222d32;'></span><span style='display:block; width: 80%; float: left; height: 20px; background: #f4f5f7;'></span></div></a><p class='text-center no-margin'>Yellow</p>");d.append(g);var y=e("<li />",{style:"float:left; width: 33.33333%; padding: 5px;"}).append("<a href='javascript:void(0);' data-skin='skin-blue-light' style='display: block; box-shadow: 0 0 3px rgba(0,0,0,0.4)' class='clearfix full-opacity-hover'><div><span style='display:block; width: 20%; float: left; height: 7px; background: #367fa9;'></span><span class='bg-light-blue' style='display:block; width: 80%; float: left; height: 7px;'></span></div><div><span style='display:block; width: 20%; float: left; height: 20px; background: #f9fafc;'></span><span style='display:block; width: 80%; float: left; height: 20px; background: #f4f5f7;'></span></div></a><p class='text-center no-margin' style='font-size: 12px'>Blue Light</p>");d.append(y);var v=e("<li />",{style:"float:left; width: 33.33333%; padding: 5px;"}).append("<a href='javascript:void(0);' data-skin='skin-black-light' style='display: block; box-shadow: 0 0 3px rgba(0,0,0,0.4)' class='clearfix full-opacity-hover'><div style='box-shadow: 0 0 2px rgba(0,0,0,0.1)' class='clearfix'><span style='display:block; width: 20%; float: left; height: 7px; background: #fefefe;'></span><span style='display:block; width: 80%; float: left; height: 7px; background: #fefefe;'></span></div><div><span style='display:block; width: 20%; float: left; height: 20px; background: #f9fafc;'></span><span style='display:block; width: 80%; float: left; height: 20px; background: #f4f5f7;'></span></div></a><p class='text-center no-margin' style='font-size: 12px'>Black Light</p>");d.append(v);var b=e("<li />",{style:"float:left; width: 33.33333%; padding: 5px;"}).append("<a href='javascript:void(0);' data-skin='skin-purple-light' style='display: block; box-shadow: 0 0 3px rgba(0,0,0,0.4)' class='clearfix full-opacity-hover'><div><span style='display:block; width: 20%; float: left; height: 7px;' class='bg-purple-active'></span><span class='bg-purple' style='display:block; width: 80%; float: left; height: 7px;'></span></div><div><span style='display:block; width: 20%; float: left; height: 20px; background: #f9fafc;'></span><span style='display:block; width: 80%; float: left; height: 20px; background: #f4f5f7;'></span></div></a><p class='text-center no-margin' style='font-size: 12px'>Purple Light</p>");d.append(b);var w=e("<li />",{style:"float:left; width: 33.33333%; padding: 5px;"}).append("<a href='javascript:void(0);' data-skin='skin-green-light' style='display: block; box-shadow: 0 0 3px rgba(0,0,0,0.4)' class='clearfix full-opacity-hover'><div><span style='display:block; width: 20%; float: left; height: 7px;' class='bg-green-active'></span><span class='bg-green' style='display:block; width: 80%; float: left; height: 7px;'></span></div><div><span style='display:block; width: 20%; float: left; height: 20px; background: #f9fafc;'></span><span style='display:block; width: 80%; float: left; height: 20px; background: #f4f5f7;'></span></div></a><p class='text-center no-margin' style='font-size: 12px'>Green Light</p>");d.append(w);var C=e("<li />",{style:"float:left; width: 33.33333%; padding: 5px;"}).append("<a href='javascript:void(0);' data-skin='skin-red-light' style='display: block; box-shadow: 0 0 3px rgba(0,0,0,0.4)' class='clearfix full-opacity-hover'><div><span style='display:block; width: 20%; float: left; height: 7px;' class='bg-red-active'></span><span class='bg-red' style='display:block; width: 80%; float: left; height: 7px;'></span></div><div><span style='display:block; width: 20%; float: left; height: 20px; background: #f9fafc;'></span><span style='display:block; width: 80%; float: left; height: 20px; background: #f4f5f7;'></span></div></a><p class='text-center no-margin' style='font-size: 12px'>Red Light</p>");d.append(C);var x=e("<li />",{style:"float:left; width: 33.33333%; padding: 5px;"}).append("<a href='javascript:void(0);' data-skin='skin-yellow-light' style='display: block; box-shadow: 0 0 3px rgba(0,0,0,0.4)' class='clearfix full-opacity-hover'><div><span style='display:block; width: 20%; float: left; height: 7px;' class='bg-yellow-active'></span><span class='bg-yellow' style='display:block; width: 80%; float: left; height: 7px;'></span></div><div><span style='display:block; width: 20%; float: left; height: 20px; background: #f9fafc;'></span><span style='display:block; width: 80%; float: left; height: 20px; background: #f4f5f7;'></span></div></a><p class='text-center no-margin' style='font-size: 12px;'>Yellow Light</p>");d.append(x),c.append("<h4 class='control-sidebar-heading'>Skins</h4>"),c.append(d),o.append(c),e("#control-sidebar-home-tab").after(o),function(){var a=r("skin");a&&e.inArray(a,s)&&i(a),e("[data-skin]").on("click",function(t){e(this).hasClass("knob")||(t.preventDefault(),i(e(this).data("skin")))}),e("[data-layout]").on("click",function(){n(e(this).data("layout"))}),e("[data-controlsidebar]").on("click",function(){n(e(this).data("controlsidebar"));var i=!t.options.controlSidebarOptions.slide;t.options.controlSidebarOptions.slide=i,i||e(".control-sidebar").removeClass("control-sidebar-open")}),e("[data-sidebarskin='toggle']").on("click",function(){var t=e(".control-sidebar");t.hasClass("control-sidebar-dark")?(t.removeClass("control-sidebar-dark"),t.addClass("control-sidebar-light")):(t.removeClass("control-sidebar-light"),t.addClass("control-sidebar-dark"))}),e("[data-enable='expandOnHover']").on("click",function(){e(this).attr("disabled",!0),t.pushMenu.expandOnHover(),e("body").hasClass("sidebar-collapse")||e("[data-layout='sidebar-collapse']").click()}),e("body").hasClass("fixed")&&e("[data-layout='fixed']").attr("checked","checked"),e("body").hasClass("layout-boxed")&&e("[data-layout='layout-boxed']").attr("checked","checked"),e("body").hasClass("sidebar-collapse")&&e("[data-layout='sidebar-collapse']").attr("checked","checked")}()}(jQuery,$.AdminLTE),$(function(){$(".select2").select2(),$("#datemask").inputmask("dd/mm/yyyy",{placeholder:"dd/mm/yyyy"}),$("#datemask2").inputmask("mm/dd/yyyy",{placeholder:"mm/dd/yyyy"}),$("[data-mask]").inputmask(),$("#reservation").daterangepicker(),$("#reservationtime").daterangepicker({timePicker:!0,timePickerIncrement:30,format:"MM/DD/YYYY h:mm A"}),$("#daterange-btn").daterangepicker({ranges:{Today:[moment(),moment()],Yesterday:[moment().subtract(1,"days"),moment().subtract(1,"days")],"Last 7 Days":[moment().subtract(6,"days"),moment()],"Last 30 Days":[moment().subtract(29,"days"),moment()],"This Month":[moment().startOf("month"),moment().endOf("month")],"Last Month":[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")]},startDate:moment().subtract(29,"days"),endDate:moment()},function(e,t){$("#daterange-btn span").html(e.format("MMMM D, YYYY")+" - "+t.format("MMMM D, YYYY"))}),$("#datepicker").datepicker({autoclose:!0}),$('input[type="checkbox"].minimal, input[type="radio"].minimal').iCheck({checkboxClass:"icheckbox_minimal-blue",radioClass:"iradio_minimal-blue"}),$('input[type="checkbox"].minimal-red, input[type="radio"].minimal-red').iCheck({checkboxClass:"icheckbox_minimal-red",radioClass:"iradio_minimal-red"}),$('input[type="checkbox"].flat-red, input[type="radio"].flat-red').iCheck({checkboxClass:"icheckbox_flat-green",radioClass:"iradio_flat-green"}),$(".my-colorpicker1").colorpicker(),$(".my-colorpicker2").colorpicker(),$(".timepicker").timepicker({showInputs:!1}),$(".textarea").wysihtml5({toolbar:{html:!0}}),$(".data-table").DataTable({rowReorder:{selector:"td:nth-child(2)"},paging:!0,lengthChange:!1,searching:!1,ordering:!0,info:!0,autoWidth:!0,responsive:!0,scroll:!0,scrollX:!0,scrollCollapse:!0}),$("[data-method]").append(function(){(void 0!=$(this).attr("data-method")||""!=$(this).attr("data-method"))&&$(this).attr("data-method");var e=$(this).attr("data-alert"),t=$(this).attr("data-message"),n=null;switch(e){case"send_email":n="send_email";break;case"released_for_certification":n="released_for_certification";break;default:n="delete_item"}return"\n<form action='"+$(this).attr("href")+"' method='POST' data-message='"+t+"' name='"+n+"' style='display:none'>\n   <input type='hidden' name='_method' value='"+$(this).attr("data-method")+"'>\n   <input type='hidden' name='_token' value='"+$('meta[name="_token"]').attr("content")+"'>\n</form>\n"}).removeAttr("href").attr("style","cursor:pointer;").attr("onclick",'$(this).find("form").submit();'),$("form[name=delete_item]").submit(function(){return confirm("Tem certeza que deseja excluir esse item?")}),$('[data-toggle="tooltip"]').tooltip(),$(".answer-yes").css({display:"none"}),$("input").iCheck("ifClicked",function(){alert("ad")})});